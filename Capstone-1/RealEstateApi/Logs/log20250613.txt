2025-06-13 00:00:52.869 +05:30 [INF] Application is shutting down...
2025-06-13 00:00:57.364 +05:30 [INF] User profile is available. Using '/Users/muckesh/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2025-06-13 00:00:57.472 +05:30 [INF] Now listening on: http://localhost:5009
2025-06-13 00:00:57.475 +05:30 [INF] Application started. Press Ctrl+C to shut down.
2025-06-13 00:00:57.475 +05:30 [INF] Hosting environment: Development
2025-06-13 00:00:57.475 +05:30 [INF] Content root path: /Users/muckesh/Muckesh/Presidio/Genspark-Training/Capstone-1/RealEstateApi
2025-06-13 00:01:01.047 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5009/swagger/index.html - null null
2025-06-13 00:01:01.137 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5009/swagger/index.html - 200 null text/html;charset=utf-8 91.6183ms
2025-06-13 00:01:01.296 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5009/swagger/v1/swagger.json - null null
2025-06-13 00:01:01.449 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5009/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 153.1772ms
2025-06-13 00:01:11.648 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5009/api/v1/User - null null
2025-06-13 00:01:11.677 +05:30 [WRN] Failed to determine the https port for redirect.
2025-06-13 00:01:11.721 +05:30 [INF] Executing endpoint 'RealEstateApi.Controllers.UserController.GetFilteredUsers (RealEstateApi)'
2025-06-13 00:01:11.747 +05:30 [INF] Route matched with {action = "GetFilteredUsers", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[RealEstateApi.Models.DTOs.PagedResult`1[RealEstateApi.Models.User]]] GetFilteredUsers(RealEstateApi.Models.DTOs.UserQueryDto) on controller RealEstateApi.Controllers.UserController (RealEstateApi).
2025-06-13 00:01:12.970 +05:30 [INF] Executed DbCommand (23ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."Email", u."IsDeleted", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role"
FROM "Users" AS u
WHERE NOT (u."IsDeleted")
2025-06-13 00:01:12.998 +05:30 [INF] Executing OkObjectResult, writing value of type 'RealEstateApi.Models.DTOs.PagedResult`1[[RealEstateApi.Models.User, RealEstateApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-13 00:01:13.048 +05:30 [INF] Executed action RealEstateApi.Controllers.UserController.GetFilteredUsers (RealEstateApi) in 1298.5056ms
2025-06-13 00:01:13.049 +05:30 [INF] Executed endpoint 'RealEstateApi.Controllers.UserController.GetFilteredUsers (RealEstateApi)'
2025-06-13 00:01:13.058 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5009/api/v1/User - 200 null application/json; charset=utf-8 1410.5013ms
2025-06-13 00:01:36.715 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5009/api/v1/User/create-admin - application/json 77
2025-06-13 00:01:36.720 +05:30 [INF] Executing endpoint 'RealEstateApi.Controllers.UserController.CreateAdmin (RealEstateApi)'
2025-06-13 00:01:36.727 +05:30 [INF] Route matched with {action = "CreateAdmin", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateAdmin(RealEstateApi.Models.DTOs.CreateUserDto) on controller RealEstateApi.Controllers.UserController (RealEstateApi).
2025-06-13 00:01:36.763 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."Email", u."IsDeleted", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role"
FROM "Users" AS u
WHERE NOT (u."IsDeleted")
2025-06-13 00:01:36.766 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."Email", u."IsDeleted", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role"
FROM "Users" AS u
WHERE NOT (u."IsDeleted")
2025-06-13 00:01:37.300 +05:30 [INF] Executed DbCommand (85ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime), @p2='?', @p3='?' (DbType = Boolean), @p4='?', @p5='?', @p6='?', @p7='?' (DbType = DateTime), @p8='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Users" ("Id", "CreatedAt", "Email", "IsDeleted", "Name", "PasswordHash", "RefreshToken", "RefreshTokenExpiryTime", "Role")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
2025-06-13 00:01:37.366 +05:30 [INF] Executed DbCommand (4ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?', @p3='?', @p4='?', @p5='?', @p6='?' (DbType = DateTime), @p7='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AuditLogs" ("Id", "ActionType", "NewValues", "OldValues", "PrimaryKey", "TableName", "Timestamp", "UserId")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
2025-06-13 00:01:37.369 +05:30 [INF] Executing CreatedResult, writing value of type 'RealEstateApi.Models.User'.
2025-06-13 00:01:37.379 +05:30 [INF] Executed action RealEstateApi.Controllers.UserController.CreateAdmin (RealEstateApi) in 651.1955ms
2025-06-13 00:01:37.379 +05:30 [INF] Executed endpoint 'RealEstateApi.Controllers.UserController.CreateAdmin (RealEstateApi)'
2025-06-13 00:01:37.379 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5009/api/v1/User/create-admin - 201 null application/json; charset=utf-8 664.063ms
2025-06-13 00:09:32.910 +05:30 [INF] Application is shutting down...
2025-06-13 00:09:38.305 +05:30 [INF] User profile is available. Using '/Users/muckesh/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2025-06-13 00:09:38.427 +05:30 [INF] Now listening on: http://localhost:5009
2025-06-13 00:09:38.430 +05:30 [INF] Application started. Press Ctrl+C to shut down.
2025-06-13 00:09:38.430 +05:30 [INF] Hosting environment: Development
2025-06-13 00:09:38.431 +05:30 [INF] Content root path: /Users/muckesh/Muckesh/Presidio/Genspark-Training/Capstone-1/RealEstateApi
2025-06-13 00:09:38.912 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5009/swagger/index.html - null null
2025-06-13 00:09:38.986 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5009/swagger/index.html - 200 null text/html;charset=utf-8 75.1748ms
2025-06-13 00:09:39.054 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5009/swagger/v1/swagger.json - null null
2025-06-13 00:09:39.207 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5009/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 154.2917ms
2025-06-13 00:09:48.172 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5009/api/v1/User - null null
2025-06-13 00:09:48.198 +05:30 [WRN] Failed to determine the https port for redirect.
2025-06-13 00:09:48.231 +05:30 [INF] Executing endpoint 'RealEstateApi.Controllers.UserController.GetFilteredUsers (RealEstateApi)'
2025-06-13 00:09:48.255 +05:30 [INF] Route matched with {action = "GetFilteredUsers", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[RealEstateApi.Models.DTOs.PagedResult`1[RealEstateApi.Models.User]]] GetFilteredUsers(RealEstateApi.Models.DTOs.UserQueryDto) on controller RealEstateApi.Controllers.UserController (RealEstateApi).
2025-06-13 00:09:49.435 +05:30 [INF] Executed DbCommand (21ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."Email", u."IsDeleted", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role"
FROM "Users" AS u
WHERE NOT (u."IsDeleted")
2025-06-13 00:09:49.566 +05:30 [INF] Executing OkObjectResult, writing value of type 'RealEstateApi.Models.DTOs.PagedResult`1[[RealEstateApi.Models.User, RealEstateApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-13 00:09:49.620 +05:30 [INF] Executed action RealEstateApi.Controllers.UserController.GetFilteredUsers (RealEstateApi) in 1362.1804ms
2025-06-13 00:09:49.621 +05:30 [INF] Executed endpoint 'RealEstateApi.Controllers.UserController.GetFilteredUsers (RealEstateApi)'
2025-06-13 00:09:49.629 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5009/api/v1/User - 200 null application/json; charset=utf-8 1457.2813ms
2025-06-13 00:10:24.297 +05:30 [INF] Request starting HTTP/1.1 PUT http://localhost:5009/api/v1/User/01976569-6b6c-78ce-942d-622e3bda9de9 - application/json 27
2025-06-13 00:10:24.321 +05:30 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin)
2025-06-13 00:10:24.325 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2025-06-13 00:10:24.326 +05:30 [INF] Request finished HTTP/1.1 PUT http://localhost:5009/api/v1/User/01976569-6b6c-78ce-942d-622e3bda9de9 - 401 0 null 29.014ms
2025-06-13 00:11:10.025 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5009/api/v1/Auth/login - application/json 58
2025-06-13 00:11:10.027 +05:30 [INF] Executing endpoint 'RealEstateApi.Controllers.AuthController.Login (RealEstateApi)'
2025-06-13 00:11:10.048 +05:30 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[RealEstateApi.Models.DTOs.AuthResponseDto]] Login(RealEstateApi.Models.DTOs.LoginDto) on controller RealEstateApi.Controllers.AuthController (RealEstateApi).
2025-06-13 00:11:10.083 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."Email", u."IsDeleted", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role"
FROM "Users" AS u
WHERE NOT (u."IsDeleted")
2025-06-13 00:11:10.421 +05:30 [INF] Executed DbCommand (9ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."Email", u."IsDeleted", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role"
FROM "Users" AS u
WHERE NOT (u."IsDeleted") AND u."Id" = @__id_0
LIMIT 2
2025-06-13 00:11:10.517 +05:30 [INF] Executed DbCommand (9ms) [Parameters=[@p2='?' (DbType = Guid), @p0='?', @p1='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Users" SET "RefreshToken" = @p0, "RefreshTokenExpiryTime" = @p1
WHERE "Id" = @p2;
2025-06-13 00:11:10.584 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?', @p3='?', @p4='?', @p5='?', @p6='?' (DbType = DateTime), @p7='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AuditLogs" ("Id", "ActionType", "NewValues", "OldValues", "PrimaryKey", "TableName", "Timestamp", "UserId")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
2025-06-13 00:11:10.585 +05:30 [INF] Executing OkObjectResult, writing value of type 'RealEstateApi.Models.DTOs.AuthResponseDto'.
2025-06-13 00:11:10.587 +05:30 [INF] Executed action RealEstateApi.Controllers.AuthController.Login (RealEstateApi) in 539.1273ms
2025-06-13 00:11:10.588 +05:30 [INF] Executed endpoint 'RealEstateApi.Controllers.AuthController.Login (RealEstateApi)'
2025-06-13 00:11:10.588 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5009/api/v1/Auth/login - 200 null application/json; charset=utf-8 563.8501ms
2025-06-13 00:11:28.105 +05:30 [INF] Request starting HTTP/1.1 PUT http://localhost:5009/api/v1/User/01976569-6b6c-78ce-942d-622e3bda9de9 - application/json 27
2025-06-13 00:11:28.146 +05:30 [INF] Executing endpoint 'RealEstateApi.Controllers.UserController.UpdateUser (RealEstateApi)'
2025-06-13 00:11:28.151 +05:30 [INF] Route matched with {action = "UpdateUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateUser(System.Guid, RealEstateApi.Models.DTOs.UpdateUserDto) on controller RealEstateApi.Controllers.UserController (RealEstateApi).
2025-06-13 00:11:28.211 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."Email", u."IsDeleted", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role"
FROM "Users" AS u
WHERE NOT (u."IsDeleted") AND u."Id" = @__id_0
LIMIT 2
2025-06-13 00:11:28.213 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."Email", u."IsDeleted", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role"
FROM "Users" AS u
WHERE NOT (u."IsDeleted") AND u."Id" = @__id_0
LIMIT 2
2025-06-13 00:11:28.215 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@p1='?' (DbType = Guid), @p0='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "Users" SET "Name" = @p0
WHERE "Id" = @p1;
2025-06-13 00:11:28.217 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?', @p3='?', @p4='?', @p5='?', @p6='?' (DbType = DateTime), @p7='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AuditLogs" ("Id", "ActionType", "NewValues", "OldValues", "PrimaryKey", "TableName", "Timestamp", "UserId")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
2025-06-13 00:11:28.218 +05:30 [INF] Executing OkObjectResult, writing value of type 'RealEstateApi.Models.User'.
2025-06-13 00:11:28.219 +05:30 [INF] Executed action RealEstateApi.Controllers.UserController.UpdateUser (RealEstateApi) in 67.8117ms
2025-06-13 00:11:28.219 +05:30 [INF] Executed endpoint 'RealEstateApi.Controllers.UserController.UpdateUser (RealEstateApi)'
2025-06-13 00:11:28.219 +05:30 [INF] Request finished HTTP/1.1 PUT http://localhost:5009/api/v1/User/01976569-6b6c-78ce-942d-622e3bda9de9 - 200 null application/json; charset=utf-8 113.8207ms
2025-06-13 00:12:17.663 +05:30 [INF] Request starting HTTP/1.1 PUT http://localhost:5009/api/v1/User/01976569-6b6c-78ce-942d-622e3bda9de9/change-password - application/json 61
2025-06-13 00:12:17.666 +05:30 [INF] Executing endpoint 'RealEstateApi.Controllers.UserController.ChangePassword (RealEstateApi)'
2025-06-13 00:12:17.672 +05:30 [INF] Route matched with {action = "ChangePassword", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ChangePassword(System.Guid, RealEstateApi.Models.DTOs.ChangePasswordDto) on controller RealEstateApi.Controllers.UserController (RealEstateApi).
2025-06-13 00:12:17.680 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."Email", u."IsDeleted", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role"
FROM "Users" AS u
WHERE NOT (u."IsDeleted") AND u."Id" = @__id_0
LIMIT 2
2025-06-13 00:12:18.108 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."Email", u."IsDeleted", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role"
FROM "Users" AS u
WHERE NOT (u."IsDeleted") AND u."Id" = @__id_0
LIMIT 2
2025-06-13 00:12:18.110 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@p1='?' (DbType = Guid), @p0='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "Users" SET "PasswordHash" = @p0
WHERE "Id" = @p1;
2025-06-13 00:12:18.111 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?', @p3='?', @p4='?', @p5='?', @p6='?' (DbType = DateTime), @p7='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AuditLogs" ("Id", "ActionType", "NewValues", "OldValues", "PrimaryKey", "TableName", "Timestamp", "UserId")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
2025-06-13 00:12:18.112 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2025-06-13 00:12:18.112 +05:30 [INF] Executed action RealEstateApi.Controllers.UserController.ChangePassword (RealEstateApi) in 439.9668ms
2025-06-13 00:12:18.112 +05:30 [INF] Executed endpoint 'RealEstateApi.Controllers.UserController.ChangePassword (RealEstateApi)'
2025-06-13 00:12:18.112 +05:30 [INF] Request finished HTTP/1.1 PUT http://localhost:5009/api/v1/User/01976569-6b6c-78ce-942d-622e3bda9de9/change-password - 200 null text/plain; charset=utf-8 448.8837ms
2025-06-13 00:12:29.668 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5009/api/v1/Auth/login - application/json 58
2025-06-13 00:12:29.669 +05:30 [INF] Executing endpoint 'RealEstateApi.Controllers.AuthController.Login (RealEstateApi)'
2025-06-13 00:12:29.669 +05:30 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[RealEstateApi.Models.DTOs.AuthResponseDto]] Login(RealEstateApi.Models.DTOs.LoginDto) on controller RealEstateApi.Controllers.AuthController (RealEstateApi).
2025-06-13 00:12:29.672 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."Email", u."IsDeleted", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role"
FROM "Users" AS u
WHERE NOT (u."IsDeleted")
2025-06-13 00:12:29.846 +05:30 [INF] Executing BadRequestObjectResult, writing value of type 'System.String'.
2025-06-13 00:12:29.847 +05:30 [INF] Executed action RealEstateApi.Controllers.AuthController.Login (RealEstateApi) in 177.5845ms
2025-06-13 00:12:29.847 +05:30 [INF] Executed endpoint 'RealEstateApi.Controllers.AuthController.Login (RealEstateApi)'
2025-06-13 00:12:29.847 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5009/api/v1/Auth/login - 400 null text/plain; charset=utf-8 179.4448ms
2025-06-13 00:12:35.689 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5009/api/v1/Auth/login - application/json 59
2025-06-13 00:12:35.690 +05:30 [INF] Executing endpoint 'RealEstateApi.Controllers.AuthController.Login (RealEstateApi)'
2025-06-13 00:12:35.690 +05:30 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[RealEstateApi.Models.DTOs.AuthResponseDto]] Login(RealEstateApi.Models.DTOs.LoginDto) on controller RealEstateApi.Controllers.AuthController (RealEstateApi).
2025-06-13 00:12:35.692 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."Email", u."IsDeleted", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role"
FROM "Users" AS u
WHERE NOT (u."IsDeleted")
2025-06-13 00:12:35.883 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."Email", u."IsDeleted", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role"
FROM "Users" AS u
WHERE NOT (u."IsDeleted") AND u."Id" = @__id_0
LIMIT 2
2025-06-13 00:12:35.885 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@p2='?' (DbType = Guid), @p0='?', @p1='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Users" SET "RefreshToken" = @p0, "RefreshTokenExpiryTime" = @p1
WHERE "Id" = @p2;
2025-06-13 00:12:35.886 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?', @p3='?', @p4='?', @p5='?', @p6='?' (DbType = DateTime), @p7='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AuditLogs" ("Id", "ActionType", "NewValues", "OldValues", "PrimaryKey", "TableName", "Timestamp", "UserId")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
2025-06-13 00:12:35.886 +05:30 [INF] Executing OkObjectResult, writing value of type 'RealEstateApi.Models.DTOs.AuthResponseDto'.
2025-06-13 00:12:35.886 +05:30 [INF] Executed action RealEstateApi.Controllers.AuthController.Login (RealEstateApi) in 196.6686ms
2025-06-13 00:12:35.887 +05:30 [INF] Executed endpoint 'RealEstateApi.Controllers.AuthController.Login (RealEstateApi)'
2025-06-13 00:12:35.887 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5009/api/v1/Auth/login - 200 null application/json; charset=utf-8 197.5101ms
2025-06-13 00:13:21.692 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5009/swagger/index.html - null null
2025-06-13 00:13:21.693 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5009/swagger/index.html - 200 null text/html;charset=utf-8 1.0734ms
2025-06-13 00:13:21.766 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5009/swagger/v1/swagger.json - null null
2025-06-13 00:13:21.788 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5009/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 22.2083ms
2025-06-13 00:17:49.680 +05:30 [INF] Application is shutting down...
2025-06-13 00:17:55.491 +05:30 [INF] User profile is available. Using '/Users/muckesh/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2025-06-13 00:17:55.663 +05:30 [INF] Now listening on: http://localhost:5009
2025-06-13 00:17:55.666 +05:30 [INF] Application started. Press Ctrl+C to shut down.
2025-06-13 00:17:55.666 +05:30 [INF] Hosting environment: Development
2025-06-13 00:17:55.666 +05:30 [INF] Content root path: /Users/muckesh/Muckesh/Presidio/Genspark-Training/Capstone-1/RealEstateApi
2025-06-13 00:17:56.342 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5009/swagger/index.html - null null
2025-06-13 00:17:56.421 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5009/swagger/index.html - 200 null text/html;charset=utf-8 80.4595ms
2025-06-13 00:17:56.519 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5009/swagger/v1/swagger.json - null null
2025-06-13 00:17:56.748 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5009/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 229.3183ms
2025-06-13 00:19:58.712 +05:30 [INF] Application is shutting down...
2025-06-13 00:20:03.179 +05:30 [INF] User profile is available. Using '/Users/muckesh/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2025-06-13 00:20:03.302 +05:30 [INF] Now listening on: http://localhost:5009
2025-06-13 00:20:03.305 +05:30 [INF] Application started. Press Ctrl+C to shut down.
2025-06-13 00:20:03.306 +05:30 [INF] Hosting environment: Development
2025-06-13 00:20:03.306 +05:30 [INF] Content root path: /Users/muckesh/Muckesh/Presidio/Genspark-Training/Capstone-1/RealEstateApi
2025-06-13 00:20:05.566 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5009/swagger/index.html - null null
2025-06-13 00:20:05.656 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5009/swagger/index.html - 200 null text/html;charset=utf-8 90.4922ms
2025-06-13 00:20:05.715 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5009/swagger/v1/swagger.json - null null
2025-06-13 00:20:05.880 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5009/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 165.9076ms
2025-06-13 00:20:05.883 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5009/swagger/index.html - null null
2025-06-13 00:20:05.884 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5009/swagger/index.html - 200 null text/html;charset=utf-8 1.0557ms
2025-06-13 00:20:05.977 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5009/swagger/v1/swagger.json - null null
2025-06-13 00:20:05.997 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5009/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 19.8835ms
2025-06-13 00:20:21.628 +05:30 [INF] Application is shutting down...
2025-06-13 00:20:25.931 +05:30 [INF] User profile is available. Using '/Users/muckesh/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2025-06-13 00:20:26.043 +05:30 [INF] Now listening on: http://localhost:5009
2025-06-13 00:20:26.046 +05:30 [INF] Application started. Press Ctrl+C to shut down.
2025-06-13 00:20:26.047 +05:30 [INF] Hosting environment: Development
2025-06-13 00:20:26.047 +05:30 [INF] Content root path: /Users/muckesh/Muckesh/Presidio/Genspark-Training/Capstone-1/RealEstateApi
2025-06-13 00:20:26.137 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5009/swagger/index.html - null null
2025-06-13 00:20:26.223 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5009/swagger/index.html - 200 null text/html;charset=utf-8 87.6518ms
2025-06-13 00:20:26.273 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5009/swagger/v1/swagger.json - null null
2025-06-13 00:20:26.400 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5009/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 127.3909ms
2025-06-13 00:20:31.638 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5009/api/v1/Agents - null null
2025-06-13 00:20:31.664 +05:30 [WRN] Failed to determine the https port for redirect.
2025-06-13 00:20:31.697 +05:30 [INF] Executing endpoint 'RealEstateApi.Controllers.AgentsController.GetFilteredAgents (RealEstateApi)'
2025-06-13 00:20:31.722 +05:30 [INF] Route matched with {action = "GetFilteredAgents", controller = "Agents"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetFilteredAgents(AgentQueryDto) on controller RealEstateApi.Controllers.AgentsController (RealEstateApi).
2025-06-13 00:20:32.958 +05:30 [INF] Executed DbCommand (23ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AgencyName", a."LicenseNumber", a."Phone", u."Id", u."CreatedAt", u."Email", u."IsDeleted", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", p."Id", p."AgentId", p."Bathrooms", p."Bedrooms", p."CreatedAt", p."Description", p."IsDeleted", p."Location", p."Price", p."SquareFeet", p."Title"
FROM "Agents" AS a
INNER JOIN "Users" AS u ON a."Id" = u."Id"
LEFT JOIN "PropertyListings" AS p ON a."Id" = p."AgentId"
WHERE NOT (u."IsDeleted")
ORDER BY a."Id", u."Id"
2025-06-13 00:20:32.985 +05:30 [INF] Executing OkObjectResult, writing value of type 'RealEstateApi.Models.DTOs.PagedResult`1[[RealEstateApi.Models.Agent, RealEstateApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-13 00:20:33.043 +05:30 [INF] Executed action RealEstateApi.Controllers.AgentsController.GetFilteredAgents (RealEstateApi) in 1318.1335ms
2025-06-13 00:20:33.044 +05:30 [INF] Executed endpoint 'RealEstateApi.Controllers.AgentsController.GetFilteredAgents (RealEstateApi)'
2025-06-13 00:20:33.052 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5009/api/v1/Agents - 200 null application/json; charset=utf-8 1413.9527ms
2025-06-13 00:21:08.608 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5009/api/v1/Agents/register-agent - application/json 170
2025-06-13 00:21:08.614 +05:30 [INF] Executing endpoint 'RealEstateApi.Controllers.AgentsController.RegisterAgent (RealEstateApi)'
2025-06-13 00:21:08.620 +05:30 [INF] Route matched with {action = "RegisterAgent", controller = "Agents"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[RealEstateApi.Models.DTOs.AuthResponseDto]] RegisterAgent(RealEstateApi.Models.DTOs.RegisterAgentDto) on controller RealEstateApi.Controllers.AgentsController (RealEstateApi).
2025-06-13 00:21:08.664 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."Email", u."IsDeleted", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role"
FROM "Users" AS u
WHERE NOT (u."IsDeleted")
2025-06-13 00:21:09.153 +05:30 [INF] Executed DbCommand (12ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime), @p2='?', @p3='?' (DbType = Boolean), @p4='?', @p5='?', @p6='?', @p7='?' (DbType = DateTime), @p8='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Users" ("Id", "CreatedAt", "Email", "IsDeleted", "Name", "PasswordHash", "RefreshToken", "RefreshTokenExpiryTime", "Role")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
2025-06-13 00:21:09.197 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?', @p3='?', @p4='?', @p5='?', @p6='?' (DbType = DateTime), @p7='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AuditLogs" ("Id", "ActionType", "NewValues", "OldValues", "PrimaryKey", "TableName", "Timestamp", "UserId")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
2025-06-13 00:21:09.225 +05:30 [INF] Executed DbCommand (5ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?', @p3='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Agents" ("Id", "AgencyName", "LicenseNumber", "Phone")
VALUES (@p0, @p1, @p2, @p3);
2025-06-13 00:21:09.228 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?', @p3='?', @p4='?', @p5='?', @p6='?' (DbType = DateTime), @p7='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AuditLogs" ("Id", "ActionType", "NewValues", "OldValues", "PrimaryKey", "TableName", "Timestamp", "UserId")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
2025-06-13 00:21:09.250 +05:30 [INF] Executing CreatedResult, writing value of type 'RealEstateApi.Models.DTOs.AuthResponseDto'.
2025-06-13 00:21:09.252 +05:30 [INF] Executed action RealEstateApi.Controllers.AgentsController.RegisterAgent (RealEstateApi) in 631.2156ms
2025-06-13 00:21:09.252 +05:30 [INF] Executed endpoint 'RealEstateApi.Controllers.AgentsController.RegisterAgent (RealEstateApi)'
2025-06-13 00:21:09.252 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5009/api/v1/Agents/register-agent - 201 null application/json; charset=utf-8 643.9975ms
2025-06-13 00:21:47.945 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5009/api/v1/Agents - null null
2025-06-13 00:21:47.948 +05:30 [INF] Executing endpoint 'RealEstateApi.Controllers.AgentsController.GetFilteredAgents (RealEstateApi)'
2025-06-13 00:21:47.948 +05:30 [INF] Route matched with {action = "GetFilteredAgents", controller = "Agents"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetFilteredAgents(AgentQueryDto) on controller RealEstateApi.Controllers.AgentsController (RealEstateApi).
2025-06-13 00:21:48.016 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AgencyName", a."LicenseNumber", a."Phone", u."Id", u."CreatedAt", u."Email", u."IsDeleted", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", p."Id", p."AgentId", p."Bathrooms", p."Bedrooms", p."CreatedAt", p."Description", p."IsDeleted", p."Location", p."Price", p."SquareFeet", p."Title"
FROM "Agents" AS a
INNER JOIN "Users" AS u ON a."Id" = u."Id"
LEFT JOIN "PropertyListings" AS p ON a."Id" = p."AgentId"
WHERE NOT (u."IsDeleted")
ORDER BY a."Id", u."Id"
2025-06-13 00:21:48.023 +05:30 [INF] Executing OkObjectResult, writing value of type 'RealEstateApi.Models.DTOs.PagedResult`1[[RealEstateApi.Models.Agent, RealEstateApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-13 00:21:48.029 +05:30 [INF] Executed action RealEstateApi.Controllers.AgentsController.GetFilteredAgents (RealEstateApi) in 80.5484ms
2025-06-13 00:21:48.029 +05:30 [INF] Executed endpoint 'RealEstateApi.Controllers.AgentsController.GetFilteredAgents (RealEstateApi)'
2025-06-13 00:21:48.030 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5009/api/v1/Agents - 200 null application/json; charset=utf-8 84.3145ms
2025-06-13 00:22:06.409 +05:30 [INF] Request starting HTTP/1.1 PUT http://localhost:5009/api/v1/Agents/0197657b-4d7b-723f-8b6b-63d0ee6ead85 - application/json 78
2025-06-13 00:22:06.428 +05:30 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Agent)
2025-06-13 00:22:06.432 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2025-06-13 00:22:06.433 +05:30 [INF] Request finished HTTP/1.1 PUT http://localhost:5009/api/v1/Agents/0197657b-4d7b-723f-8b6b-63d0ee6ead85 - 401 0 null 23.7564ms
2025-06-13 00:23:05.346 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5009/api/v1/Auth/refresh - application/json 112
2025-06-13 00:23:05.349 +05:30 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-06-13 00:23:05.349 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2025-06-13 00:23:05.350 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5009/api/v1/Auth/refresh - 401 0 null 4.0508ms
2025-06-13 00:23:37.051 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5009/api/v1/Auth/login - application/json 59
2025-06-13 00:23:37.053 +05:30 [INF] Executing endpoint 'RealEstateApi.Controllers.AuthController.Login (RealEstateApi)'
2025-06-13 00:23:37.057 +05:30 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[RealEstateApi.Models.DTOs.AuthResponseDto]] Login(RealEstateApi.Models.DTOs.LoginDto) on controller RealEstateApi.Controllers.AuthController (RealEstateApi).
2025-06-13 00:23:37.069 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."Email", u."IsDeleted", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role"
FROM "Users" AS u
WHERE NOT (u."IsDeleted")
2025-06-13 00:23:37.349 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."Email", u."IsDeleted", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role"
FROM "Users" AS u
WHERE NOT (u."IsDeleted") AND u."Id" = @__id_0
LIMIT 2
2025-06-13 00:23:37.358 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@p2='?' (DbType = Guid), @p0='?', @p1='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Users" SET "RefreshToken" = @p0, "RefreshTokenExpiryTime" = @p1
WHERE "Id" = @p2;
2025-06-13 00:23:37.360 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?', @p3='?', @p4='?', @p5='?', @p6='?' (DbType = DateTime), @p7='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AuditLogs" ("Id", "ActionType", "NewValues", "OldValues", "PrimaryKey", "TableName", "Timestamp", "UserId")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
2025-06-13 00:23:37.360 +05:30 [INF] Executing OkObjectResult, writing value of type 'RealEstateApi.Models.DTOs.AuthResponseDto'.
2025-06-13 00:23:37.361 +05:30 [INF] Executed action RealEstateApi.Controllers.AuthController.Login (RealEstateApi) in 303.1031ms
2025-06-13 00:23:37.361 +05:30 [INF] Executed endpoint 'RealEstateApi.Controllers.AuthController.Login (RealEstateApi)'
2025-06-13 00:23:37.361 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5009/api/v1/Auth/login - 200 null application/json; charset=utf-8 310.3425ms
2025-06-13 00:24:13.376 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5009/api/v1/Auth/refresh - application/json 112
2025-06-13 00:24:13.417 +05:30 [INF] Executing endpoint 'RealEstateApi.Controllers.AuthController.RefreshToken (RealEstateApi)'
2025-06-13 00:24:13.420 +05:30 [INF] Route matched with {action = "RefreshToken", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[RealEstateApi.Models.DTOs.AuthResponseDto]] RefreshToken(RefreshTokenRequestDto) on controller RealEstateApi.Controllers.AuthController (RealEstateApi).
2025-06-13 00:24:13.425 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."Email", u."IsDeleted", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role"
FROM "Users" AS u
WHERE NOT (u."IsDeleted")
2025-06-13 00:24:13.427 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."Email", u."IsDeleted", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role"
FROM "Users" AS u
WHERE NOT (u."IsDeleted") AND u."Id" = @__id_0
LIMIT 2
2025-06-13 00:24:13.429 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@p2='?' (DbType = Guid), @p0='?', @p1='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Users" SET "RefreshToken" = @p0, "RefreshTokenExpiryTime" = @p1
WHERE "Id" = @p2;
2025-06-13 00:24:13.430 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?', @p3='?', @p4='?', @p5='?', @p6='?' (DbType = DateTime), @p7='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AuditLogs" ("Id", "ActionType", "NewValues", "OldValues", "PrimaryKey", "TableName", "Timestamp", "UserId")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
2025-06-13 00:24:13.431 +05:30 [INF] Executing OkObjectResult, writing value of type 'RealEstateApi.Models.DTOs.AuthResponseDto'.
2025-06-13 00:24:13.431 +05:30 [INF] Executed action RealEstateApi.Controllers.AuthController.RefreshToken (RealEstateApi) in 11.2942ms
2025-06-13 00:24:13.431 +05:30 [INF] Executed endpoint 'RealEstateApi.Controllers.AuthController.RefreshToken (RealEstateApi)'
2025-06-13 00:24:13.431 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5009/api/v1/Auth/refresh - 200 null application/json; charset=utf-8 55.5776ms
2025-06-13 00:24:17.122 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5009/api/v1/Auth/refresh - application/json 112
2025-06-13 00:24:17.123 +05:30 [INF] Executing endpoint 'RealEstateApi.Controllers.AuthController.RefreshToken (RealEstateApi)'
2025-06-13 00:24:17.123 +05:30 [INF] Route matched with {action = "RefreshToken", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[RealEstateApi.Models.DTOs.AuthResponseDto]] RefreshToken(RefreshTokenRequestDto) on controller RealEstateApi.Controllers.AuthController (RealEstateApi).
2025-06-13 00:24:17.126 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."Email", u."IsDeleted", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role"
FROM "Users" AS u
WHERE NOT (u."IsDeleted")
2025-06-13 00:24:17.128 +05:30 [INF] Executing BadRequestObjectResult, writing value of type 'System.String'.
2025-06-13 00:24:17.128 +05:30 [INF] Executed action RealEstateApi.Controllers.AuthController.RefreshToken (RealEstateApi) in 4.813ms
2025-06-13 00:24:17.128 +05:30 [INF] Executed endpoint 'RealEstateApi.Controllers.AuthController.RefreshToken (RealEstateApi)'
2025-06-13 00:24:17.128 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5009/api/v1/Auth/refresh - 400 null text/plain; charset=utf-8 6.6417ms
2025-06-13 00:25:07.565 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5009/api/v1/Auth/logout - application/json 112
2025-06-13 00:25:07.567 +05:30 [INF] Executing endpoint 'RealEstateApi.Controllers.AuthController.Logout (RealEstateApi)'
2025-06-13 00:25:07.589 +05:30 [INF] Route matched with {action = "Logout", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Logout(RealEstateApi.Models.DTOs.LogoutRequestDto) on controller RealEstateApi.Controllers.AuthController (RealEstateApi).
2025-06-13 00:25:07.594 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."Email", u."IsDeleted", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role"
FROM "Users" AS u
WHERE NOT (u."IsDeleted")
2025-06-13 00:25:07.595 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."Email", u."IsDeleted", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role"
FROM "Users" AS u
WHERE NOT (u."IsDeleted") AND u."Id" = @__id_0
LIMIT 2
2025-06-13 00:25:07.597 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@p2='?' (DbType = Guid), @p0='?', @p1='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Users" SET "RefreshToken" = @p0, "RefreshTokenExpiryTime" = @p1
WHERE "Id" = @p2;
2025-06-13 00:25:07.599 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?', @p3='?', @p4='?', @p5='?', @p6='?' (DbType = DateTime), @p7='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AuditLogs" ("Id", "ActionType", "NewValues", "OldValues", "PrimaryKey", "TableName", "Timestamp", "UserId")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
2025-06-13 00:25:07.608 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2025-06-13 00:25:07.609 +05:30 [INF] Executed action RealEstateApi.Controllers.AuthController.Logout (RealEstateApi) in 19.7543ms
2025-06-13 00:25:07.609 +05:30 [INF] Executed endpoint 'RealEstateApi.Controllers.AuthController.Logout (RealEstateApi)'
2025-06-13 00:25:07.609 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5009/api/v1/Auth/logout - 200 null text/plain; charset=utf-8 43.8287ms
2025-06-13 00:25:10.885 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5009/api/v1/Auth/logout - application/json 112
2025-06-13 00:25:10.886 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5009/api/v1/Auth/logout - 401 null null 0.7627ms
2025-06-13 00:25:22.397 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5009/api/v1/Auth/me - null null
2025-06-13 00:25:22.397 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5009/api/v1/Auth/me - 401 null null 0.7027ms
2025-06-13 00:25:30.991 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5009/api/v1/Auth/login - application/json 59
2025-06-13 00:25:30.992 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5009/api/v1/Auth/login - 401 null null 0.724ms
2025-06-13 00:25:49.175 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5009/api/v1/Auth/login - application/json 59
2025-06-13 00:25:49.175 +05:30 [INF] Executing endpoint 'RealEstateApi.Controllers.AuthController.Login (RealEstateApi)'
2025-06-13 00:25:49.176 +05:30 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[RealEstateApi.Models.DTOs.AuthResponseDto]] Login(RealEstateApi.Models.DTOs.LoginDto) on controller RealEstateApi.Controllers.AuthController (RealEstateApi).
2025-06-13 00:25:49.205 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."Email", u."IsDeleted", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role"
FROM "Users" AS u
WHERE NOT (u."IsDeleted")
2025-06-13 00:25:49.380 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."Email", u."IsDeleted", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role"
FROM "Users" AS u
WHERE NOT (u."IsDeleted") AND u."Id" = @__id_0
LIMIT 2
2025-06-13 00:25:49.382 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@p2='?' (DbType = Guid), @p0='?', @p1='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Users" SET "RefreshToken" = @p0, "RefreshTokenExpiryTime" = @p1
WHERE "Id" = @p2;
2025-06-13 00:25:49.384 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?', @p3='?', @p4='?', @p5='?', @p6='?' (DbType = DateTime), @p7='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AuditLogs" ("Id", "ActionType", "NewValues", "OldValues", "PrimaryKey", "TableName", "Timestamp", "UserId")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
2025-06-13 00:25:49.384 +05:30 [INF] Executing OkObjectResult, writing value of type 'RealEstateApi.Models.DTOs.AuthResponseDto'.
2025-06-13 00:25:49.384 +05:30 [INF] Executed action RealEstateApi.Controllers.AuthController.Login (RealEstateApi) in 208.4732ms
2025-06-13 00:25:49.384 +05:30 [INF] Executed endpoint 'RealEstateApi.Controllers.AuthController.Login (RealEstateApi)'
2025-06-13 00:25:49.384 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5009/api/v1/Auth/login - 200 null application/json; charset=utf-8 209.1678ms
2025-06-13 00:26:11.864 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5009/api/v1/Auth/me - null null
2025-06-13 00:26:11.913 +05:30 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenSignatureKeyNotFoundException: IDX10503: Signature validation failed. Token does not have a kid. Keys tried: '[PII of type 'System.Text.StringBuilder' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'. Number of keys in TokenValidationParameters: '1'. 
Number of keys in Configuration: '0'. 
Exceptions caught:
 '[PII of type 'System.Text.StringBuilder' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'.
token: '[PII of type 'Microsoft.IdentityModel.JsonWebTokens.JsonWebToken' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'. See https://aka.ms/IDX10503 for details.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateSignature(JsonWebToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateSignatureAndIssuerSecurityKey(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-06-13 00:26:11.914 +05:30 [INF] Bearer was not authenticated. Failure message: IDX10503: Signature validation failed. Token does not have a kid. Keys tried: '[PII of type 'System.Text.StringBuilder' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'. Number of keys in TokenValidationParameters: '1'. 
Number of keys in Configuration: '0'. 
Exceptions caught:
 '[PII of type 'System.Text.StringBuilder' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'.
token: '[PII of type 'Microsoft.IdentityModel.JsonWebTokens.JsonWebToken' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'. See https://aka.ms/IDX10503 for details.
2025-06-13 00:26:11.914 +05:30 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-06-13 00:26:11.915 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2025-06-13 00:26:11.915 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5009/api/v1/Auth/me - 401 0 null 50.5487ms
2025-06-13 00:26:59.188 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5009/swagger/index.html - null null
2025-06-13 00:26:59.190 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5009/swagger/index.html - 200 null text/html;charset=utf-8 1.2505ms
2025-06-13 00:26:59.266 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5009/swagger/v1/swagger.json - null null
2025-06-13 00:26:59.282 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5009/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 15.6642ms
2025-06-13 00:27:10.072 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5009/api/v1/Auth/me - null null
2025-06-13 00:27:10.073 +05:30 [INF] Executing endpoint 'RealEstateApi.Controllers.AuthController.GetCurrentUser (RealEstateApi)'
2025-06-13 00:27:10.078 +05:30 [INF] Route matched with {action = "GetCurrentUser", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[RealEstateApi.Models.User]] GetCurrentUser() on controller RealEstateApi.Controllers.AuthController (RealEstateApi).
2025-06-13 00:27:10.082 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."Email", u."IsDeleted", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role"
FROM "Users" AS u
WHERE NOT (u."IsDeleted") AND u."Id" = @__id_0
LIMIT 2
2025-06-13 00:27:10.083 +05:30 [INF] Executing OkObjectResult, writing value of type 'RealEstateApi.Models.User'.
2025-06-13 00:27:10.083 +05:30 [INF] Executed action RealEstateApi.Controllers.AuthController.GetCurrentUser (RealEstateApi) in 5.0113ms
2025-06-13 00:27:10.083 +05:30 [INF] Executed endpoint 'RealEstateApi.Controllers.AuthController.GetCurrentUser (RealEstateApi)'
2025-06-13 00:27:10.083 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5009/api/v1/Auth/me - 200 null application/json; charset=utf-8 10.8737ms
2025-06-13 00:27:23.982 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5009/api/v1/Buyers - null null
2025-06-13 00:27:23.983 +05:30 [INF] Executing endpoint 'RealEstateApi.Controllers.BuyersController.GetFilteredBuyers (RealEstateApi)'
2025-06-13 00:27:24.002 +05:30 [INF] Route matched with {action = "GetFilteredBuyers", controller = "Buyers"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[RealEstateApi.Models.DTOs.PagedResult`1[RealEstateApi.Models.Buyer]]] GetFilteredBuyers(RealEstateApi.Models.DTOs.BuyerQueryDto) on controller RealEstateApi.Controllers.BuyersController (RealEstateApi).
2025-06-13 00:27:24.033 +05:30 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT b."Id", b."Budget", b."PreferredLocation", u."Id", u."CreatedAt", u."Email", u."IsDeleted", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", i."Id", i."BuyerId", i."CreatedAt", i."ListingId", i."Message"
FROM "Buyers" AS b
INNER JOIN "Users" AS u ON b."Id" = u."Id"
LEFT JOIN "Inquiries" AS i ON b."Id" = i."BuyerId"
WHERE NOT (u."IsDeleted")
ORDER BY b."Id", u."Id"
2025-06-13 00:27:24.034 +05:30 [INF] Executing OkObjectResult, writing value of type 'RealEstateApi.Models.DTOs.PagedResult`1[[RealEstateApi.Models.Buyer, RealEstateApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-13 00:27:24.035 +05:30 [INF] Executed action RealEstateApi.Controllers.BuyersController.GetFilteredBuyers (RealEstateApi) in 33.2647ms
2025-06-13 00:27:24.035 +05:30 [INF] Executed endpoint 'RealEstateApi.Controllers.BuyersController.GetFilteredBuyers (RealEstateApi)'
2025-06-13 00:27:24.036 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5009/api/v1/Buyers - 200 null application/json; charset=utf-8 53.1308ms
2025-06-13 00:28:19.166 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5009/api/v1/Buyers/register-buyer - application/json 126
2025-06-13 00:28:19.167 +05:30 [INF] Executing endpoint 'RealEstateApi.Controllers.BuyersController.RegisterBuyer (RealEstateApi)'
2025-06-13 00:28:19.183 +05:30 [INF] Route matched with {action = "RegisterBuyer", controller = "Buyers"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[RealEstateApi.Models.DTOs.AuthResponseDto]] RegisterBuyer(RealEstateApi.Models.DTOs.RegisterBuyerDto) on controller RealEstateApi.Controllers.BuyersController (RealEstateApi).
2025-06-13 00:28:19.193 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."Email", u."IsDeleted", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role"
FROM "Users" AS u
WHERE NOT (u."IsDeleted")
2025-06-13 00:28:19.368 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime), @p2='?', @p3='?' (DbType = Boolean), @p4='?', @p5='?', @p6='?', @p7='?' (DbType = DateTime), @p8='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Users" ("Id", "CreatedAt", "Email", "IsDeleted", "Name", "PasswordHash", "RefreshToken", "RefreshTokenExpiryTime", "Role")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
2025-06-13 00:28:19.369 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?', @p3='?', @p4='?', @p5='?', @p6='?' (DbType = DateTime), @p7='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AuditLogs" ("Id", "ActionType", "NewValues", "OldValues", "PrimaryKey", "TableName", "Timestamp", "UserId")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
2025-06-13 00:28:19.387 +05:30 [INF] Executed DbCommand (4ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Double), @p2='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Buyers" ("Id", "Budget", "PreferredLocation")
VALUES (@p0, @p1, @p2);
2025-06-13 00:28:19.393 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?', @p3='?', @p4='?', @p5='?', @p6='?' (DbType = DateTime), @p7='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AuditLogs" ("Id", "ActionType", "NewValues", "OldValues", "PrimaryKey", "TableName", "Timestamp", "UserId")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
2025-06-13 00:28:19.394 +05:30 [INF] Executing CreatedResult, writing value of type 'RealEstateApi.Models.DTOs.AuthResponseDto'.
2025-06-13 00:28:19.394 +05:30 [INF] Executed action RealEstateApi.Controllers.BuyersController.RegisterBuyer (RealEstateApi) in 210.6729ms
2025-06-13 00:28:19.394 +05:30 [INF] Executed endpoint 'RealEstateApi.Controllers.BuyersController.RegisterBuyer (RealEstateApi)'
2025-06-13 00:28:19.394 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5009/api/v1/Buyers/register-buyer - 201 null application/json; charset=utf-8 227.6655ms
2025-06-13 00:28:45.069 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5009/api/v1/Buyers - null null
2025-06-13 00:28:45.070 +05:30 [INF] Executing endpoint 'RealEstateApi.Controllers.BuyersController.GetFilteredBuyers (RealEstateApi)'
2025-06-13 00:28:45.070 +05:30 [INF] Route matched with {action = "GetFilteredBuyers", controller = "Buyers"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[RealEstateApi.Models.DTOs.PagedResult`1[RealEstateApi.Models.Buyer]]] GetFilteredBuyers(RealEstateApi.Models.DTOs.BuyerQueryDto) on controller RealEstateApi.Controllers.BuyersController (RealEstateApi).
2025-06-13 00:28:45.085 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT b."Id", b."Budget", b."PreferredLocation", u."Id", u."CreatedAt", u."Email", u."IsDeleted", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", i."Id", i."BuyerId", i."CreatedAt", i."ListingId", i."Message"
FROM "Buyers" AS b
INNER JOIN "Users" AS u ON b."Id" = u."Id"
LEFT JOIN "Inquiries" AS i ON b."Id" = i."BuyerId"
WHERE NOT (u."IsDeleted")
ORDER BY b."Id", u."Id"
2025-06-13 00:28:45.092 +05:30 [INF] Executing OkObjectResult, writing value of type 'RealEstateApi.Models.DTOs.PagedResult`1[[RealEstateApi.Models.Buyer, RealEstateApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-13 00:28:45.095 +05:30 [INF] Executed action RealEstateApi.Controllers.BuyersController.GetFilteredBuyers (RealEstateApi) in 24.7753ms
2025-06-13 00:28:45.095 +05:30 [INF] Executed endpoint 'RealEstateApi.Controllers.BuyersController.GetFilteredBuyers (RealEstateApi)'
2025-06-13 00:28:45.095 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5009/api/v1/Buyers - 200 null application/json; charset=utf-8 25.7594ms
2025-06-13 00:28:58.972 +05:30 [INF] Request starting HTTP/1.1 PUT http://localhost:5009/api/v1/Buyers/01976581-de66-7728-81f2-b6ebc23eb117 - application/json 50
2025-06-13 00:28:58.973 +05:30 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Buyer)
2025-06-13 00:28:58.986 +05:30 [INF] AuthenticationScheme: Bearer was forbidden.
2025-06-13 00:28:58.986 +05:30 [INF] Request finished HTTP/1.1 PUT http://localhost:5009/api/v1/Buyers/01976581-de66-7728-81f2-b6ebc23eb117 - 403 0 null 14.5933ms
2025-06-13 00:29:37.431 +05:30 [INF] Request starting HTTP/1.1 PUT http://localhost:5009/api/v1/Buyers/01976581-de66-7728-81f2-b6ebc23eb117 - application/json 24
2025-06-13 00:29:37.433 +05:30 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenSignatureKeyNotFoundException: IDX10503: Signature validation failed. Token does not have a kid. Keys tried: '[PII of type 'System.Text.StringBuilder' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'. Number of keys in TokenValidationParameters: '1'. 
Number of keys in Configuration: '0'. 
Exceptions caught:
 '[PII of type 'System.Text.StringBuilder' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'.
token: '[PII of type 'Microsoft.IdentityModel.JsonWebTokens.JsonWebToken' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'. See https://aka.ms/IDX10503 for details.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateSignature(JsonWebToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateSignatureAndIssuerSecurityKey(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-06-13 00:29:37.433 +05:30 [INF] Bearer was not authenticated. Failure message: IDX10503: Signature validation failed. Token does not have a kid. Keys tried: '[PII of type 'System.Text.StringBuilder' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'. Number of keys in TokenValidationParameters: '1'. 
Number of keys in Configuration: '0'. 
Exceptions caught:
 '[PII of type 'System.Text.StringBuilder' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'.
token: '[PII of type 'Microsoft.IdentityModel.JsonWebTokens.JsonWebToken' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'. See https://aka.ms/IDX10503 for details.
2025-06-13 00:29:37.433 +05:30 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Buyer)
2025-06-13 00:29:37.433 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2025-06-13 00:29:37.434 +05:30 [INF] Request finished HTTP/1.1 PUT http://localhost:5009/api/v1/Buyers/01976581-de66-7728-81f2-b6ebc23eb117 - 401 0 null 2.4373ms
2025-06-13 00:31:11.111 +05:30 [INF] Request starting HTTP/1.1 PUT http://localhost:5009/api/v1/Buyers/01976581-de66-7728-81f2-b6ebc23eb117 - application/json 24
2025-06-13 00:31:11.112 +05:30 [INF] Executing endpoint 'RealEstateApi.Controllers.BuyersController.UpdateBuyer (RealEstateApi)'
2025-06-13 00:31:11.123 +05:30 [INF] Route matched with {action = "UpdateBuyer", controller = "Buyers"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateBuyer(System.Guid, RealEstateApi.Models.DTOs.UpdateBuyerDto) on controller RealEstateApi.Controllers.BuyersController (RealEstateApi).
2025-06-13 00:31:11.179 +05:30 [INF] Executed DbCommand (6ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Budget", s."PreferredLocation", s."Id0", s."CreatedAt", s."Email", s."IsDeleted", s."Name", s."PasswordHash", s."RefreshToken", s."RefreshTokenExpiryTime", s."Role", i."Id", i."BuyerId", i."CreatedAt", i."ListingId", i."Message"
FROM (
    SELECT b."Id", b."Budget", b."PreferredLocation", u."Id" AS "Id0", u."CreatedAt", u."Email", u."IsDeleted", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role"
    FROM "Buyers" AS b
    INNER JOIN "Users" AS u ON b."Id" = u."Id"
    WHERE NOT (u."IsDeleted") AND b."Id" = @__id_0
    LIMIT 1
) AS s
LEFT JOIN "Inquiries" AS i ON s."Id" = i."BuyerId"
ORDER BY s."Id", s."Id0"
2025-06-13 00:31:11.183 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Budget", s."PreferredLocation", s."Id0", s."CreatedAt", s."Email", s."IsDeleted", s."Name", s."PasswordHash", s."RefreshToken", s."RefreshTokenExpiryTime", s."Role", i."Id", i."BuyerId", i."CreatedAt", i."ListingId", i."Message"
FROM (
    SELECT b."Id", b."Budget", b."PreferredLocation", u."Id" AS "Id0", u."CreatedAt", u."Email", u."IsDeleted", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role"
    FROM "Buyers" AS b
    INNER JOIN "Users" AS u ON b."Id" = u."Id"
    WHERE NOT (u."IsDeleted") AND b."Id" = @__id_0
    LIMIT 1
) AS s
LEFT JOIN "Inquiries" AS i ON s."Id" = i."BuyerId"
ORDER BY s."Id", s."Id0"
2025-06-13 00:31:11.185 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@p1='?' (DbType = Guid), @p0='?' (DbType = Double)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Buyers" SET "Budget" = @p0
WHERE "Id" = @p1;
2025-06-13 00:31:11.186 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?', @p3='?', @p4='?', @p5='?', @p6='?' (DbType = DateTime), @p7='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AuditLogs" ("Id", "ActionType", "NewValues", "OldValues", "PrimaryKey", "TableName", "Timestamp", "UserId")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
2025-06-13 00:31:11.186 +05:30 [INF] Executing OkObjectResult, writing value of type 'RealEstateApi.Models.Buyer'.
2025-06-13 00:31:11.187 +05:30 [INF] Executed action RealEstateApi.Controllers.BuyersController.UpdateBuyer (RealEstateApi) in 63.4189ms
2025-06-13 00:31:11.187 +05:30 [INF] Executed endpoint 'RealEstateApi.Controllers.BuyersController.UpdateBuyer (RealEstateApi)'
2025-06-13 00:31:11.187 +05:30 [INF] Request finished HTTP/1.1 PUT http://localhost:5009/api/v1/Buyers/01976581-de66-7728-81f2-b6ebc23eb117 - 200 null application/json; charset=utf-8 75.5589ms
2025-06-13 00:31:27.332 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5009/api/v1/Inquiries - null null
2025-06-13 00:31:27.333 +05:30 [INF] Executing endpoint 'RealEstateApi.Controllers.InquiriesController.GetFilteredInquiries (RealEstateApi)'
2025-06-13 00:31:27.337 +05:30 [INF] Route matched with {action = "GetFilteredInquiries", controller = "Inquiries"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetFilteredInquiries(RealEstateApi.Models.DTOs.InquiryQueryDto) on controller RealEstateApi.Controllers.InquiriesController (RealEstateApi).
2025-06-13 00:31:27.359 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT i."Id", i."BuyerId", i."CreatedAt", i."ListingId", i."Message", b."Id", b."Budget", b."PreferredLocation", p."Id", p."AgentId", p."Bathrooms", p."Bedrooms", p."CreatedAt", p."Description", p."IsDeleted", p."Location", p."Price", p."SquareFeet", p."Title"
FROM "Inquiries" AS i
INNER JOIN "Buyers" AS b ON i."BuyerId" = b."Id"
INNER JOIN "PropertyListings" AS p ON i."ListingId" = p."Id"
2025-06-13 00:31:27.360 +05:30 [INF] Executing OkObjectResult, writing value of type 'RealEstateApi.Models.DTOs.PagedResult`1[[RealEstateApi.Models.Inquiry, RealEstateApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-13 00:31:27.361 +05:30 [INF] Executed action RealEstateApi.Controllers.InquiriesController.GetFilteredInquiries (RealEstateApi) in 24.1387ms
2025-06-13 00:31:27.361 +05:30 [INF] Executed endpoint 'RealEstateApi.Controllers.InquiriesController.GetFilteredInquiries (RealEstateApi)'
2025-06-13 00:31:27.361 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5009/api/v1/Inquiries - 200 null application/json; charset=utf-8 29.4382ms
2025-06-13 00:33:41.215 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5009/api/v1/Agents - null null
2025-06-13 00:33:41.215 +05:30 [INF] Executing endpoint 'RealEstateApi.Controllers.AgentsController.GetFilteredAgents (RealEstateApi)'
2025-06-13 00:33:41.215 +05:30 [INF] Route matched with {action = "GetFilteredAgents", controller = "Agents"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetFilteredAgents(AgentQueryDto) on controller RealEstateApi.Controllers.AgentsController (RealEstateApi).
2025-06-13 00:33:41.218 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AgencyName", a."LicenseNumber", a."Phone", u."Id", u."CreatedAt", u."Email", u."IsDeleted", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", p."Id", p."AgentId", p."Bathrooms", p."Bedrooms", p."CreatedAt", p."Description", p."IsDeleted", p."Location", p."Price", p."SquareFeet", p."Title"
FROM "Agents" AS a
INNER JOIN "Users" AS u ON a."Id" = u."Id"
LEFT JOIN "PropertyListings" AS p ON a."Id" = p."AgentId"
WHERE NOT (u."IsDeleted")
ORDER BY a."Id", u."Id"
2025-06-13 00:33:41.219 +05:30 [INF] Executing OkObjectResult, writing value of type 'RealEstateApi.Models.DTOs.PagedResult`1[[RealEstateApi.Models.Agent, RealEstateApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-13 00:33:41.219 +05:30 [INF] Executed action RealEstateApi.Controllers.AgentsController.GetFilteredAgents (RealEstateApi) in 3.7567ms
2025-06-13 00:33:41.219 +05:30 [INF] Executed endpoint 'RealEstateApi.Controllers.AgentsController.GetFilteredAgents (RealEstateApi)'
2025-06-13 00:33:41.219 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5009/api/v1/Agents - 200 null application/json; charset=utf-8 4.5802ms
2025-06-13 00:34:09.683 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5009/api/v1/PropertyListings/create-listing - application/json 226
2025-06-13 00:34:09.684 +05:30 [INF] Executing endpoint 'RealEstateApi.Controllers.PropertyListingsController.CreateListing (RealEstateApi)'
2025-06-13 00:34:09.706 +05:30 [INF] Route matched with {action = "CreateListing", controller = "PropertyListings"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateListing(RealEstateApi.Models.DTOs.CreatePropertyListingDto) on controller RealEstateApi.Controllers.PropertyListingsController (RealEstateApi).
2025-06-13 00:34:09.717 +05:30 [INF] Executing BadRequestObjectResult, writing value of type 'System.String'.
2025-06-13 00:34:09.717 +05:30 [INF] Executed action RealEstateApi.Controllers.PropertyListingsController.CreateListing (RealEstateApi) in 11.5126ms
2025-06-13 00:34:09.717 +05:30 [INF] Executed endpoint 'RealEstateApi.Controllers.PropertyListingsController.CreateListing (RealEstateApi)'
2025-06-13 00:34:09.717 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5009/api/v1/PropertyListings/create-listing - 400 null text/plain; charset=utf-8 34.5591ms
2025-06-13 00:34:38.525 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5009/api/v1/Auth/login - application/json 58
2025-06-13 00:34:38.525 +05:30 [INF] Executing endpoint 'RealEstateApi.Controllers.AuthController.Login (RealEstateApi)'
2025-06-13 00:34:38.526 +05:30 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[RealEstateApi.Models.DTOs.AuthResponseDto]] Login(RealEstateApi.Models.DTOs.LoginDto) on controller RealEstateApi.Controllers.AuthController (RealEstateApi).
2025-06-13 00:34:38.527 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."Email", u."IsDeleted", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role"
FROM "Users" AS u
WHERE NOT (u."IsDeleted")
2025-06-13 00:34:38.719 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."Email", u."IsDeleted", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role"
FROM "Users" AS u
WHERE NOT (u."IsDeleted") AND u."Id" = @__id_0
LIMIT 2
2025-06-13 00:34:38.721 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@p2='?' (DbType = Guid), @p0='?', @p1='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Users" SET "RefreshToken" = @p0, "RefreshTokenExpiryTime" = @p1
WHERE "Id" = @p2;
2025-06-13 00:34:38.723 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?', @p3='?', @p4='?', @p5='?', @p6='?' (DbType = DateTime), @p7='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AuditLogs" ("Id", "ActionType", "NewValues", "OldValues", "PrimaryKey", "TableName", "Timestamp", "UserId")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
2025-06-13 00:34:38.723 +05:30 [INF] Executing OkObjectResult, writing value of type 'RealEstateApi.Models.DTOs.AuthResponseDto'.
2025-06-13 00:34:38.723 +05:30 [INF] Executed action RealEstateApi.Controllers.AuthController.Login (RealEstateApi) in 197.5164ms
2025-06-13 00:34:38.723 +05:30 [INF] Executed endpoint 'RealEstateApi.Controllers.AuthController.Login (RealEstateApi)'
2025-06-13 00:34:38.723 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5009/api/v1/Auth/login - 200 null application/json; charset=utf-8 198.2827ms
2025-06-13 00:34:58.684 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5009/api/v1/PropertyListings/create-listing - application/json 226
2025-06-13 00:34:58.686 +05:30 [INF] Executing endpoint 'RealEstateApi.Controllers.PropertyListingsController.CreateListing (RealEstateApi)'
2025-06-13 00:34:58.686 +05:30 [INF] Route matched with {action = "CreateListing", controller = "PropertyListings"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateListing(RealEstateApi.Models.DTOs.CreatePropertyListingDto) on controller RealEstateApi.Controllers.PropertyListingsController (RealEstateApi).
2025-06-13 00:34:58.715 +05:30 [WRN] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2025-06-13 00:34:58.738 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."AgentId", p."Bathrooms", p."Bedrooms", p."CreatedAt", p."Description", p."IsDeleted", p."Location", p."Price", p."SquareFeet", p."Title", a."Id", a."AgencyName", a."LicenseNumber", a."Phone", p1."Id", p1."DeletedAt", p1."FileName", p1."FileUrl", p1."IsDeleted", p1."PropertyListingId", i."Id", i."BuyerId", i."CreatedAt", i."ListingId", i."Message"
FROM "PropertyListings" AS p
INNER JOIN "Agents" AS a ON p."AgentId" = a."Id"
LEFT JOIN (
    SELECT p0."Id", p0."DeletedAt", p0."FileName", p0."FileUrl", p0."IsDeleted", p0."PropertyListingId"
    FROM "PropertyImages" AS p0
    WHERE NOT (p0."IsDeleted")
) AS p1 ON p."Id" = p1."PropertyListingId"
LEFT JOIN "Inquiries" AS i ON p."Id" = i."ListingId"
WHERE NOT (p."IsDeleted")
ORDER BY p."Id", a."Id", p1."Id"
2025-06-13 00:34:58.770 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (DbType = DateTime), @p5='?', @p6='?' (DbType = Boolean), @p7='?', @p8='?' (DbType = Double), @p9='?' (DbType = Int32), @p10='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "PropertyListings" ("Id", "AgentId", "Bathrooms", "Bedrooms", "CreatedAt", "Description", "IsDeleted", "Location", "Price", "SquareFeet", "Title")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10);
2025-06-13 00:34:58.774 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?', @p3='?', @p4='?', @p5='?', @p6='?' (DbType = DateTime), @p7='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AuditLogs" ("Id", "ActionType", "NewValues", "OldValues", "PrimaryKey", "TableName", "Timestamp", "UserId")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
2025-06-13 00:34:58.774 +05:30 [INF] Executing CreatedResult, writing value of type 'RealEstateApi.Models.PropertyListing'.
2025-06-13 00:34:58.776 +05:30 [INF] Executed action RealEstateApi.Controllers.PropertyListingsController.CreateListing (RealEstateApi) in 90.5848ms
2025-06-13 00:34:58.777 +05:30 [INF] Executed endpoint 'RealEstateApi.Controllers.PropertyListingsController.CreateListing (RealEstateApi)'
2025-06-13 00:34:58.777 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5009/api/v1/PropertyListings/create-listing - 201 null application/json; charset=utf-8 92.8345ms
2025-06-13 00:35:20.926 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5009/api/v1/PropertyListings/upload-image - multipart/form-data; boundary=----WebKitFormBoundary1cWXkPHOTEA3g1xG 920429
2025-06-13 00:35:20.928 +05:30 [INF] Executing endpoint 'RealEstateApi.Controllers.PropertyListingsController.UploadImage (RealEstateApi)'
2025-06-13 00:35:20.933 +05:30 [INF] Route matched with {action = "UploadImage", controller = "PropertyListings"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UploadImage(RealEstateApi.Models.DTOs.AddPropertyImageDto) on controller RealEstateApi.Controllers.PropertyListingsController (RealEstateApi).
2025-06-13 00:35:20.965 +05:30 [WRN] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2025-06-13 00:35:20.987 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."AgentId", s."Bathrooms", s."Bedrooms", s."CreatedAt", s."Description", s."IsDeleted", s."Location", s."Price", s."SquareFeet", s."Title", s."Id0", s."AgencyName", s."LicenseNumber", s."Phone", p1."Id", p1."DeletedAt", p1."FileName", p1."FileUrl", p1."IsDeleted", p1."PropertyListingId", i."Id", i."BuyerId", i."CreatedAt", i."ListingId", i."Message"
FROM (
    SELECT p."Id", p."AgentId", p."Bathrooms", p."Bedrooms", p."CreatedAt", p."Description", p."IsDeleted", p."Location", p."Price", p."SquareFeet", p."Title", a."Id" AS "Id0", a."AgencyName", a."LicenseNumber", a."Phone"
    FROM "PropertyListings" AS p
    INNER JOIN "Agents" AS a ON p."AgentId" = a."Id"
    WHERE NOT (p."IsDeleted") AND p."Id" = @__id_0
    LIMIT 1
) AS s
LEFT JOIN (
    SELECT p0."Id", p0."DeletedAt", p0."FileName", p0."FileUrl", p0."IsDeleted", p0."PropertyListingId"
    FROM "PropertyImages" AS p0
    WHERE NOT (p0."IsDeleted")
) AS p1 ON s."Id" = p1."PropertyListingId"
LEFT JOIN "Inquiries" AS i ON s."Id" = i."ListingId"
ORDER BY s."Id", s."Id0", p1."Id"
2025-06-13 00:35:21.016 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime), @p2='?', @p3='?', @p4='?' (DbType = Boolean), @p5='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "PropertyImages" ("Id", "DeletedAt", "FileName", "FileUrl", "IsDeleted", "PropertyListingId")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2025-06-13 00:35:21.018 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?', @p3='?', @p4='?', @p5='?', @p6='?' (DbType = DateTime), @p7='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AuditLogs" ("Id", "ActionType", "NewValues", "OldValues", "PrimaryKey", "TableName", "Timestamp", "UserId")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
2025-06-13 00:35:21.018 +05:30 [INF] Executing OkObjectResult, writing value of type 'RealEstateApi.Models.PropertyImage'.
2025-06-13 00:35:21.020 +05:30 [INF] Executed action RealEstateApi.Controllers.PropertyListingsController.UploadImage (RealEstateApi) in 86.9406ms
2025-06-13 00:35:21.020 +05:30 [INF] Executed endpoint 'RealEstateApi.Controllers.PropertyListingsController.UploadImage (RealEstateApi)'
2025-06-13 00:35:21.022 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5009/api/v1/PropertyListings/upload-image - 200 null application/json; charset=utf-8 95.306ms
2025-06-13 00:35:35.998 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5009/api/v1/PropertyListings/upload-image - multipart/form-data; boundary=----WebKitFormBoundarylOeDLaRtanqtSl6s 920429
2025-06-13 00:35:35.999 +05:30 [INF] Executing endpoint 'RealEstateApi.Controllers.PropertyListingsController.UploadImage (RealEstateApi)'
2025-06-13 00:35:35.999 +05:30 [INF] Route matched with {action = "UploadImage", controller = "PropertyListings"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UploadImage(RealEstateApi.Models.DTOs.AddPropertyImageDto) on controller RealEstateApi.Controllers.PropertyListingsController (RealEstateApi).
2025-06-13 00:35:36.028 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."AgentId", s."Bathrooms", s."Bedrooms", s."CreatedAt", s."Description", s."IsDeleted", s."Location", s."Price", s."SquareFeet", s."Title", s."Id0", s."AgencyName", s."LicenseNumber", s."Phone", p1."Id", p1."DeletedAt", p1."FileName", p1."FileUrl", p1."IsDeleted", p1."PropertyListingId", i."Id", i."BuyerId", i."CreatedAt", i."ListingId", i."Message"
FROM (
    SELECT p."Id", p."AgentId", p."Bathrooms", p."Bedrooms", p."CreatedAt", p."Description", p."IsDeleted", p."Location", p."Price", p."SquareFeet", p."Title", a."Id" AS "Id0", a."AgencyName", a."LicenseNumber", a."Phone"
    FROM "PropertyListings" AS p
    INNER JOIN "Agents" AS a ON p."AgentId" = a."Id"
    WHERE NOT (p."IsDeleted") AND p."Id" = @__id_0
    LIMIT 1
) AS s
LEFT JOIN (
    SELECT p0."Id", p0."DeletedAt", p0."FileName", p0."FileUrl", p0."IsDeleted", p0."PropertyListingId"
    FROM "PropertyImages" AS p0
    WHERE NOT (p0."IsDeleted")
) AS p1 ON s."Id" = p1."PropertyListingId"
LEFT JOIN "Inquiries" AS i ON s."Id" = i."ListingId"
ORDER BY s."Id", s."Id0", p1."Id"
2025-06-13 00:35:36.033 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime), @p2='?', @p3='?', @p4='?' (DbType = Boolean), @p5='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "PropertyImages" ("Id", "DeletedAt", "FileName", "FileUrl", "IsDeleted", "PropertyListingId")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2025-06-13 00:35:36.035 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?', @p3='?', @p4='?', @p5='?', @p6='?' (DbType = DateTime), @p7='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AuditLogs" ("Id", "ActionType", "NewValues", "OldValues", "PrimaryKey", "TableName", "Timestamp", "UserId")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
2025-06-13 00:35:36.035 +05:30 [INF] Executing OkObjectResult, writing value of type 'RealEstateApi.Models.PropertyImage'.
2025-06-13 00:35:36.035 +05:30 [INF] Executed action RealEstateApi.Controllers.PropertyListingsController.UploadImage (RealEstateApi) in 35.9307ms
2025-06-13 00:35:36.035 +05:30 [INF] Executed endpoint 'RealEstateApi.Controllers.PropertyListingsController.UploadImage (RealEstateApi)'
2025-06-13 00:35:36.036 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5009/api/v1/PropertyListings/upload-image - 200 null application/json; charset=utf-8 38.0931ms
2025-06-13 00:36:32.870 +05:30 [INF] Application is shutting down...
2025-06-13 00:36:41.276 +05:30 [INF] User profile is available. Using '/Users/muckesh/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2025-06-13 00:36:41.398 +05:30 [INF] Now listening on: http://localhost:5009
2025-06-13 00:36:41.401 +05:30 [INF] Application started. Press Ctrl+C to shut down.
2025-06-13 00:36:41.402 +05:30 [INF] Hosting environment: Development
2025-06-13 00:36:41.402 +05:30 [INF] Content root path: /Users/muckesh/Muckesh/Presidio/Genspark-Training/Capstone-1/RealEstateApi
2025-06-13 00:36:43.783 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5009/api/v1/PropertyListings/upload-image - multipart/form-data; boundary=----WebKitFormBoundaryYo5qc2QNHTrdXZTO 920429
2025-06-13 00:36:43.822 +05:30 [WRN] Failed to determine the https port for redirect.
2025-06-13 00:36:43.909 +05:30 [INF] Executing endpoint 'RealEstateApi.Controllers.PropertyListingsController.UploadImage (RealEstateApi)'
2025-06-13 00:36:43.934 +05:30 [INF] Route matched with {action = "UploadImage", controller = "PropertyListings"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UploadImage(RealEstateApi.Models.DTOs.AddPropertyImageDto) on controller RealEstateApi.Controllers.PropertyListingsController (RealEstateApi).
2025-06-13 00:36:44.960 +05:30 [WRN] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2025-06-13 00:36:45.216 +05:30 [INF] Executed DbCommand (48ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."AgentId", s."Bathrooms", s."Bedrooms", s."CreatedAt", s."Description", s."IsDeleted", s."Location", s."Price", s."SquareFeet", s."Title", s."Id0", s."AgencyName", s."LicenseNumber", s."Phone", p1."Id", p1."DeletedAt", p1."FileName", p1."FileUrl", p1."IsDeleted", p1."PropertyListingId", i."Id", i."BuyerId", i."CreatedAt", i."ListingId", i."Message"
FROM (
    SELECT p."Id", p."AgentId", p."Bathrooms", p."Bedrooms", p."CreatedAt", p."Description", p."IsDeleted", p."Location", p."Price", p."SquareFeet", p."Title", a."Id" AS "Id0", a."AgencyName", a."LicenseNumber", a."Phone"
    FROM "PropertyListings" AS p
    INNER JOIN "Agents" AS a ON p."AgentId" = a."Id"
    WHERE NOT (p."IsDeleted") AND p."Id" = @__id_0
    LIMIT 1
) AS s
LEFT JOIN (
    SELECT p0."Id", p0."DeletedAt", p0."FileName", p0."FileUrl", p0."IsDeleted", p0."PropertyListingId"
    FROM "PropertyImages" AS p0
    WHERE NOT (p0."IsDeleted")
) AS p1 ON s."Id" = p1."PropertyListingId"
LEFT JOIN "Inquiries" AS i ON s."Id" = i."ListingId"
ORDER BY s."Id", s."Id0", p1."Id"
2025-06-13 00:36:45.460 +05:30 [INF] Executed DbCommand (4ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime), @p2='?', @p3='?', @p4='?' (DbType = Boolean), @p5='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "PropertyImages" ("Id", "DeletedAt", "FileName", "FileUrl", "IsDeleted", "PropertyListingId")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2025-06-13 00:36:45.532 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?', @p3='?', @p4='?', @p5='?', @p6='?' (DbType = DateTime), @p7='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AuditLogs" ("Id", "ActionType", "NewValues", "OldValues", "PrimaryKey", "TableName", "Timestamp", "UserId")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
2025-06-13 00:36:45.539 +05:30 [INF] Executing OkObjectResult, writing value of type 'RealEstateApi.Models.PropertyImage'.
2025-06-13 00:36:45.588 +05:30 [INF] Executed action RealEstateApi.Controllers.PropertyListingsController.UploadImage (RealEstateApi) in 1651.3212ms
2025-06-13 00:36:45.589 +05:30 [INF] Executed endpoint 'RealEstateApi.Controllers.PropertyListingsController.UploadImage (RealEstateApi)'
2025-06-13 00:36:45.601 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5009/api/v1/PropertyListings/upload-image - 200 null application/json; charset=utf-8 1818.9755ms
2025-06-13 00:36:58.933 +05:30 [INF] Application is shutting down...
2025-06-13 00:37:09.931 +05:30 [INF] User profile is available. Using '/Users/muckesh/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2025-06-13 00:37:10.034 +05:30 [INF] Now listening on: http://localhost:5009
2025-06-13 00:37:10.037 +05:30 [INF] Application started. Press Ctrl+C to shut down.
2025-06-13 00:37:10.037 +05:30 [INF] Hosting environment: Development
2025-06-13 00:37:10.038 +05:30 [INF] Content root path: /Users/muckesh/Muckesh/Presidio/Genspark-Training/Capstone-1/RealEstateApi
2025-06-13 00:37:16.217 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5009/api/v1/PropertyListings/upload-image - multipart/form-data; boundary=----WebKitFormBoundaryZpOzRWV2xF7vVqGD 920429
2025-06-13 00:37:16.254 +05:30 [WRN] Failed to determine the https port for redirect.
2025-06-13 00:37:16.340 +05:30 [INF] Executing endpoint 'RealEstateApi.Controllers.PropertyListingsController.UploadImage (RealEstateApi)'
2025-06-13 00:37:16.364 +05:30 [INF] Route matched with {action = "UploadImage", controller = "PropertyListings"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UploadImage(RealEstateApi.Models.DTOs.AddPropertyImageDto) on controller RealEstateApi.Controllers.PropertyListingsController (RealEstateApi).
2025-06-13 00:37:17.351 +05:30 [WRN] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2025-06-13 00:37:17.591 +05:30 [INF] Executed DbCommand (48ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."AgentId", s."Bathrooms", s."Bedrooms", s."CreatedAt", s."Description", s."IsDeleted", s."Location", s."Price", s."SquareFeet", s."Title", s."Id0", s."AgencyName", s."LicenseNumber", s."Phone", p1."Id", p1."DeletedAt", p1."FileName", p1."FileUrl", p1."IsDeleted", p1."PropertyListingId", i."Id", i."BuyerId", i."CreatedAt", i."ListingId", i."Message"
FROM (
    SELECT p."Id", p."AgentId", p."Bathrooms", p."Bedrooms", p."CreatedAt", p."Description", p."IsDeleted", p."Location", p."Price", p."SquareFeet", p."Title", a."Id" AS "Id0", a."AgencyName", a."LicenseNumber", a."Phone"
    FROM "PropertyListings" AS p
    INNER JOIN "Agents" AS a ON p."AgentId" = a."Id"
    WHERE NOT (p."IsDeleted") AND p."Id" = @__id_0
    LIMIT 1
) AS s
LEFT JOIN (
    SELECT p0."Id", p0."DeletedAt", p0."FileName", p0."FileUrl", p0."IsDeleted", p0."PropertyListingId"
    FROM "PropertyImages" AS p0
    WHERE NOT (p0."IsDeleted")
) AS p1 ON s."Id" = p1."PropertyListingId"
LEFT JOIN "Inquiries" AS i ON s."Id" = i."ListingId"
ORDER BY s."Id", s."Id0", p1."Id"
2025-06-13 00:37:17.835 +05:30 [INF] Executed DbCommand (5ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime), @p2='?', @p3='?', @p4='?' (DbType = Boolean), @p5='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "PropertyImages" ("Id", "DeletedAt", "FileName", "FileUrl", "IsDeleted", "PropertyListingId")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2025-06-13 00:37:17.914 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?', @p3='?', @p4='?', @p5='?', @p6='?' (DbType = DateTime), @p7='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AuditLogs" ("Id", "ActionType", "NewValues", "OldValues", "PrimaryKey", "TableName", "Timestamp", "UserId")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
2025-06-13 00:37:17.922 +05:30 [INF] Executing OkObjectResult, writing value of type 'RealEstateApi.Models.PropertyImage'.
2025-06-13 00:37:17.972 +05:30 [INF] Executed action RealEstateApi.Controllers.PropertyListingsController.UploadImage (RealEstateApi) in 1604.7863ms
2025-06-13 00:37:17.973 +05:30 [INF] Executed endpoint 'RealEstateApi.Controllers.PropertyListingsController.UploadImage (RealEstateApi)'
2025-06-13 00:37:17.985 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5009/api/v1/PropertyListings/upload-image - 200 null application/json; charset=utf-8 1770.0904ms
2025-06-13 00:38:47.835 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5009/api/v1/PropertyListings - null null
2025-06-13 00:38:47.861 +05:30 [INF] Executing endpoint 'RealEstateApi.Controllers.PropertyListingsController.SearchListings (RealEstateApi)'
2025-06-13 00:38:47.867 +05:30 [INF] Route matched with {action = "SearchListings", controller = "PropertyListings"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SearchListings(RealEstateApi.Models.DTOs.PropertyListingQueryParametersDto) on controller RealEstateApi.Controllers.PropertyListingsController (RealEstateApi).
2025-06-13 00:38:47.903 +05:30 [WRN] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2025-06-13 00:38:47.929 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."AgentId", p."Bathrooms", p."Bedrooms", p."CreatedAt", p."Description", p."IsDeleted", p."Location", p."Price", p."SquareFeet", p."Title", a."Id", a."AgencyName", a."LicenseNumber", a."Phone", p1."Id", p1."DeletedAt", p1."FileName", p1."FileUrl", p1."IsDeleted", p1."PropertyListingId", i."Id", i."BuyerId", i."CreatedAt", i."ListingId", i."Message"
FROM "PropertyListings" AS p
INNER JOIN "Agents" AS a ON p."AgentId" = a."Id"
LEFT JOIN (
    SELECT p0."Id", p0."DeletedAt", p0."FileName", p0."FileUrl", p0."IsDeleted", p0."PropertyListingId"
    FROM "PropertyImages" AS p0
    WHERE NOT (p0."IsDeleted")
) AS p1 ON p."Id" = p1."PropertyListingId"
LEFT JOIN "Inquiries" AS i ON p."Id" = i."ListingId"
WHERE NOT (p."IsDeleted")
ORDER BY p."Id", a."Id", p1."Id"
2025-06-13 00:38:47.934 +05:30 [INF] Executing OkObjectResult, writing value of type 'RealEstateApi.Models.DTOs.PagedResult`1[[RealEstateApi.Models.PropertyListing, RealEstateApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-13 00:38:47.940 +05:30 [INF] Executed action RealEstateApi.Controllers.PropertyListingsController.SearchListings (RealEstateApi) in 72.2942ms
2025-06-13 00:38:47.940 +05:30 [INF] Executed endpoint 'RealEstateApi.Controllers.PropertyListingsController.SearchListings (RealEstateApi)'
2025-06-13 00:38:47.941 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5009/api/v1/PropertyListings - 200 null application/json; charset=utf-8 105.3168ms
2025-06-13 00:39:00.451 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5009/api/v1/PropertyListings/01976587-f675-7462-8cee-1b0b3818f069 - null null
2025-06-13 00:39:00.456 +05:30 [INF] Executing endpoint 'RealEstateApi.Controllers.PropertyListingsController.GetListingById (RealEstateApi)'
2025-06-13 00:39:00.483 +05:30 [INF] Route matched with {action = "GetListingById", controller = "PropertyListings"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListingById(System.Guid) on controller RealEstateApi.Controllers.PropertyListingsController (RealEstateApi).
2025-06-13 00:39:00.544 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."AgentId", s."Bathrooms", s."Bedrooms", s."CreatedAt", s."Description", s."IsDeleted", s."Location", s."Price", s."SquareFeet", s."Title", s."Id0", s."AgencyName", s."LicenseNumber", s."Phone", p1."Id", p1."DeletedAt", p1."FileName", p1."FileUrl", p1."IsDeleted", p1."PropertyListingId", i."Id", i."BuyerId", i."CreatedAt", i."ListingId", i."Message"
FROM (
    SELECT p."Id", p."AgentId", p."Bathrooms", p."Bedrooms", p."CreatedAt", p."Description", p."IsDeleted", p."Location", p."Price", p."SquareFeet", p."Title", a."Id" AS "Id0", a."AgencyName", a."LicenseNumber", a."Phone"
    FROM "PropertyListings" AS p
    INNER JOIN "Agents" AS a ON p."AgentId" = a."Id"
    WHERE NOT (p."IsDeleted") AND p."Id" = @__id_0
    LIMIT 1
) AS s
LEFT JOIN (
    SELECT p0."Id", p0."DeletedAt", p0."FileName", p0."FileUrl", p0."IsDeleted", p0."PropertyListingId"
    FROM "PropertyImages" AS p0
    WHERE NOT (p0."IsDeleted")
) AS p1 ON s."Id" = p1."PropertyListingId"
LEFT JOIN "Inquiries" AS i ON s."Id" = i."ListingId"
ORDER BY s."Id", s."Id0", p1."Id"
2025-06-13 00:39:00.545 +05:30 [INF] Executing OkObjectResult, writing value of type 'RealEstateApi.Models.PropertyListing'.
2025-06-13 00:39:00.546 +05:30 [INF] Executed action RealEstateApi.Controllers.PropertyListingsController.GetListingById (RealEstateApi) in 62.6735ms
2025-06-13 00:39:00.546 +05:30 [INF] Executed endpoint 'RealEstateApi.Controllers.PropertyListingsController.GetListingById (RealEstateApi)'
2025-06-13 00:39:00.546 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5009/api/v1/PropertyListings/01976587-f675-7462-8cee-1b0b3818f069 - 200 null application/json; charset=utf-8 94.9381ms
2025-06-13 00:39:56.076 +05:30 [INF] Request starting HTTP/1.1 PUT http://localhost:5009/api/v1/PropertyListings/01976587-f675-7462-8cee-1b0b3818f069 - application/json 27
2025-06-13 00:39:56.079 +05:30 [INF] Executing endpoint 'RealEstateApi.Controllers.PropertyListingsController.UpdateListing (RealEstateApi)'
2025-06-13 00:39:56.083 +05:30 [INF] Route matched with {action = "UpdateListing", controller = "PropertyListings"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[RealEstateApi.Models.PropertyListing]] UpdateListing(System.Guid, RealEstateApi.Models.DTOs.UpdatePropertyListingDto) on controller RealEstateApi.Controllers.PropertyListingsController (RealEstateApi).
2025-06-13 00:39:56.106 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."AgentId", s."Bathrooms", s."Bedrooms", s."CreatedAt", s."Description", s."IsDeleted", s."Location", s."Price", s."SquareFeet", s."Title", s."Id0", s."AgencyName", s."LicenseNumber", s."Phone", p1."Id", p1."DeletedAt", p1."FileName", p1."FileUrl", p1."IsDeleted", p1."PropertyListingId", i."Id", i."BuyerId", i."CreatedAt", i."ListingId", i."Message"
FROM (
    SELECT p."Id", p."AgentId", p."Bathrooms", p."Bedrooms", p."CreatedAt", p."Description", p."IsDeleted", p."Location", p."Price", p."SquareFeet", p."Title", a."Id" AS "Id0", a."AgencyName", a."LicenseNumber", a."Phone"
    FROM "PropertyListings" AS p
    INNER JOIN "Agents" AS a ON p."AgentId" = a."Id"
    WHERE NOT (p."IsDeleted") AND p."Id" = @__id_0
    LIMIT 1
) AS s
LEFT JOIN (
    SELECT p0."Id", p0."DeletedAt", p0."FileName", p0."FileUrl", p0."IsDeleted", p0."PropertyListingId"
    FROM "PropertyImages" AS p0
    WHERE NOT (p0."IsDeleted")
) AS p1 ON s."Id" = p1."PropertyListingId"
LEFT JOIN "Inquiries" AS i ON s."Id" = i."ListingId"
ORDER BY s."Id", s."Id0", p1."Id"
2025-06-13 00:39:56.110 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."AgentId", s."Bathrooms", s."Bedrooms", s."CreatedAt", s."Description", s."IsDeleted", s."Location", s."Price", s."SquareFeet", s."Title", s."Id0", s."AgencyName", s."LicenseNumber", s."Phone", p1."Id", p1."DeletedAt", p1."FileName", p1."FileUrl", p1."IsDeleted", p1."PropertyListingId", i."Id", i."BuyerId", i."CreatedAt", i."ListingId", i."Message"
FROM (
    SELECT p."Id", p."AgentId", p."Bathrooms", p."Bedrooms", p."CreatedAt", p."Description", p."IsDeleted", p."Location", p."Price", p."SquareFeet", p."Title", a."Id" AS "Id0", a."AgencyName", a."LicenseNumber", a."Phone"
    FROM "PropertyListings" AS p
    INNER JOIN "Agents" AS a ON p."AgentId" = a."Id"
    WHERE NOT (p."IsDeleted") AND p."Id" = @__id_0
    LIMIT 1
) AS s
LEFT JOIN (
    SELECT p0."Id", p0."DeletedAt", p0."FileName", p0."FileUrl", p0."IsDeleted", p0."PropertyListingId"
    FROM "PropertyImages" AS p0
    WHERE NOT (p0."IsDeleted")
) AS p1 ON s."Id" = p1."PropertyListingId"
LEFT JOIN "Inquiries" AS i ON s."Id" = i."ListingId"
ORDER BY s."Id", s."Id0", p1."Id"
2025-06-13 00:39:56.113 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."AgentId", s."Bathrooms", s."Bedrooms", s."CreatedAt", s."Description", s."IsDeleted", s."Location", s."Price", s."SquareFeet", s."Title", s."Id0", s."AgencyName", s."LicenseNumber", s."Phone", p1."Id", p1."DeletedAt", p1."FileName", p1."FileUrl", p1."IsDeleted", p1."PropertyListingId", i."Id", i."BuyerId", i."CreatedAt", i."ListingId", i."Message"
FROM (
    SELECT p."Id", p."AgentId", p."Bathrooms", p."Bedrooms", p."CreatedAt", p."Description", p."IsDeleted", p."Location", p."Price", p."SquareFeet", p."Title", a."Id" AS "Id0", a."AgencyName", a."LicenseNumber", a."Phone"
    FROM "PropertyListings" AS p
    INNER JOIN "Agents" AS a ON p."AgentId" = a."Id"
    WHERE NOT (p."IsDeleted") AND p."Id" = @__id_0
    LIMIT 1
) AS s
LEFT JOIN (
    SELECT p0."Id", p0."DeletedAt", p0."FileName", p0."FileUrl", p0."IsDeleted", p0."PropertyListingId"
    FROM "PropertyImages" AS p0
    WHERE NOT (p0."IsDeleted")
) AS p1 ON s."Id" = p1."PropertyListingId"
LEFT JOIN "Inquiries" AS i ON s."Id" = i."ListingId"
ORDER BY s."Id", s."Id0", p1."Id"
2025-06-13 00:39:56.123 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@p1='?' (DbType = Guid), @p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
UPDATE "PropertyListings" SET "SquareFeet" = @p0
WHERE "Id" = @p1;
2025-06-13 00:39:56.128 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?', @p3='?', @p4='?', @p5='?', @p6='?' (DbType = DateTime), @p7='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AuditLogs" ("Id", "ActionType", "NewValues", "OldValues", "PrimaryKey", "TableName", "Timestamp", "UserId")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
2025-06-13 00:39:56.129 +05:30 [INF] Executing OkObjectResult, writing value of type 'RealEstateApi.Models.PropertyListing'.
2025-06-13 00:39:56.130 +05:30 [INF] Executed action RealEstateApi.Controllers.PropertyListingsController.UpdateListing (RealEstateApi) in 46.2958ms
2025-06-13 00:39:56.130 +05:30 [INF] Executed endpoint 'RealEstateApi.Controllers.PropertyListingsController.UpdateListing (RealEstateApi)'
2025-06-13 00:39:56.130 +05:30 [INF] Request finished HTTP/1.1 PUT http://localhost:5009/api/v1/PropertyListings/01976587-f675-7462-8cee-1b0b3818f069 - 200 null application/json; charset=utf-8 53.6574ms
2025-06-13 00:40:19.961 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5009/api/v1/PropertyImages/urls/01976587-f675-7462-8cee-1b0b3818f069 - null null
2025-06-13 00:40:19.961 +05:30 [INF] Executing endpoint 'RealEstateApi.Controllers.PropertyImagesController.GetListingImageUrls (RealEstateApi)'
2025-06-13 00:40:19.965 +05:30 [INF] Route matched with {action = "GetListingImageUrls", controller = "PropertyImages"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListingImageUrls(System.Guid) on controller RealEstateApi.Controllers.PropertyImagesController (RealEstateApi).
2025-06-13 00:40:19.993 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."AgentId", s."Bathrooms", s."Bedrooms", s."CreatedAt", s."Description", s."IsDeleted", s."Location", s."Price", s."SquareFeet", s."Title", s."Id0", s."AgencyName", s."LicenseNumber", s."Phone", p1."Id", p1."DeletedAt", p1."FileName", p1."FileUrl", p1."IsDeleted", p1."PropertyListingId", i."Id", i."BuyerId", i."CreatedAt", i."ListingId", i."Message"
FROM (
    SELECT p."Id", p."AgentId", p."Bathrooms", p."Bedrooms", p."CreatedAt", p."Description", p."IsDeleted", p."Location", p."Price", p."SquareFeet", p."Title", a."Id" AS "Id0", a."AgencyName", a."LicenseNumber", a."Phone"
    FROM "PropertyListings" AS p
    INNER JOIN "Agents" AS a ON p."AgentId" = a."Id"
    WHERE NOT (p."IsDeleted") AND p."Id" = @__id_0
    LIMIT 1
) AS s
LEFT JOIN (
    SELECT p0."Id", p0."DeletedAt", p0."FileName", p0."FileUrl", p0."IsDeleted", p0."PropertyListingId"
    FROM "PropertyImages" AS p0
    WHERE NOT (p0."IsDeleted")
) AS p1 ON s."Id" = p1."PropertyListingId"
LEFT JOIN "Inquiries" AS i ON s."Id" = i."ListingId"
ORDER BY s."Id", s."Id0", p1."Id"
2025-06-13 00:40:20.006 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."DeletedAt", p."FileName", p."FileUrl", p."IsDeleted", p."PropertyListingId", p0."Id", p0."AgentId", p0."Bathrooms", p0."Bedrooms", p0."CreatedAt", p0."Description", p0."IsDeleted", p0."Location", p0."Price", p0."SquareFeet", p0."Title"
FROM "PropertyImages" AS p
INNER JOIN "PropertyListings" AS p0 ON p."PropertyListingId" = p0."Id"
WHERE NOT (p."IsDeleted")
2025-06-13 00:40:20.007 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+SelectListIterator`2[[RealEstateApi.Models.PropertyImage, RealEstateApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-06-13 00:40:20.008 +05:30 [INF] Executed action RealEstateApi.Controllers.PropertyImagesController.GetListingImageUrls (RealEstateApi) in 42.6709ms
2025-06-13 00:40:20.008 +05:30 [INF] Executed endpoint 'RealEstateApi.Controllers.PropertyImagesController.GetListingImageUrls (RealEstateApi)'
2025-06-13 00:40:20.008 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5009/api/v1/PropertyImages/urls/01976587-f675-7462-8cee-1b0b3818f069 - 200 null application/json; charset=utf-8 47.8253ms
2025-06-13 00:40:47.040 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5009/api/v1/PropertyImages/file/263d4d36-7912-404e-a7b1-0fbe36310857 - null null
2025-06-13 00:40:47.041 +05:30 [INF] Executing endpoint 'RealEstateApi.Controllers.PropertyImagesController.GetImageFile (RealEstateApi)'
2025-06-13 00:40:47.046 +05:30 [INF] Route matched with {action = "GetImageFile", controller = "PropertyImages"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetImageFile(System.Guid) on controller RealEstateApi.Controllers.PropertyImagesController (RealEstateApi).
2025-06-13 00:40:47.062 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."DeletedAt", p."FileName", p."FileUrl", p."IsDeleted", p."PropertyListingId", p0."Id", p0."AgentId", p0."Bathrooms", p0."Bedrooms", p0."CreatedAt", p0."Description", p0."IsDeleted", p0."Location", p0."Price", p0."SquareFeet", p0."Title"
FROM "PropertyImages" AS p
INNER JOIN "PropertyListings" AS p0 ON p."PropertyListingId" = p0."Id"
WHERE NOT (p."IsDeleted") AND p."Id" = @__id_0
LIMIT 2
2025-06-13 00:40:47.064 +05:30 [INF] Executing BadRequestObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-06-13 00:40:47.071 +05:30 [INF] Executed action RealEstateApi.Controllers.PropertyImagesController.GetImageFile (RealEstateApi) in 25.3515ms
2025-06-13 00:40:47.071 +05:30 [INF] Executed endpoint 'RealEstateApi.Controllers.PropertyImagesController.GetImageFile (RealEstateApi)'
2025-06-13 00:40:47.071 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5009/api/v1/PropertyImages/file/263d4d36-7912-404e-a7b1-0fbe36310857 - 400 null application/json; charset=utf-8 31.412ms
2025-06-13 00:41:36.870 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5009/api/v1/PropertyImages/file/01976588-4d69-755b-b446-22f1ff060bc2 - null null
2025-06-13 00:41:36.871 +05:30 [INF] Executing endpoint 'RealEstateApi.Controllers.PropertyImagesController.GetImageFile (RealEstateApi)'
2025-06-13 00:41:36.871 +05:30 [INF] Route matched with {action = "GetImageFile", controller = "PropertyImages"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetImageFile(System.Guid) on controller RealEstateApi.Controllers.PropertyImagesController (RealEstateApi).
2025-06-13 00:41:36.874 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."DeletedAt", p."FileName", p."FileUrl", p."IsDeleted", p."PropertyListingId", p0."Id", p0."AgentId", p0."Bathrooms", p0."Bedrooms", p0."CreatedAt", p0."Description", p0."IsDeleted", p0."Location", p0."Price", p0."SquareFeet", p0."Title"
FROM "PropertyImages" AS p
INNER JOIN "PropertyListings" AS p0 ON p."PropertyListingId" = p0."Id"
WHERE NOT (p."IsDeleted") AND p."Id" = @__id_0
LIMIT 2
2025-06-13 00:41:36.897 +05:30 [INF] Executing FileContentResult, sending file with download name '263d4d36-7912-404e-a7b1-0fbe36310857.jpg' ...
2025-06-13 00:41:36.920 +05:30 [INF] Executed action RealEstateApi.Controllers.PropertyImagesController.GetImageFile (RealEstateApi) in 48.3406ms
2025-06-13 00:41:36.920 +05:30 [INF] Executed endpoint 'RealEstateApi.Controllers.PropertyImagesController.GetImageFile (RealEstateApi)'
2025-06-13 00:41:36.920 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5009/api/v1/PropertyImages/file/01976588-4d69-755b-b446-22f1ff060bc2 - 200 920097 image/jpeg 49.4599ms
2025-06-13 00:42:03.112 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5009/api/v1/Auth/login - application/json 54
2025-06-13 00:42:03.113 +05:30 [INF] Executing endpoint 'RealEstateApi.Controllers.AuthController.Login (RealEstateApi)'
2025-06-13 00:42:03.116 +05:30 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[RealEstateApi.Models.DTOs.AuthResponseDto]] Login(RealEstateApi.Models.DTOs.LoginDto) on controller RealEstateApi.Controllers.AuthController (RealEstateApi).
2025-06-13 00:42:03.161 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."Email", u."IsDeleted", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role"
FROM "Users" AS u
WHERE NOT (u."IsDeleted")
2025-06-13 00:42:03.466 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."Email", u."IsDeleted", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role"
FROM "Users" AS u
WHERE NOT (u."IsDeleted") AND u."Id" = @__id_0
LIMIT 2
2025-06-13 00:42:03.475 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@p2='?' (DbType = Guid), @p0='?', @p1='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Users" SET "RefreshToken" = @p0, "RefreshTokenExpiryTime" = @p1
WHERE "Id" = @p2;
2025-06-13 00:42:03.480 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?', @p3='?', @p4='?', @p5='?', @p6='?' (DbType = DateTime), @p7='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AuditLogs" ("Id", "ActionType", "NewValues", "OldValues", "PrimaryKey", "TableName", "Timestamp", "UserId")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
2025-06-13 00:42:03.481 +05:30 [INF] Executing OkObjectResult, writing value of type 'RealEstateApi.Models.DTOs.AuthResponseDto'.
2025-06-13 00:42:03.482 +05:30 [INF] Executed action RealEstateApi.Controllers.AuthController.Login (RealEstateApi) in 365.5368ms
2025-06-13 00:42:03.482 +05:30 [INF] Executed endpoint 'RealEstateApi.Controllers.AuthController.Login (RealEstateApi)'
2025-06-13 00:42:03.482 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5009/api/v1/Auth/login - 200 null application/json; charset=utf-8 370.2849ms
2025-06-13 00:43:38.666 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5009/api/v1/Inquiries - application/json 151
2025-06-13 00:43:38.669 +05:30 [INF] Executing endpoint 'RealEstateApi.Controllers.InquiriesController.AddInquiry (RealEstateApi)'
2025-06-13 00:43:38.673 +05:30 [INF] Route matched with {action = "AddInquiry", controller = "Inquiries"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddInquiry(RealEstateApi.Models.DTOs.AddInquiryDto) on controller RealEstateApi.Controllers.InquiriesController (RealEstateApi).
2025-06-13 00:43:38.712 +05:30 [INF] Executed DbCommand (5ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p2='?' (DbType = DateTime), @p3='?' (DbType = Guid), @p4='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Inquiries" ("Id", "BuyerId", "CreatedAt", "ListingId", "Message")
VALUES (@p0, @p1, @p2, @p3, @p4);
2025-06-13 00:43:38.714 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?', @p3='?', @p4='?', @p5='?', @p6='?' (DbType = DateTime), @p7='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AuditLogs" ("Id", "ActionType", "NewValues", "OldValues", "PrimaryKey", "TableName", "Timestamp", "UserId")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
2025-06-13 00:43:38.714 +05:30 [INF] Executing CreatedResult, writing value of type 'RealEstateApi.Models.Inquiry'.
2025-06-13 00:43:38.716 +05:30 [INF] Executed action RealEstateApi.Controllers.InquiriesController.AddInquiry (RealEstateApi) in 43.1028ms
2025-06-13 00:43:38.716 +05:30 [INF] Executed endpoint 'RealEstateApi.Controllers.InquiriesController.AddInquiry (RealEstateApi)'
2025-06-13 00:43:38.716 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5009/api/v1/Inquiries - 201 null application/json; charset=utf-8 49.8168ms
2025-06-13 00:43:56.070 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5009/api/v1/Inquiries - null null
2025-06-13 00:43:56.071 +05:30 [INF] Executing endpoint 'RealEstateApi.Controllers.InquiriesController.GetFilteredInquiries (RealEstateApi)'
2025-06-13 00:43:56.075 +05:30 [INF] Route matched with {action = "GetFilteredInquiries", controller = "Inquiries"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetFilteredInquiries(RealEstateApi.Models.DTOs.InquiryQueryDto) on controller RealEstateApi.Controllers.InquiriesController (RealEstateApi).
2025-06-13 00:43:56.119 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT i."Id", i."BuyerId", i."CreatedAt", i."ListingId", i."Message", b."Id", b."Budget", b."PreferredLocation", p."Id", p."AgentId", p."Bathrooms", p."Bedrooms", p."CreatedAt", p."Description", p."IsDeleted", p."Location", p."Price", p."SquareFeet", p."Title"
FROM "Inquiries" AS i
INNER JOIN "Buyers" AS b ON i."BuyerId" = b."Id"
INNER JOIN "PropertyListings" AS p ON i."ListingId" = p."Id"
2025-06-13 00:43:56.126 +05:30 [INF] Executing OkObjectResult, writing value of type 'RealEstateApi.Models.DTOs.PagedResult`1[[RealEstateApi.Models.Inquiry, RealEstateApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-13 00:43:56.129 +05:30 [INF] Executed action RealEstateApi.Controllers.InquiriesController.GetFilteredInquiries (RealEstateApi) in 53.8296ms
2025-06-13 00:43:56.129 +05:30 [INF] Executed endpoint 'RealEstateApi.Controllers.InquiriesController.GetFilteredInquiries (RealEstateApi)'
2025-06-13 00:43:56.129 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5009/api/v1/Inquiries - 200 null application/json; charset=utf-8 59.1239ms
2025-06-13 00:44:19.343 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5009/api/v1/User - null null
2025-06-13 00:44:19.345 +05:30 [INF] Executing endpoint 'RealEstateApi.Controllers.UserController.GetFilteredUsers (RealEstateApi)'
2025-06-13 00:44:19.350 +05:30 [INF] Route matched with {action = "GetFilteredUsers", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[RealEstateApi.Models.DTOs.PagedResult`1[RealEstateApi.Models.User]]] GetFilteredUsers(RealEstateApi.Models.DTOs.UserQueryDto) on controller RealEstateApi.Controllers.UserController (RealEstateApi).
2025-06-13 00:44:19.358 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."Email", u."IsDeleted", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role"
FROM "Users" AS u
WHERE NOT (u."IsDeleted")
2025-06-13 00:44:19.359 +05:30 [INF] Executing OkObjectResult, writing value of type 'RealEstateApi.Models.DTOs.PagedResult`1[[RealEstateApi.Models.User, RealEstateApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-13 00:44:19.364 +05:30 [INF] Executed action RealEstateApi.Controllers.UserController.GetFilteredUsers (RealEstateApi) in 13.7465ms
2025-06-13 00:44:19.364 +05:30 [INF] Executed endpoint 'RealEstateApi.Controllers.UserController.GetFilteredUsers (RealEstateApi)'
2025-06-13 00:44:19.364 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5009/api/v1/User - 200 null application/json; charset=utf-8 21.0424ms
2025-06-13 00:46:23.983 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5009/api/v1/Agents - null null
2025-06-13 00:46:23.984 +05:30 [INF] Executing endpoint 'RealEstateApi.Controllers.AgentsController.GetFilteredAgents (RealEstateApi)'
2025-06-13 00:46:23.989 +05:30 [INF] Route matched with {action = "GetFilteredAgents", controller = "Agents"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetFilteredAgents(AgentQueryDto) on controller RealEstateApi.Controllers.AgentsController (RealEstateApi).
2025-06-13 00:46:24.046 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AgencyName", a."LicenseNumber", a."Phone", u."Id", u."CreatedAt", u."Email", u."IsDeleted", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", p."Id", p."AgentId", p."Bathrooms", p."Bedrooms", p."CreatedAt", p."Description", p."IsDeleted", p."Location", p."Price", p."SquareFeet", p."Title"
FROM "Agents" AS a
INNER JOIN "Users" AS u ON a."Id" = u."Id"
LEFT JOIN "PropertyListings" AS p ON a."Id" = p."AgentId"
WHERE NOT (u."IsDeleted")
ORDER BY a."Id", u."Id"
2025-06-13 00:46:24.050 +05:30 [INF] Executing OkObjectResult, writing value of type 'RealEstateApi.Models.DTOs.PagedResult`1[[RealEstateApi.Models.Agent, RealEstateApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-13 00:46:24.052 +05:30 [INF] Executed action RealEstateApi.Controllers.AgentsController.GetFilteredAgents (RealEstateApi) in 62.8449ms
2025-06-13 00:46:24.052 +05:30 [INF] Executed endpoint 'RealEstateApi.Controllers.AgentsController.GetFilteredAgents (RealEstateApi)'
2025-06-13 00:46:24.052 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5009/api/v1/Agents - 200 null application/json; charset=utf-8 69.1404ms
2025-06-13 00:46:37.868 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5009/api/v1/Agents - null null
2025-06-13 00:46:37.868 +05:30 [INF] Executing endpoint 'RealEstateApi.Controllers.AgentsController.GetFilteredAgents (RealEstateApi)'
2025-06-13 00:46:37.868 +05:30 [INF] Route matched with {action = "GetFilteredAgents", controller = "Agents"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetFilteredAgents(AgentQueryDto) on controller RealEstateApi.Controllers.AgentsController (RealEstateApi).
2025-06-13 00:46:37.871 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AgencyName", a."LicenseNumber", a."Phone", u."Id", u."CreatedAt", u."Email", u."IsDeleted", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", p."Id", p."AgentId", p."Bathrooms", p."Bedrooms", p."CreatedAt", p."Description", p."IsDeleted", p."Location", p."Price", p."SquareFeet", p."Title"
FROM "Agents" AS a
INNER JOIN "Users" AS u ON a."Id" = u."Id"
LEFT JOIN "PropertyListings" AS p ON a."Id" = p."AgentId"
WHERE NOT (u."IsDeleted")
ORDER BY a."Id", u."Id"
2025-06-13 00:46:37.872 +05:30 [INF] Executing OkObjectResult, writing value of type 'RealEstateApi.Models.DTOs.PagedResult`1[[RealEstateApi.Models.Agent, RealEstateApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-13 00:46:37.872 +05:30 [INF] Executed action RealEstateApi.Controllers.AgentsController.GetFilteredAgents (RealEstateApi) in 3.5123ms
2025-06-13 00:46:37.872 +05:30 [INF] Executed endpoint 'RealEstateApi.Controllers.AgentsController.GetFilteredAgents (RealEstateApi)'
2025-06-13 00:46:37.872 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5009/api/v1/Agents - 200 null application/json; charset=utf-8 4.4031ms
2025-06-13 00:46:59.271 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5009/api/v1/Agents?Name=he - null null
2025-06-13 00:46:59.271 +05:30 [INF] Executing endpoint 'RealEstateApi.Controllers.AgentsController.GetFilteredAgents (RealEstateApi)'
2025-06-13 00:46:59.271 +05:30 [INF] Route matched with {action = "GetFilteredAgents", controller = "Agents"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetFilteredAgents(AgentQueryDto) on controller RealEstateApi.Controllers.AgentsController (RealEstateApi).
2025-06-13 00:46:59.279 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AgencyName", a."LicenseNumber", a."Phone", u."Id", u."CreatedAt", u."Email", u."IsDeleted", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", p."Id", p."AgentId", p."Bathrooms", p."Bedrooms", p."CreatedAt", p."Description", p."IsDeleted", p."Location", p."Price", p."SquareFeet", p."Title"
FROM "Agents" AS a
INNER JOIN "Users" AS u ON a."Id" = u."Id"
LEFT JOIN "PropertyListings" AS p ON a."Id" = p."AgentId"
WHERE NOT (u."IsDeleted")
ORDER BY a."Id", u."Id"
2025-06-13 00:46:59.280 +05:30 [INF] Executing OkObjectResult, writing value of type 'RealEstateApi.Models.DTOs.PagedResult`1[[RealEstateApi.Models.Agent, RealEstateApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-13 00:46:59.302 +05:30 [INF] Executed action RealEstateApi.Controllers.AgentsController.GetFilteredAgents (RealEstateApi) in 30.7026ms
2025-06-13 00:46:59.302 +05:30 [INF] Executed endpoint 'RealEstateApi.Controllers.AgentsController.GetFilteredAgents (RealEstateApi)'
2025-06-13 00:46:59.303 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5009/api/v1/Agents?Name=he - 200 null application/json; charset=utf-8 31.7638ms
2025-06-13 00:47:45.076 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5009/swagger/v1/swagger.json - null null
2025-06-13 00:47:45.195 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5009/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 119.6334ms
2025-06-13 00:48:33.419 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5009/api/v1/Agents?Name=Alice - null null
2025-06-13 00:48:33.419 +05:30 [INF] Executing endpoint 'RealEstateApi.Controllers.AgentsController.GetFilteredAgents (RealEstateApi)'
2025-06-13 00:48:33.419 +05:30 [INF] Route matched with {action = "GetFilteredAgents", controller = "Agents"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetFilteredAgents(AgentQueryDto) on controller RealEstateApi.Controllers.AgentsController (RealEstateApi).
2025-06-13 00:48:33.421 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AgencyName", a."LicenseNumber", a."Phone", u."Id", u."CreatedAt", u."Email", u."IsDeleted", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", p."Id", p."AgentId", p."Bathrooms", p."Bedrooms", p."CreatedAt", p."Description", p."IsDeleted", p."Location", p."Price", p."SquareFeet", p."Title"
FROM "Agents" AS a
INNER JOIN "Users" AS u ON a."Id" = u."Id"
LEFT JOIN "PropertyListings" AS p ON a."Id" = p."AgentId"
WHERE NOT (u."IsDeleted")
ORDER BY a."Id", u."Id"
2025-06-13 00:48:33.422 +05:30 [INF] Executing OkObjectResult, writing value of type 'RealEstateApi.Models.DTOs.PagedResult`1[[RealEstateApi.Models.Agent, RealEstateApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-13 00:48:33.422 +05:30 [INF] Executed action RealEstateApi.Controllers.AgentsController.GetFilteredAgents (RealEstateApi) in 2.991ms
2025-06-13 00:48:33.422 +05:30 [INF] Executed endpoint 'RealEstateApi.Controllers.AgentsController.GetFilteredAgents (RealEstateApi)'
2025-06-13 00:48:33.423 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5009/api/v1/Agents?Name=Alice - 200 null application/json; charset=utf-8 3.7662ms
2025-06-13 00:48:42.890 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5009/api/v1/Agents?Name=Alice&AgencyName=Alice - null null
2025-06-13 00:48:42.891 +05:30 [INF] Executing endpoint 'RealEstateApi.Controllers.AgentsController.GetFilteredAgents (RealEstateApi)'
2025-06-13 00:48:42.891 +05:30 [INF] Route matched with {action = "GetFilteredAgents", controller = "Agents"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetFilteredAgents(AgentQueryDto) on controller RealEstateApi.Controllers.AgentsController (RealEstateApi).
2025-06-13 00:48:42.905 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AgencyName", a."LicenseNumber", a."Phone", u."Id", u."CreatedAt", u."Email", u."IsDeleted", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", p."Id", p."AgentId", p."Bathrooms", p."Bedrooms", p."CreatedAt", p."Description", p."IsDeleted", p."Location", p."Price", p."SquareFeet", p."Title"
FROM "Agents" AS a
INNER JOIN "Users" AS u ON a."Id" = u."Id"
LEFT JOIN "PropertyListings" AS p ON a."Id" = p."AgentId"
WHERE NOT (u."IsDeleted")
ORDER BY a."Id", u."Id"
2025-06-13 00:48:42.906 +05:30 [INF] Executing OkObjectResult, writing value of type 'RealEstateApi.Models.DTOs.PagedResult`1[[RealEstateApi.Models.Agent, RealEstateApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-13 00:48:42.906 +05:30 [INF] Executed action RealEstateApi.Controllers.AgentsController.GetFilteredAgents (RealEstateApi) in 14.9463ms
2025-06-13 00:48:42.906 +05:30 [INF] Executed endpoint 'RealEstateApi.Controllers.AgentsController.GetFilteredAgents (RealEstateApi)'
2025-06-13 00:48:42.906 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5009/api/v1/Agents?Name=Alice&AgencyName=Alice - 200 null application/json; charset=utf-8 15.6896ms
2025-06-13 00:48:59.146 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5009/api/v1/Agents?Name=Alice&AgencyName=Alice&PageNumber=2 - null null
2025-06-13 00:48:59.146 +05:30 [INF] Executing endpoint 'RealEstateApi.Controllers.AgentsController.GetFilteredAgents (RealEstateApi)'
2025-06-13 00:48:59.146 +05:30 [INF] Route matched with {action = "GetFilteredAgents", controller = "Agents"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetFilteredAgents(AgentQueryDto) on controller RealEstateApi.Controllers.AgentsController (RealEstateApi).
2025-06-13 00:48:59.148 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AgencyName", a."LicenseNumber", a."Phone", u."Id", u."CreatedAt", u."Email", u."IsDeleted", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", p."Id", p."AgentId", p."Bathrooms", p."Bedrooms", p."CreatedAt", p."Description", p."IsDeleted", p."Location", p."Price", p."SquareFeet", p."Title"
FROM "Agents" AS a
INNER JOIN "Users" AS u ON a."Id" = u."Id"
LEFT JOIN "PropertyListings" AS p ON a."Id" = p."AgentId"
WHERE NOT (u."IsDeleted")
ORDER BY a."Id", u."Id"
2025-06-13 00:48:59.149 +05:30 [INF] Executing OkObjectResult, writing value of type 'RealEstateApi.Models.DTOs.PagedResult`1[[RealEstateApi.Models.Agent, RealEstateApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-13 00:48:59.149 +05:30 [INF] Executed action RealEstateApi.Controllers.AgentsController.GetFilteredAgents (RealEstateApi) in 2.7251ms
2025-06-13 00:48:59.149 +05:30 [INF] Executed endpoint 'RealEstateApi.Controllers.AgentsController.GetFilteredAgents (RealEstateApi)'
2025-06-13 00:48:59.149 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5009/api/v1/Agents?Name=Alice&AgencyName=Alice&PageNumber=2 - 200 null application/json; charset=utf-8 3.3222ms
2025-06-13 00:49:09.654 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5009/api/v1/Agents?Name=Alice&AgencyName=Alice&PageNumber=2&PageSize=1 - null null
2025-06-13 00:49:09.655 +05:30 [INF] Executing endpoint 'RealEstateApi.Controllers.AgentsController.GetFilteredAgents (RealEstateApi)'
2025-06-13 00:49:09.655 +05:30 [INF] Route matched with {action = "GetFilteredAgents", controller = "Agents"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetFilteredAgents(AgentQueryDto) on controller RealEstateApi.Controllers.AgentsController (RealEstateApi).
2025-06-13 00:49:09.656 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AgencyName", a."LicenseNumber", a."Phone", u."Id", u."CreatedAt", u."Email", u."IsDeleted", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", p."Id", p."AgentId", p."Bathrooms", p."Bedrooms", p."CreatedAt", p."Description", p."IsDeleted", p."Location", p."Price", p."SquareFeet", p."Title"
FROM "Agents" AS a
INNER JOIN "Users" AS u ON a."Id" = u."Id"
LEFT JOIN "PropertyListings" AS p ON a."Id" = p."AgentId"
WHERE NOT (u."IsDeleted")
ORDER BY a."Id", u."Id"
2025-06-13 00:49:09.657 +05:30 [INF] Executing OkObjectResult, writing value of type 'RealEstateApi.Models.DTOs.PagedResult`1[[RealEstateApi.Models.Agent, RealEstateApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-13 00:49:09.657 +05:30 [INF] Executed action RealEstateApi.Controllers.AgentsController.GetFilteredAgents (RealEstateApi) in 2.8236ms
2025-06-13 00:49:09.658 +05:30 [INF] Executed endpoint 'RealEstateApi.Controllers.AgentsController.GetFilteredAgents (RealEstateApi)'
2025-06-13 00:49:09.658 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5009/api/v1/Agents?Name=Alice&AgencyName=Alice&PageNumber=2&PageSize=1 - 200 null application/json; charset=utf-8 3.3946ms
2025-06-13 00:49:18.423 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5009/api/v1/Agents - null null
2025-06-13 00:49:18.424 +05:30 [INF] Executing endpoint 'RealEstateApi.Controllers.AgentsController.GetFilteredAgents (RealEstateApi)'
2025-06-13 00:49:18.424 +05:30 [INF] Route matched with {action = "GetFilteredAgents", controller = "Agents"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetFilteredAgents(AgentQueryDto) on controller RealEstateApi.Controllers.AgentsController (RealEstateApi).
2025-06-13 00:49:18.425 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AgencyName", a."LicenseNumber", a."Phone", u."Id", u."CreatedAt", u."Email", u."IsDeleted", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", p."Id", p."AgentId", p."Bathrooms", p."Bedrooms", p."CreatedAt", p."Description", p."IsDeleted", p."Location", p."Price", p."SquareFeet", p."Title"
FROM "Agents" AS a
INNER JOIN "Users" AS u ON a."Id" = u."Id"
LEFT JOIN "PropertyListings" AS p ON a."Id" = p."AgentId"
WHERE NOT (u."IsDeleted")
ORDER BY a."Id", u."Id"
2025-06-13 00:49:18.426 +05:30 [INF] Executing OkObjectResult, writing value of type 'RealEstateApi.Models.DTOs.PagedResult`1[[RealEstateApi.Models.Agent, RealEstateApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-13 00:49:18.426 +05:30 [INF] Executed action RealEstateApi.Controllers.AgentsController.GetFilteredAgents (RealEstateApi) in 2.6409ms
2025-06-13 00:49:18.426 +05:30 [INF] Executed endpoint 'RealEstateApi.Controllers.AgentsController.GetFilteredAgents (RealEstateApi)'
2025-06-13 00:49:18.426 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5009/api/v1/Agents - 200 null application/json; charset=utf-8 3.1693ms
2025-06-13 00:50:49.077 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5009/api/v1/Agents/register-agent - application/json 157
2025-06-13 00:50:49.077 +05:30 [INF] Executing endpoint 'RealEstateApi.Controllers.AgentsController.RegisterAgent (RealEstateApi)'
2025-06-13 00:50:49.092 +05:30 [INF] Route matched with {action = "RegisterAgent", controller = "Agents"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[RealEstateApi.Models.DTOs.AuthResponseDto]] RegisterAgent(RealEstateApi.Models.DTOs.RegisterAgentDto) on controller RealEstateApi.Controllers.AgentsController (RealEstateApi).
2025-06-13 00:50:49.104 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."Email", u."IsDeleted", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role"
FROM "Users" AS u
WHERE NOT (u."IsDeleted")
2025-06-13 00:50:49.282 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime), @p2='?', @p3='?' (DbType = Boolean), @p4='?', @p5='?', @p6='?', @p7='?' (DbType = DateTime), @p8='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Users" ("Id", "CreatedAt", "Email", "IsDeleted", "Name", "PasswordHash", "RefreshToken", "RefreshTokenExpiryTime", "Role")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
2025-06-13 00:50:49.284 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?', @p3='?', @p4='?', @p5='?', @p6='?' (DbType = DateTime), @p7='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AuditLogs" ("Id", "ActionType", "NewValues", "OldValues", "PrimaryKey", "TableName", "Timestamp", "UserId")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
2025-06-13 00:50:49.289 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?', @p3='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Agents" ("Id", "AgencyName", "LicenseNumber", "Phone")
VALUES (@p0, @p1, @p2, @p3);
2025-06-13 00:50:49.291 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?', @p3='?', @p4='?', @p5='?', @p6='?' (DbType = DateTime), @p7='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AuditLogs" ("Id", "ActionType", "NewValues", "OldValues", "PrimaryKey", "TableName", "Timestamp", "UserId")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
2025-06-13 00:50:49.291 +05:30 [INF] Executing CreatedResult, writing value of type 'RealEstateApi.Models.DTOs.AuthResponseDto'.
2025-06-13 00:50:49.292 +05:30 [INF] Executed action RealEstateApi.Controllers.AgentsController.RegisterAgent (RealEstateApi) in 199.4737ms
2025-06-13 00:50:49.292 +05:30 [INF] Executed endpoint 'RealEstateApi.Controllers.AgentsController.RegisterAgent (RealEstateApi)'
2025-06-13 00:50:49.292 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5009/api/v1/Agents/register-agent - 201 null application/json; charset=utf-8 215.015ms
2025-06-13 00:53:30.531 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5009/api/v1/Agents/register-agent - multipart/form-data; boundary=--------------------------543946354573286738377186 749
2025-06-13 00:53:30.531 +05:30 [INF] Executing endpoint 'RealEstateApi.Controllers.AgentsController.RegisterAgent (RealEstateApi)'
2025-06-13 00:53:30.531 +05:30 [INF] Route matched with {action = "RegisterAgent", controller = "Agents"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[RealEstateApi.Models.DTOs.AuthResponseDto]] RegisterAgent(RealEstateApi.Models.DTOs.RegisterAgentDto) on controller RealEstateApi.Controllers.AgentsController (RealEstateApi).
2025-06-13 00:53:30.539 +05:30 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2025-06-13 00:53:30.552 +05:30 [INF] Executed action RealEstateApi.Controllers.AgentsController.RegisterAgent (RealEstateApi) in 20.737ms
2025-06-13 00:53:30.552 +05:30 [INF] Executed endpoint 'RealEstateApi.Controllers.AgentsController.RegisterAgent (RealEstateApi)'
2025-06-13 00:53:30.552 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5009/api/v1/Agents/register-agent - 415 null application/problem+json; charset=utf-8 21.3256ms
2025-06-13 00:54:35.625 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5009/api/v1/Agents/register-agent - application/json 157
2025-06-13 00:54:35.625 +05:30 [INF] Executing endpoint 'RealEstateApi.Controllers.AgentsController.RegisterAgent (RealEstateApi)'
2025-06-13 00:54:35.626 +05:30 [INF] Route matched with {action = "RegisterAgent", controller = "Agents"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[RealEstateApi.Models.DTOs.AuthResponseDto]] RegisterAgent(RealEstateApi.Models.DTOs.RegisterAgentDto) on controller RealEstateApi.Controllers.AgentsController (RealEstateApi).
2025-06-13 00:54:35.638 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."Email", u."IsDeleted", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role"
FROM "Users" AS u
WHERE NOT (u."IsDeleted")
2025-06-13 00:54:35.816 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime), @p2='?', @p3='?' (DbType = Boolean), @p4='?', @p5='?', @p6='?', @p7='?' (DbType = DateTime), @p8='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Users" ("Id", "CreatedAt", "Email", "IsDeleted", "Name", "PasswordHash", "RefreshToken", "RefreshTokenExpiryTime", "Role")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
2025-06-13 00:54:35.818 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?', @p3='?', @p4='?', @p5='?', @p6='?' (DbType = DateTime), @p7='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AuditLogs" ("Id", "ActionType", "NewValues", "OldValues", "PrimaryKey", "TableName", "Timestamp", "UserId")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
2025-06-13 00:54:35.820 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?', @p3='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Agents" ("Id", "AgencyName", "LicenseNumber", "Phone")
VALUES (@p0, @p1, @p2, @p3);
2025-06-13 00:54:35.822 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?', @p3='?', @p4='?', @p5='?', @p6='?' (DbType = DateTime), @p7='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AuditLogs" ("Id", "ActionType", "NewValues", "OldValues", "PrimaryKey", "TableName", "Timestamp", "UserId")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
2025-06-13 00:54:35.822 +05:30 [INF] Executing CreatedResult, writing value of type 'RealEstateApi.Models.DTOs.AuthResponseDto'.
2025-06-13 00:54:35.822 +05:30 [INF] Executed action RealEstateApi.Controllers.AgentsController.RegisterAgent (RealEstateApi) in 196.3366ms
2025-06-13 00:54:35.822 +05:30 [INF] Executed endpoint 'RealEstateApi.Controllers.AgentsController.RegisterAgent (RealEstateApi)'
2025-06-13 00:54:35.822 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5009/api/v1/Agents/register-agent - 201 null application/json; charset=utf-8 197.2449ms
2025-06-13 00:56:13.120 +05:30 [INF] Request starting HTTP/1.1 PUT http://localhost:5009/api/v1/Agents/0197657b-4d7b-723f-8b6b-63d0ee6ead85 - application/json 78
2025-06-13 00:56:13.122 +05:30 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Agent)
2025-06-13 00:56:13.125 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2025-06-13 00:56:13.125 +05:30 [INF] Request finished HTTP/1.1 PUT http://localhost:5009/api/v1/Agents/0197657b-4d7b-723f-8b6b-63d0ee6ead85 - 401 0 null 4.5058ms
2025-06-13 00:59:18.335 +05:30 [INF] Request starting HTTP/1.1 PUT http://localhost:5009/api/v1/Agents/9e174cb7-fe78-4b45-af1a-316ea957c9c3 - null 0
2025-06-13 00:59:18.335 +05:30 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Agent)
2025-06-13 00:59:18.335 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2025-06-13 00:59:18.336 +05:30 [INF] Request finished HTTP/1.1 PUT http://localhost:5009/api/v1/Agents/9e174cb7-fe78-4b45-af1a-316ea957c9c3 - 401 0 null 0.754ms
2025-06-13 00:59:44.797 +05:30 [INF] Request starting HTTP/1.1 PUT http://localhost:5009/api/v1/Agents/fb1757cb-83a0-45c4-a7d0-1d51699fd8f5 - null 0
2025-06-13 00:59:44.799 +05:30 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '11/06/2025 8:16:23PM', Current time (UTC): '12/06/2025 7:29:44PM'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-06-13 00:59:44.813 +05:30 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '11/06/2025 8:16:23PM', Current time (UTC): '12/06/2025 7:29:44PM'.
2025-06-13 00:59:44.813 +05:30 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Agent)
2025-06-13 00:59:44.814 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2025-06-13 00:59:44.814 +05:30 [INF] Request finished HTTP/1.1 PUT http://localhost:5009/api/v1/Agents/fb1757cb-83a0-45c4-a7d0-1d51699fd8f5 - 401 0 null 17.0662ms
2025-06-13 01:00:33.592 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5009/api/v1/Auth/me - null null
2025-06-13 01:00:33.595 +05:30 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-06-13 01:00:33.595 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2025-06-13 01:00:33.595 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5009/api/v1/Auth/me - 401 0 null 2.5899ms
2025-06-13 01:00:58.434 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5009/api/v1/Auth/me - null null
2025-06-13 01:00:58.435 +05:30 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '11/06/2025 8:16:23PM', Current time (UTC): '12/06/2025 7:30:58PM'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-06-13 01:00:58.435 +05:30 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '11/06/2025 8:16:23PM', Current time (UTC): '12/06/2025 7:30:58PM'.
2025-06-13 01:00:58.436 +05:30 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-06-13 01:00:58.436 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2025-06-13 01:00:58.436 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5009/api/v1/Auth/me - 401 0 null 2.3161ms
2025-06-13 01:02:00.591 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5009/api/v1/Auth/login - application/json 58
2025-06-13 01:02:00.591 +05:30 [INF] Executing endpoint 'RealEstateApi.Controllers.AuthController.Login (RealEstateApi)'
2025-06-13 01:02:00.591 +05:30 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[RealEstateApi.Models.DTOs.AuthResponseDto]] Login(RealEstateApi.Models.DTOs.LoginDto) on controller RealEstateApi.Controllers.AuthController (RealEstateApi).
2025-06-13 01:02:00.603 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."Email", u."IsDeleted", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role"
FROM "Users" AS u
WHERE NOT (u."IsDeleted")
2025-06-13 01:02:00.779 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."Email", u."IsDeleted", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role"
FROM "Users" AS u
WHERE NOT (u."IsDeleted") AND u."Id" = @__id_0
LIMIT 2
2025-06-13 01:02:00.782 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@p2='?' (DbType = Guid), @p0='?', @p1='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Users" SET "RefreshToken" = @p0, "RefreshTokenExpiryTime" = @p1
WHERE "Id" = @p2;
2025-06-13 01:02:00.783 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?', @p3='?', @p4='?', @p5='?', @p6='?' (DbType = DateTime), @p7='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AuditLogs" ("Id", "ActionType", "NewValues", "OldValues", "PrimaryKey", "TableName", "Timestamp", "UserId")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
2025-06-13 01:02:00.784 +05:30 [INF] Executing OkObjectResult, writing value of type 'RealEstateApi.Models.DTOs.AuthResponseDto'.
2025-06-13 01:02:00.784 +05:30 [INF] Executed action RealEstateApi.Controllers.AuthController.Login (RealEstateApi) in 192.6687ms
2025-06-13 01:02:00.784 +05:30 [INF] Executed endpoint 'RealEstateApi.Controllers.AuthController.Login (RealEstateApi)'
2025-06-13 01:02:00.784 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5009/api/v1/Auth/login - 200 null application/json; charset=utf-8 193.1907ms
2025-06-13 01:02:34.306 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5009/api/v1/Auth/me - null null
2025-06-13 01:02:34.307 +05:30 [INF] Executing endpoint 'RealEstateApi.Controllers.AuthController.GetCurrentUser (RealEstateApi)'
2025-06-13 01:02:34.311 +05:30 [INF] Route matched with {action = "GetCurrentUser", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[RealEstateApi.Models.User]] GetCurrentUser() on controller RealEstateApi.Controllers.AuthController (RealEstateApi).
2025-06-13 01:02:34.314 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."Email", u."IsDeleted", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role"
FROM "Users" AS u
WHERE NOT (u."IsDeleted") AND u."Id" = @__id_0
LIMIT 2
2025-06-13 01:02:34.315 +05:30 [INF] Executing OkObjectResult, writing value of type 'RealEstateApi.Models.User'.
2025-06-13 01:02:34.315 +05:30 [INF] Executed action RealEstateApi.Controllers.AuthController.GetCurrentUser (RealEstateApi) in 3.7789ms
2025-06-13 01:02:34.315 +05:30 [INF] Executed endpoint 'RealEstateApi.Controllers.AuthController.GetCurrentUser (RealEstateApi)'
2025-06-13 01:02:34.315 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5009/api/v1/Auth/me - 200 null application/json; charset=utf-8 9.2638ms
2025-06-13 01:03:53.366 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5009/api/v1/Auth/refresh - application/json 112
2025-06-13 01:03:53.367 +05:30 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-06-13 01:03:53.367 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2025-06-13 01:03:53.368 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5009/api/v1/Auth/refresh - 401 0 null 1.4794ms
2025-06-13 01:04:16.659 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5009/api/v1/Auth/refresh - application/json 112
2025-06-13 01:04:16.660 +05:30 [INF] Executing endpoint 'RealEstateApi.Controllers.AuthController.RefreshToken (RealEstateApi)'
2025-06-13 01:04:16.662 +05:30 [INF] Route matched with {action = "RefreshToken", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[RealEstateApi.Models.DTOs.AuthResponseDto]] RefreshToken(RefreshTokenRequestDto) on controller RealEstateApi.Controllers.AuthController (RealEstateApi).
2025-06-13 01:04:16.667 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."Email", u."IsDeleted", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role"
FROM "Users" AS u
WHERE NOT (u."IsDeleted")
2025-06-13 01:04:16.669 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."Email", u."IsDeleted", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role"
FROM "Users" AS u
WHERE NOT (u."IsDeleted") AND u."Id" = @__id_0
LIMIT 2
2025-06-13 01:04:16.670 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@p2='?' (DbType = Guid), @p0='?', @p1='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Users" SET "RefreshToken" = @p0, "RefreshTokenExpiryTime" = @p1
WHERE "Id" = @p2;
2025-06-13 01:04:16.672 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?', @p3='?', @p4='?', @p5='?', @p6='?' (DbType = DateTime), @p7='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AuditLogs" ("Id", "ActionType", "NewValues", "OldValues", "PrimaryKey", "TableName", "Timestamp", "UserId")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
2025-06-13 01:04:16.673 +05:30 [INF] Executing OkObjectResult, writing value of type 'RealEstateApi.Models.DTOs.AuthResponseDto'.
2025-06-13 01:04:16.673 +05:30 [INF] Executed action RealEstateApi.Controllers.AuthController.RefreshToken (RealEstateApi) in 10.5614ms
2025-06-13 01:04:16.673 +05:30 [INF] Executed endpoint 'RealEstateApi.Controllers.AuthController.RefreshToken (RealEstateApi)'
2025-06-13 01:04:16.673 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5009/api/v1/Auth/refresh - 200 null application/json; charset=utf-8 14.2056ms
2025-06-13 01:08:37.695 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5009/api/v1/Buyers - null null
2025-06-13 01:08:37.695 +05:30 [INF] Executing endpoint 'RealEstateApi.Controllers.BuyersController.GetFilteredBuyers (RealEstateApi)'
2025-06-13 01:08:37.710 +05:30 [INF] Route matched with {action = "GetFilteredBuyers", controller = "Buyers"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[RealEstateApi.Models.DTOs.PagedResult`1[RealEstateApi.Models.Buyer]]] GetFilteredBuyers(RealEstateApi.Models.DTOs.BuyerQueryDto) on controller RealEstateApi.Controllers.BuyersController (RealEstateApi).
2025-06-13 01:08:37.748 +05:30 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT b."Id", b."Budget", b."PreferredLocation", u."Id", u."CreatedAt", u."Email", u."IsDeleted", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", i."Id", i."BuyerId", i."CreatedAt", i."ListingId", i."Message"
FROM "Buyers" AS b
INNER JOIN "Users" AS u ON b."Id" = u."Id"
LEFT JOIN "Inquiries" AS i ON b."Id" = i."BuyerId"
WHERE NOT (u."IsDeleted")
ORDER BY b."Id", u."Id"
2025-06-13 01:08:37.753 +05:30 [INF] Executing OkObjectResult, writing value of type 'RealEstateApi.Models.DTOs.PagedResult`1[[RealEstateApi.Models.Buyer, RealEstateApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-13 01:08:37.756 +05:30 [INF] Executed action RealEstateApi.Controllers.BuyersController.GetFilteredBuyers (RealEstateApi) in 45.2296ms
2025-06-13 01:08:37.756 +05:30 [INF] Executed endpoint 'RealEstateApi.Controllers.BuyersController.GetFilteredBuyers (RealEstateApi)'
2025-06-13 01:08:37.756 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5009/api/v1/Buyers - 200 null application/json; charset=utf-8 60.6792ms
2025-06-13 01:09:43.479 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5009/api/v1/Buyers?PreferredLocation=Chennai - null null
2025-06-13 01:09:43.480 +05:30 [INF] Executing endpoint 'RealEstateApi.Controllers.BuyersController.GetFilteredBuyers (RealEstateApi)'
2025-06-13 01:09:43.480 +05:30 [INF] Route matched with {action = "GetFilteredBuyers", controller = "Buyers"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[RealEstateApi.Models.DTOs.PagedResult`1[RealEstateApi.Models.Buyer]]] GetFilteredBuyers(RealEstateApi.Models.DTOs.BuyerQueryDto) on controller RealEstateApi.Controllers.BuyersController (RealEstateApi).
2025-06-13 01:09:43.482 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT b."Id", b."Budget", b."PreferredLocation", u."Id", u."CreatedAt", u."Email", u."IsDeleted", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", i."Id", i."BuyerId", i."CreatedAt", i."ListingId", i."Message"
FROM "Buyers" AS b
INNER JOIN "Users" AS u ON b."Id" = u."Id"
LEFT JOIN "Inquiries" AS i ON b."Id" = i."BuyerId"
WHERE NOT (u."IsDeleted")
ORDER BY b."Id", u."Id"
2025-06-13 01:09:43.483 +05:30 [INF] Executing OkObjectResult, writing value of type 'RealEstateApi.Models.DTOs.PagedResult`1[[RealEstateApi.Models.Buyer, RealEstateApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-13 01:09:43.483 +05:30 [INF] Executed action RealEstateApi.Controllers.BuyersController.GetFilteredBuyers (RealEstateApi) in 3.6384ms
2025-06-13 01:09:43.483 +05:30 [INF] Executed endpoint 'RealEstateApi.Controllers.BuyersController.GetFilteredBuyers (RealEstateApi)'
2025-06-13 01:09:43.484 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5009/api/v1/Buyers?PreferredLocation=Chennai - 200 null application/json; charset=utf-8 4.1011ms
2025-06-13 01:11:43.331 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5009/api/v1/Buyers/register-buyer - application/json 132
2025-06-13 01:11:43.331 +05:30 [INF] Executing endpoint 'RealEstateApi.Controllers.BuyersController.RegisterBuyer (RealEstateApi)'
2025-06-13 01:11:43.334 +05:30 [INF] Route matched with {action = "RegisterBuyer", controller = "Buyers"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[RealEstateApi.Models.DTOs.AuthResponseDto]] RegisterBuyer(RealEstateApi.Models.DTOs.RegisterBuyerDto) on controller RealEstateApi.Controllers.BuyersController (RealEstateApi).
2025-06-13 01:11:43.344 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."Email", u."IsDeleted", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role"
FROM "Users" AS u
WHERE NOT (u."IsDeleted")
2025-06-13 01:11:43.518 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime), @p2='?', @p3='?' (DbType = Boolean), @p4='?', @p5='?', @p6='?', @p7='?' (DbType = DateTime), @p8='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Users" ("Id", "CreatedAt", "Email", "IsDeleted", "Name", "PasswordHash", "RefreshToken", "RefreshTokenExpiryTime", "Role")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
2025-06-13 01:11:43.520 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?', @p3='?', @p4='?', @p5='?', @p6='?' (DbType = DateTime), @p7='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AuditLogs" ("Id", "ActionType", "NewValues", "OldValues", "PrimaryKey", "TableName", "Timestamp", "UserId")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
2025-06-13 01:11:43.526 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Double), @p2='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Buyers" ("Id", "Budget", "PreferredLocation")
VALUES (@p0, @p1, @p2);
2025-06-13 01:11:43.529 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?', @p3='?', @p4='?', @p5='?', @p6='?' (DbType = DateTime), @p7='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AuditLogs" ("Id", "ActionType", "NewValues", "OldValues", "PrimaryKey", "TableName", "Timestamp", "UserId")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
2025-06-13 01:11:43.530 +05:30 [INF] Executing CreatedResult, writing value of type 'RealEstateApi.Models.DTOs.AuthResponseDto'.
2025-06-13 01:11:43.530 +05:30 [INF] Executed action RealEstateApi.Controllers.BuyersController.RegisterBuyer (RealEstateApi) in 196.2995ms
2025-06-13 01:11:43.530 +05:30 [INF] Executed endpoint 'RealEstateApi.Controllers.BuyersController.RegisterBuyer (RealEstateApi)'
2025-06-13 01:11:43.530 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5009/api/v1/Buyers/register-buyer - 201 null application/json; charset=utf-8 199.4904ms
2025-06-13 01:15:29.659 +05:30 [INF] Request starting HTTP/1.1 PUT http://localhost:5009/api/v1/Buyers/?8e294a55-49a8-4e90-b33d-2c4e0d1baf29=01976581-de66-7728-81f2-b6ebc23eb117 - application/json 57
2025-06-13 01:15:29.659 +05:30 [INF] Executing endpoint '405 HTTP Method Not Supported'
2025-06-13 01:15:29.659 +05:30 [INF] Executed endpoint '405 HTTP Method Not Supported'
2025-06-13 01:15:29.659 +05:30 [INF] Request finished HTTP/1.1 PUT http://localhost:5009/api/v1/Buyers/?8e294a55-49a8-4e90-b33d-2c4e0d1baf29=01976581-de66-7728-81f2-b6ebc23eb117 - 405 0 null 0.5336ms
2025-06-13 01:15:40.725 +05:30 [INF] Request starting HTTP/1.1 PUT http://localhost:5009/api/v1/Buyers/7bab19ad-455b-468a-8a7e-a917e367c8cb=01976581-de66-7728-81f2-b6ebc23eb117 - application/json 57
2025-06-13 01:15:40.726 +05:30 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Buyer)
2025-06-13 01:15:40.729 +05:30 [INF] AuthenticationScheme: Bearer was forbidden.
2025-06-13 01:15:40.729 +05:30 [INF] Request finished HTTP/1.1 PUT http://localhost:5009/api/v1/Buyers/7bab19ad-455b-468a-8a7e-a917e367c8cb=01976581-de66-7728-81f2-b6ebc23eb117 - 403 0 null 3.6829ms
2025-06-13 01:16:07.722 +05:30 [INF] Request starting HTTP/1.1 PUT http://localhost:5009/api/v1/Buyers/e2da00ff-20e0-45d5-b42b-1282e0f7f05e=01976581-de66-7728-81f2-b6ebc23eb117 - application/json 57
2025-06-13 01:16:07.723 +05:30 [INF] Executing endpoint 'RealEstateApi.Controllers.BuyersController.UpdateBuyer (RealEstateApi)'
2025-06-13 01:16:07.725 +05:30 [INF] Route matched with {action = "UpdateBuyer", controller = "Buyers"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateBuyer(System.Guid, RealEstateApi.Models.DTOs.UpdateBuyerDto) on controller RealEstateApi.Controllers.BuyersController (RealEstateApi).
2025-06-13 01:16:07.729 +05:30 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2025-06-13 01:16:07.734 +05:30 [INF] Executed action RealEstateApi.Controllers.BuyersController.UpdateBuyer (RealEstateApi) in 8.691ms
2025-06-13 01:16:07.734 +05:30 [INF] Executed endpoint 'RealEstateApi.Controllers.BuyersController.UpdateBuyer (RealEstateApi)'
2025-06-13 01:16:07.735 +05:30 [INF] Request finished HTTP/1.1 PUT http://localhost:5009/api/v1/Buyers/e2da00ff-20e0-45d5-b42b-1282e0f7f05e=01976581-de66-7728-81f2-b6ebc23eb117 - 400 null application/problem+json; charset=utf-8 12.5048ms
2025-06-13 01:18:00.720 +05:30 [INF] Request starting HTTP/1.1 PUT http://localhost:5009/api/v1/Buyers/01976581-de66-7728-81f2-b6ebc23eb117 - application/json 57
2025-06-13 01:18:00.720 +05:30 [INF] Executing endpoint 'RealEstateApi.Controllers.BuyersController.UpdateBuyer (RealEstateApi)'
2025-06-13 01:18:00.720 +05:30 [INF] Route matched with {action = "UpdateBuyer", controller = "Buyers"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateBuyer(System.Guid, RealEstateApi.Models.DTOs.UpdateBuyerDto) on controller RealEstateApi.Controllers.BuyersController (RealEstateApi).
2025-06-13 01:18:00.725 +05:30 [INF] Executing ForbidResult with authentication schemes (["You are not authorized to update this buyer profile."]).
2025-06-13 01:18:00.728 +05:30 [INF] Executed action RealEstateApi.Controllers.BuyersController.UpdateBuyer (RealEstateApi) in 7.3143ms
2025-06-13 01:18:00.728 +05:30 [INF] Executed endpoint 'RealEstateApi.Controllers.BuyersController.UpdateBuyer (RealEstateApi)'
2025-06-13 01:18:00.730 +05:30 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: No authentication handler is registered for the scheme 'You are not authorized to update this buyer profile.'. The registered schemes are: Bearer. Did you forget to call AddAuthentication().Add[SomeAuthHandler]("You are not authorized to update this buyer profile.",...)?
   at Microsoft.AspNetCore.Authentication.AuthenticationService.ForbidAsync(HttpContext context, String scheme, AuthenticationProperties properties)
   at Microsoft.AspNetCore.Mvc.ForbidResult.ExecuteResultAsync(ActionContext context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResultFilterAsync>g__Awaited|30_0[TFilter,TFilterAsync](ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResultExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeResultFilters()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at RealEstateApi.Middlewares.TokenBlacklistMiddleware.Invoke(HttpContext context) in /Users/muckesh/Muckesh/Presidio/Genspark-Training/Capstone-1/RealEstateApi/Middlewares/TokenBlacklistMiddleware.cs:line 32
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Program.<>c.<<<Main>$>b__0_7>d.MoveNext() in /Users/muckesh/Muckesh/Presidio/Genspark-Training/Capstone-1/RealEstateApi/Program.cs:line 173
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.RateLimiting.RateLimitingMiddleware.InvokeInternal(HttpContext context, EnableRateLimitingAttribute enableRateLimitingAttribute)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-06-13 01:18:00.752 +05:30 [INF] Request finished HTTP/1.1 PUT http://localhost:5009/api/v1/Buyers/01976581-de66-7728-81f2-b6ebc23eb117 - 500 null text/plain; charset=utf-8 32.0283ms
2025-06-13 01:18:55.639 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5009/api/v1/Auth/login - application/json 72
2025-06-13 01:18:55.639 +05:30 [INF] Executing endpoint 'RealEstateApi.Controllers.AuthController.Login (RealEstateApi)'
2025-06-13 01:18:55.640 +05:30 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[RealEstateApi.Models.DTOs.AuthResponseDto]] Login(RealEstateApi.Models.DTOs.LoginDto) on controller RealEstateApi.Controllers.AuthController (RealEstateApi).
2025-06-13 01:18:55.651 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."Email", u."IsDeleted", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role"
FROM "Users" AS u
WHERE NOT (u."IsDeleted")
2025-06-13 01:18:55.651 +05:30 [INF] Executing BadRequestObjectResult, writing value of type 'System.String'.
2025-06-13 01:18:55.652 +05:30 [INF] Executed action RealEstateApi.Controllers.AuthController.Login (RealEstateApi) in 11.9463ms
2025-06-13 01:18:55.652 +05:30 [INF] Executed endpoint 'RealEstateApi.Controllers.AuthController.Login (RealEstateApi)'
2025-06-13 01:18:55.652 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5009/api/v1/Auth/login - 400 null text/plain; charset=utf-8 12.7647ms
2025-06-13 01:19:14.221 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5009/api/v1/Auth/login - application/json 62
2025-06-13 01:19:14.221 +05:30 [INF] Executing endpoint 'RealEstateApi.Controllers.AuthController.Login (RealEstateApi)'
2025-06-13 01:19:14.222 +05:30 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[RealEstateApi.Models.DTOs.AuthResponseDto]] Login(RealEstateApi.Models.DTOs.LoginDto) on controller RealEstateApi.Controllers.AuthController (RealEstateApi).
2025-06-13 01:19:14.223 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."Email", u."IsDeleted", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role"
FROM "Users" AS u
WHERE NOT (u."IsDeleted")
2025-06-13 01:19:14.398 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."Email", u."IsDeleted", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role"
FROM "Users" AS u
WHERE NOT (u."IsDeleted") AND u."Id" = @__id_0
LIMIT 2
2025-06-13 01:19:14.400 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@p2='?' (DbType = Guid), @p0='?', @p1='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Users" SET "RefreshToken" = @p0, "RefreshTokenExpiryTime" = @p1
WHERE "Id" = @p2;
2025-06-13 01:19:14.401 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?', @p3='?', @p4='?', @p5='?', @p6='?' (DbType = DateTime), @p7='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AuditLogs" ("Id", "ActionType", "NewValues", "OldValues", "PrimaryKey", "TableName", "Timestamp", "UserId")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
2025-06-13 01:19:14.402 +05:30 [INF] Executing OkObjectResult, writing value of type 'RealEstateApi.Models.DTOs.AuthResponseDto'.
2025-06-13 01:19:14.402 +05:30 [INF] Executed action RealEstateApi.Controllers.AuthController.Login (RealEstateApi) in 180.1222ms
2025-06-13 01:19:14.402 +05:30 [INF] Executed endpoint 'RealEstateApi.Controllers.AuthController.Login (RealEstateApi)'
2025-06-13 01:19:14.402 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5009/api/v1/Auth/login - 200 null application/json; charset=utf-8 180.8494ms
2025-06-13 01:19:43.158 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5009/api/v1/Buyers?PreferredLocation=Chennai - null null
2025-06-13 01:19:43.159 +05:30 [INF] Executing endpoint 'RealEstateApi.Controllers.BuyersController.GetFilteredBuyers (RealEstateApi)'
2025-06-13 01:19:43.159 +05:30 [INF] Route matched with {action = "GetFilteredBuyers", controller = "Buyers"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[RealEstateApi.Models.DTOs.PagedResult`1[RealEstateApi.Models.Buyer]]] GetFilteredBuyers(RealEstateApi.Models.DTOs.BuyerQueryDto) on controller RealEstateApi.Controllers.BuyersController (RealEstateApi).
2025-06-13 01:19:43.162 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT b."Id", b."Budget", b."PreferredLocation", u."Id", u."CreatedAt", u."Email", u."IsDeleted", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", i."Id", i."BuyerId", i."CreatedAt", i."ListingId", i."Message"
FROM "Buyers" AS b
INNER JOIN "Users" AS u ON b."Id" = u."Id"
LEFT JOIN "Inquiries" AS i ON b."Id" = i."BuyerId"
WHERE NOT (u."IsDeleted")
ORDER BY b."Id", u."Id"
2025-06-13 01:19:43.162 +05:30 [INF] Executing OkObjectResult, writing value of type 'RealEstateApi.Models.DTOs.PagedResult`1[[RealEstateApi.Models.Buyer, RealEstateApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-13 01:19:43.164 +05:30 [INF] Executed action RealEstateApi.Controllers.BuyersController.GetFilteredBuyers (RealEstateApi) in 4.8062ms
2025-06-13 01:19:43.164 +05:30 [INF] Executed endpoint 'RealEstateApi.Controllers.BuyersController.GetFilteredBuyers (RealEstateApi)'
2025-06-13 01:19:43.164 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5009/api/v1/Buyers?PreferredLocation=Chennai - 200 null application/json; charset=utf-8 5.4488ms
2025-06-13 01:20:08.784 +05:30 [INF] Request starting HTTP/1.1 PUT http://localhost:5009/api/v1/Buyers/019765a9-9adc-7239-9581-0aa38918223b - application/json 25
2025-06-13 01:20:08.784 +05:30 [INF] Executing endpoint 'RealEstateApi.Controllers.BuyersController.UpdateBuyer (RealEstateApi)'
2025-06-13 01:20:08.784 +05:30 [INF] Route matched with {action = "UpdateBuyer", controller = "Buyers"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateBuyer(System.Guid, RealEstateApi.Models.DTOs.UpdateBuyerDto) on controller RealEstateApi.Controllers.BuyersController (RealEstateApi).
2025-06-13 01:20:08.808 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Budget", s."PreferredLocation", s."Id0", s."CreatedAt", s."Email", s."IsDeleted", s."Name", s."PasswordHash", s."RefreshToken", s."RefreshTokenExpiryTime", s."Role", i."Id", i."BuyerId", i."CreatedAt", i."ListingId", i."Message"
FROM (
    SELECT b."Id", b."Budget", b."PreferredLocation", u."Id" AS "Id0", u."CreatedAt", u."Email", u."IsDeleted", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role"
    FROM "Buyers" AS b
    INNER JOIN "Users" AS u ON b."Id" = u."Id"
    WHERE NOT (u."IsDeleted") AND b."Id" = @__id_0
    LIMIT 1
) AS s
LEFT JOIN "Inquiries" AS i ON s."Id" = i."BuyerId"
ORDER BY s."Id", s."Id0"
2025-06-13 01:20:08.811 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Budget", s."PreferredLocation", s."Id0", s."CreatedAt", s."Email", s."IsDeleted", s."Name", s."PasswordHash", s."RefreshToken", s."RefreshTokenExpiryTime", s."Role", i."Id", i."BuyerId", i."CreatedAt", i."ListingId", i."Message"
FROM (
    SELECT b."Id", b."Budget", b."PreferredLocation", u."Id" AS "Id0", u."CreatedAt", u."Email", u."IsDeleted", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role"
    FROM "Buyers" AS b
    INNER JOIN "Users" AS u ON b."Id" = u."Id"
    WHERE NOT (u."IsDeleted") AND b."Id" = @__id_0
    LIMIT 1
) AS s
LEFT JOIN "Inquiries" AS i ON s."Id" = i."BuyerId"
ORDER BY s."Id", s."Id0"
2025-06-13 01:20:08.813 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@p1='?' (DbType = Guid), @p0='?' (DbType = Double)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Buyers" SET "Budget" = @p0
WHERE "Id" = @p1;
2025-06-13 01:20:08.814 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?', @p3='?', @p4='?', @p5='?', @p6='?' (DbType = DateTime), @p7='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AuditLogs" ("Id", "ActionType", "NewValues", "OldValues", "PrimaryKey", "TableName", "Timestamp", "UserId")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
2025-06-13 01:20:08.814 +05:30 [INF] Executing OkObjectResult, writing value of type 'RealEstateApi.Models.Buyer'.
2025-06-13 01:20:08.815 +05:30 [INF] Executed action RealEstateApi.Controllers.BuyersController.UpdateBuyer (RealEstateApi) in 30.0957ms
2025-06-13 01:20:08.815 +05:30 [INF] Executed endpoint 'RealEstateApi.Controllers.BuyersController.UpdateBuyer (RealEstateApi)'
2025-06-13 01:20:08.815 +05:30 [INF] Request finished HTTP/1.1 PUT http://localhost:5009/api/v1/Buyers/019765a9-9adc-7239-9581-0aa38918223b - 200 null application/json; charset=utf-8 30.6896ms
2025-06-13 01:21:02.198 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5009/api/v1/Inquiries - null null
2025-06-13 01:21:02.198 +05:30 [INF] Executing endpoint 'RealEstateApi.Controllers.InquiriesController.GetFilteredInquiries (RealEstateApi)'
2025-06-13 01:21:02.199 +05:30 [INF] Route matched with {action = "GetFilteredInquiries", controller = "Inquiries"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetFilteredInquiries(RealEstateApi.Models.DTOs.InquiryQueryDto) on controller RealEstateApi.Controllers.InquiriesController (RealEstateApi).
2025-06-13 01:21:02.213 +05:30 [INF] Executed DbCommand (13ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT i."Id", i."BuyerId", i."CreatedAt", i."ListingId", i."Message", b."Id", b."Budget", b."PreferredLocation", p."Id", p."AgentId", p."Bathrooms", p."Bedrooms", p."CreatedAt", p."Description", p."IsDeleted", p."Location", p."Price", p."SquareFeet", p."Title"
FROM "Inquiries" AS i
INNER JOIN "Buyers" AS b ON i."BuyerId" = b."Id"
INNER JOIN "PropertyListings" AS p ON i."ListingId" = p."Id"
2025-06-13 01:21:02.217 +05:30 [INF] Executing OkObjectResult, writing value of type 'RealEstateApi.Models.DTOs.PagedResult`1[[RealEstateApi.Models.Inquiry, RealEstateApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-13 01:21:02.218 +05:30 [INF] Executed action RealEstateApi.Controllers.InquiriesController.GetFilteredInquiries (RealEstateApi) in 18.9718ms
2025-06-13 01:21:02.218 +05:30 [INF] Executed endpoint 'RealEstateApi.Controllers.InquiriesController.GetFilteredInquiries (RealEstateApi)'
2025-06-13 01:21:02.218 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5009/api/v1/Inquiries - 200 null application/json; charset=utf-8 19.9628ms
2025-06-13 01:21:12.408 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5009/api/v1/Inquiries - null null
2025-06-13 01:21:12.408 +05:30 [INF] Executing endpoint 'RealEstateApi.Controllers.InquiriesController.GetFilteredInquiries (RealEstateApi)'
2025-06-13 01:21:12.408 +05:30 [INF] Route matched with {action = "GetFilteredInquiries", controller = "Inquiries"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetFilteredInquiries(RealEstateApi.Models.DTOs.InquiryQueryDto) on controller RealEstateApi.Controllers.InquiriesController (RealEstateApi).
2025-06-13 01:21:12.409 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT i."Id", i."BuyerId", i."CreatedAt", i."ListingId", i."Message", b."Id", b."Budget", b."PreferredLocation", p."Id", p."AgentId", p."Bathrooms", p."Bedrooms", p."CreatedAt", p."Description", p."IsDeleted", p."Location", p."Price", p."SquareFeet", p."Title"
FROM "Inquiries" AS i
INNER JOIN "Buyers" AS b ON i."BuyerId" = b."Id"
INNER JOIN "PropertyListings" AS p ON i."ListingId" = p."Id"
2025-06-13 01:21:12.410 +05:30 [INF] Executing OkObjectResult, writing value of type 'RealEstateApi.Models.DTOs.PagedResult`1[[RealEstateApi.Models.Inquiry, RealEstateApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-13 01:21:12.410 +05:30 [INF] Executed action RealEstateApi.Controllers.InquiriesController.GetFilteredInquiries (RealEstateApi) in 1.9374ms
2025-06-13 01:21:12.410 +05:30 [INF] Executed endpoint 'RealEstateApi.Controllers.InquiriesController.GetFilteredInquiries (RealEstateApi)'
2025-06-13 01:21:12.410 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5009/api/v1/Inquiries - 200 null application/json; charset=utf-8 2.3771ms
2025-06-13 01:22:26.996 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5009/api/v1/Inquiries?Keyword=price - null null
2025-06-13 01:22:26.996 +05:30 [INF] Executing endpoint 'RealEstateApi.Controllers.InquiriesController.GetFilteredInquiries (RealEstateApi)'
2025-06-13 01:22:26.996 +05:30 [INF] Route matched with {action = "GetFilteredInquiries", controller = "Inquiries"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetFilteredInquiries(RealEstateApi.Models.DTOs.InquiryQueryDto) on controller RealEstateApi.Controllers.InquiriesController (RealEstateApi).
2025-06-13 01:22:26.998 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT i."Id", i."BuyerId", i."CreatedAt", i."ListingId", i."Message", b."Id", b."Budget", b."PreferredLocation", p."Id", p."AgentId", p."Bathrooms", p."Bedrooms", p."CreatedAt", p."Description", p."IsDeleted", p."Location", p."Price", p."SquareFeet", p."Title"
FROM "Inquiries" AS i
INNER JOIN "Buyers" AS b ON i."BuyerId" = b."Id"
INNER JOIN "PropertyListings" AS p ON i."ListingId" = p."Id"
2025-06-13 01:22:26.999 +05:30 [INF] Executing OkObjectResult, writing value of type 'RealEstateApi.Models.DTOs.PagedResult`1[[RealEstateApi.Models.Inquiry, RealEstateApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-13 01:22:26.999 +05:30 [INF] Executed action RealEstateApi.Controllers.InquiriesController.GetFilteredInquiries (RealEstateApi) in 2.6463ms
2025-06-13 01:22:26.999 +05:30 [INF] Executed endpoint 'RealEstateApi.Controllers.InquiriesController.GetFilteredInquiries (RealEstateApi)'
2025-06-13 01:22:26.999 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5009/api/v1/Inquiries?Keyword=price - 200 null application/json; charset=utf-8 3.2223ms
2025-06-13 01:25:02.536 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5009/api/v1/PropertyListings - null null
2025-06-13 01:25:02.537 +05:30 [INF] Executing endpoint 'RealEstateApi.Controllers.PropertyListingsController.SearchListings (RealEstateApi)'
2025-06-13 01:25:02.538 +05:30 [INF] Route matched with {action = "SearchListings", controller = "PropertyListings"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SearchListings(RealEstateApi.Models.DTOs.PropertyListingQueryParametersDto) on controller RealEstateApi.Controllers.PropertyListingsController (RealEstateApi).
2025-06-13 01:25:02.566 +05:30 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."AgentId", p."Bathrooms", p."Bedrooms", p."CreatedAt", p."Description", p."IsDeleted", p."Location", p."Price", p."SquareFeet", p."Title", a."Id", a."AgencyName", a."LicenseNumber", a."Phone", p1."Id", p1."DeletedAt", p1."FileName", p1."FileUrl", p1."IsDeleted", p1."PropertyListingId", i."Id", i."BuyerId", i."CreatedAt", i."ListingId", i."Message"
FROM "PropertyListings" AS p
INNER JOIN "Agents" AS a ON p."AgentId" = a."Id"
LEFT JOIN (
    SELECT p0."Id", p0."DeletedAt", p0."FileName", p0."FileUrl", p0."IsDeleted", p0."PropertyListingId"
    FROM "PropertyImages" AS p0
    WHERE NOT (p0."IsDeleted")
) AS p1 ON p."Id" = p1."PropertyListingId"
LEFT JOIN "Inquiries" AS i ON p."Id" = i."ListingId"
WHERE NOT (p."IsDeleted")
ORDER BY p."Id", a."Id", p1."Id"
2025-06-13 01:25:02.567 +05:30 [INF] Executing OkObjectResult, writing value of type 'RealEstateApi.Models.DTOs.PagedResult`1[[RealEstateApi.Models.PropertyListing, RealEstateApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-13 01:25:02.567 +05:30 [INF] Executed action RealEstateApi.Controllers.PropertyListingsController.SearchListings (RealEstateApi) in 29.4862ms
2025-06-13 01:25:02.567 +05:30 [INF] Executed endpoint 'RealEstateApi.Controllers.PropertyListingsController.SearchListings (RealEstateApi)'
2025-06-13 01:25:02.567 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5009/api/v1/PropertyListings - 200 null application/json; charset=utf-8 31.0695ms
2025-06-13 01:26:25.960 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5009/api/v1/PropertyListings - null null
2025-06-13 01:26:25.961 +05:30 [INF] Executing endpoint 'RealEstateApi.Controllers.PropertyListingsController.SearchListings (RealEstateApi)'
2025-06-13 01:26:25.961 +05:30 [INF] Route matched with {action = "SearchListings", controller = "PropertyListings"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SearchListings(RealEstateApi.Models.DTOs.PropertyListingQueryParametersDto) on controller RealEstateApi.Controllers.PropertyListingsController (RealEstateApi).
2025-06-13 01:26:25.962 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."AgentId", p."Bathrooms", p."Bedrooms", p."CreatedAt", p."Description", p."IsDeleted", p."Location", p."Price", p."SquareFeet", p."Title", a."Id", a."AgencyName", a."LicenseNumber", a."Phone", p1."Id", p1."DeletedAt", p1."FileName", p1."FileUrl", p1."IsDeleted", p1."PropertyListingId", i."Id", i."BuyerId", i."CreatedAt", i."ListingId", i."Message"
FROM "PropertyListings" AS p
INNER JOIN "Agents" AS a ON p."AgentId" = a."Id"
LEFT JOIN (
    SELECT p0."Id", p0."DeletedAt", p0."FileName", p0."FileUrl", p0."IsDeleted", p0."PropertyListingId"
    FROM "PropertyImages" AS p0
    WHERE NOT (p0."IsDeleted")
) AS p1 ON p."Id" = p1."PropertyListingId"
LEFT JOIN "Inquiries" AS i ON p."Id" = i."ListingId"
WHERE NOT (p."IsDeleted")
ORDER BY p."Id", a."Id", p1."Id"
2025-06-13 01:26:25.963 +05:30 [INF] Executing OkObjectResult, writing value of type 'RealEstateApi.Models.DTOs.PagedResult`1[[RealEstateApi.Models.PropertyListing, RealEstateApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-13 01:26:25.963 +05:30 [INF] Executed action RealEstateApi.Controllers.PropertyListingsController.SearchListings (RealEstateApi) in 2.203ms
2025-06-13 01:26:25.963 +05:30 [INF] Executed endpoint 'RealEstateApi.Controllers.PropertyListingsController.SearchListings (RealEstateApi)'
2025-06-13 01:26:25.963 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5009/api/v1/PropertyListings - 200 null application/json; charset=utf-8 2.6445ms
2025-06-13 01:26:33.553 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5009/api/v1/PropertyListings?MinBedrooms=2 - null null
2025-06-13 01:26:33.554 +05:30 [INF] Executing endpoint 'RealEstateApi.Controllers.PropertyListingsController.SearchListings (RealEstateApi)'
2025-06-13 01:26:33.554 +05:30 [INF] Route matched with {action = "SearchListings", controller = "PropertyListings"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SearchListings(RealEstateApi.Models.DTOs.PropertyListingQueryParametersDto) on controller RealEstateApi.Controllers.PropertyListingsController (RealEstateApi).
2025-06-13 01:26:33.556 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."AgentId", p."Bathrooms", p."Bedrooms", p."CreatedAt", p."Description", p."IsDeleted", p."Location", p."Price", p."SquareFeet", p."Title", a."Id", a."AgencyName", a."LicenseNumber", a."Phone", p1."Id", p1."DeletedAt", p1."FileName", p1."FileUrl", p1."IsDeleted", p1."PropertyListingId", i."Id", i."BuyerId", i."CreatedAt", i."ListingId", i."Message"
FROM "PropertyListings" AS p
INNER JOIN "Agents" AS a ON p."AgentId" = a."Id"
LEFT JOIN (
    SELECT p0."Id", p0."DeletedAt", p0."FileName", p0."FileUrl", p0."IsDeleted", p0."PropertyListingId"
    FROM "PropertyImages" AS p0
    WHERE NOT (p0."IsDeleted")
) AS p1 ON p."Id" = p1."PropertyListingId"
LEFT JOIN "Inquiries" AS i ON p."Id" = i."ListingId"
WHERE NOT (p."IsDeleted")
ORDER BY p."Id", a."Id", p1."Id"
2025-06-13 01:26:33.557 +05:30 [INF] Executing OkObjectResult, writing value of type 'RealEstateApi.Models.DTOs.PagedResult`1[[RealEstateApi.Models.PropertyListing, RealEstateApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-13 01:26:33.558 +05:30 [INF] Executed action RealEstateApi.Controllers.PropertyListingsController.SearchListings (RealEstateApi) in 4.1005ms
2025-06-13 01:26:33.558 +05:30 [INF] Executed endpoint 'RealEstateApi.Controllers.PropertyListingsController.SearchListings (RealEstateApi)'
2025-06-13 01:26:33.558 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5009/api/v1/PropertyListings?MinBedrooms=2 - 200 null application/json; charset=utf-8 5.1237ms
2025-06-13 01:26:43.842 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5009/property-images/01976587-f675-7462-8cee-1b0b3818f069/89fcf6af-872c-4b85-954d-1cd44072813d.jpg - null null
2025-06-13 01:26:43.886 +05:30 [INF] Sending file. Request path: '/property-images/01976587-f675-7462-8cee-1b0b3818f069/89fcf6af-872c-4b85-954d-1cd44072813d.jpg'. Physical path: '/Users/muckesh/Muckesh/Presidio/Genspark-Training/Capstone-1/RealEstateApi/wwwroot/property-images/01976587-f675-7462-8cee-1b0b3818f069/89fcf6af-872c-4b85-954d-1cd44072813d.jpg'
2025-06-13 01:26:43.886 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5009/property-images/01976587-f675-7462-8cee-1b0b3818f069/89fcf6af-872c-4b85-954d-1cd44072813d.jpg - 200 920097 image/jpeg 43.8874ms
2025-06-13 01:27:02.384 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5009/api/v1/PropertyListings?MinBedrooms=1 - null null
2025-06-13 01:27:02.384 +05:30 [INF] Executing endpoint 'RealEstateApi.Controllers.PropertyListingsController.SearchListings (RealEstateApi)'
2025-06-13 01:27:02.384 +05:30 [INF] Route matched with {action = "SearchListings", controller = "PropertyListings"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SearchListings(RealEstateApi.Models.DTOs.PropertyListingQueryParametersDto) on controller RealEstateApi.Controllers.PropertyListingsController (RealEstateApi).
2025-06-13 01:27:02.386 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."AgentId", p."Bathrooms", p."Bedrooms", p."CreatedAt", p."Description", p."IsDeleted", p."Location", p."Price", p."SquareFeet", p."Title", a."Id", a."AgencyName", a."LicenseNumber", a."Phone", p1."Id", p1."DeletedAt", p1."FileName", p1."FileUrl", p1."IsDeleted", p1."PropertyListingId", i."Id", i."BuyerId", i."CreatedAt", i."ListingId", i."Message"
FROM "PropertyListings" AS p
INNER JOIN "Agents" AS a ON p."AgentId" = a."Id"
LEFT JOIN (
    SELECT p0."Id", p0."DeletedAt", p0."FileName", p0."FileUrl", p0."IsDeleted", p0."PropertyListingId"
    FROM "PropertyImages" AS p0
    WHERE NOT (p0."IsDeleted")
) AS p1 ON p."Id" = p1."PropertyListingId"
LEFT JOIN "Inquiries" AS i ON p."Id" = i."ListingId"
WHERE NOT (p."IsDeleted")
ORDER BY p."Id", a."Id", p1."Id"
2025-06-13 01:27:02.387 +05:30 [INF] Executing OkObjectResult, writing value of type 'RealEstateApi.Models.DTOs.PagedResult`1[[RealEstateApi.Models.PropertyListing, RealEstateApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-13 01:27:02.387 +05:30 [INF] Executed action RealEstateApi.Controllers.PropertyListingsController.SearchListings (RealEstateApi) in 2.4885ms
2025-06-13 01:27:02.387 +05:30 [INF] Executed endpoint 'RealEstateApi.Controllers.PropertyListingsController.SearchListings (RealEstateApi)'
2025-06-13 01:27:02.387 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5009/api/v1/PropertyListings?MinBedrooms=1 - 200 null application/json; charset=utf-8 3.0127ms
2025-06-13 01:27:17.462 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5009/api/v1/PropertyListings - null null
2025-06-13 01:27:17.463 +05:30 [INF] Executing endpoint 'RealEstateApi.Controllers.PropertyListingsController.SearchListings (RealEstateApi)'
2025-06-13 01:27:17.463 +05:30 [INF] Route matched with {action = "SearchListings", controller = "PropertyListings"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SearchListings(RealEstateApi.Models.DTOs.PropertyListingQueryParametersDto) on controller RealEstateApi.Controllers.PropertyListingsController (RealEstateApi).
2025-06-13 01:27:17.464 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."AgentId", p."Bathrooms", p."Bedrooms", p."CreatedAt", p."Description", p."IsDeleted", p."Location", p."Price", p."SquareFeet", p."Title", a."Id", a."AgencyName", a."LicenseNumber", a."Phone", p1."Id", p1."DeletedAt", p1."FileName", p1."FileUrl", p1."IsDeleted", p1."PropertyListingId", i."Id", i."BuyerId", i."CreatedAt", i."ListingId", i."Message"
FROM "PropertyListings" AS p
INNER JOIN "Agents" AS a ON p."AgentId" = a."Id"
LEFT JOIN (
    SELECT p0."Id", p0."DeletedAt", p0."FileName", p0."FileUrl", p0."IsDeleted", p0."PropertyListingId"
    FROM "PropertyImages" AS p0
    WHERE NOT (p0."IsDeleted")
) AS p1 ON p."Id" = p1."PropertyListingId"
LEFT JOIN "Inquiries" AS i ON p."Id" = i."ListingId"
WHERE NOT (p."IsDeleted")
ORDER BY p."Id", a."Id", p1."Id"
2025-06-13 01:27:17.465 +05:30 [INF] Executing OkObjectResult, writing value of type 'RealEstateApi.Models.DTOs.PagedResult`1[[RealEstateApi.Models.PropertyListing, RealEstateApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-13 01:27:17.465 +05:30 [INF] Executed action RealEstateApi.Controllers.PropertyListingsController.SearchListings (RealEstateApi) in 2.2781ms
2025-06-13 01:27:17.465 +05:30 [INF] Executed endpoint 'RealEstateApi.Controllers.PropertyListingsController.SearchListings (RealEstateApi)'
2025-06-13 01:27:17.465 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5009/api/v1/PropertyListings - 200 null application/json; charset=utf-8 2.7414ms
2025-06-13 01:28:51.352 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5009/api/v1/PropertyListings - null null
2025-06-13 01:28:51.353 +05:30 [INF] Executing endpoint 'RealEstateApi.Controllers.PropertyListingsController.SearchListings (RealEstateApi)'
2025-06-13 01:28:51.354 +05:30 [INF] Route matched with {action = "SearchListings", controller = "PropertyListings"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SearchListings(RealEstateApi.Models.DTOs.PropertyListingQueryParametersDto) on controller RealEstateApi.Controllers.PropertyListingsController (RealEstateApi).
2025-06-13 01:28:51.356 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."AgentId", p."Bathrooms", p."Bedrooms", p."CreatedAt", p."Description", p."IsDeleted", p."Location", p."Price", p."SquareFeet", p."Title", a."Id", a."AgencyName", a."LicenseNumber", a."Phone", p1."Id", p1."DeletedAt", p1."FileName", p1."FileUrl", p1."IsDeleted", p1."PropertyListingId", i."Id", i."BuyerId", i."CreatedAt", i."ListingId", i."Message"
FROM "PropertyListings" AS p
INNER JOIN "Agents" AS a ON p."AgentId" = a."Id"
LEFT JOIN (
    SELECT p0."Id", p0."DeletedAt", p0."FileName", p0."FileUrl", p0."IsDeleted", p0."PropertyListingId"
    FROM "PropertyImages" AS p0
    WHERE NOT (p0."IsDeleted")
) AS p1 ON p."Id" = p1."PropertyListingId"
LEFT JOIN "Inquiries" AS i ON p."Id" = i."ListingId"
WHERE NOT (p."IsDeleted")
ORDER BY p."Id", a."Id", p1."Id"
2025-06-13 01:28:51.356 +05:30 [INF] Executing OkObjectResult, writing value of type 'RealEstateApi.Models.DTOs.PagedResult`1[[RealEstateApi.Models.PropertyListing, RealEstateApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-13 01:28:51.357 +05:30 [INF] Executed action RealEstateApi.Controllers.PropertyListingsController.SearchListings (RealEstateApi) in 3.3629ms
2025-06-13 01:28:51.357 +05:30 [INF] Executed endpoint 'RealEstateApi.Controllers.PropertyListingsController.SearchListings (RealEstateApi)'
2025-06-13 01:28:51.357 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5009/api/v1/PropertyListings - 200 null application/json; charset=utf-8 4.8812ms
2025-06-13 01:29:04.041 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5009/api/v1/PropertyListings/01976587-f675-7462-8cee-1b0b3818f069 - null null
2025-06-13 01:29:04.042 +05:30 [INF] Executing endpoint 'RealEstateApi.Controllers.PropertyListingsController.GetListingById (RealEstateApi)'
2025-06-13 01:29:04.042 +05:30 [INF] Route matched with {action = "GetListingById", controller = "PropertyListings"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListingById(System.Guid) on controller RealEstateApi.Controllers.PropertyListingsController (RealEstateApi).
2025-06-13 01:29:04.044 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."AgentId", s."Bathrooms", s."Bedrooms", s."CreatedAt", s."Description", s."IsDeleted", s."Location", s."Price", s."SquareFeet", s."Title", s."Id0", s."AgencyName", s."LicenseNumber", s."Phone", p1."Id", p1."DeletedAt", p1."FileName", p1."FileUrl", p1."IsDeleted", p1."PropertyListingId", i."Id", i."BuyerId", i."CreatedAt", i."ListingId", i."Message"
FROM (
    SELECT p."Id", p."AgentId", p."Bathrooms", p."Bedrooms", p."CreatedAt", p."Description", p."IsDeleted", p."Location", p."Price", p."SquareFeet", p."Title", a."Id" AS "Id0", a."AgencyName", a."LicenseNumber", a."Phone"
    FROM "PropertyListings" AS p
    INNER JOIN "Agents" AS a ON p."AgentId" = a."Id"
    WHERE NOT (p."IsDeleted") AND p."Id" = @__id_0
    LIMIT 1
) AS s
LEFT JOIN (
    SELECT p0."Id", p0."DeletedAt", p0."FileName", p0."FileUrl", p0."IsDeleted", p0."PropertyListingId"
    FROM "PropertyImages" AS p0
    WHERE NOT (p0."IsDeleted")
) AS p1 ON s."Id" = p1."PropertyListingId"
LEFT JOIN "Inquiries" AS i ON s."Id" = i."ListingId"
ORDER BY s."Id", s."Id0", p1."Id"
2025-06-13 01:29:04.044 +05:30 [INF] Executing OkObjectResult, writing value of type 'RealEstateApi.Models.PropertyListing'.
2025-06-13 01:29:04.044 +05:30 [INF] Executed action RealEstateApi.Controllers.PropertyListingsController.GetListingById (RealEstateApi) in 2.2621ms
2025-06-13 01:29:04.044 +05:30 [INF] Executed endpoint 'RealEstateApi.Controllers.PropertyListingsController.GetListingById (RealEstateApi)'
2025-06-13 01:29:04.044 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5009/api/v1/PropertyListings/01976587-f675-7462-8cee-1b0b3818f069 - 200 null application/json; charset=utf-8 2.7616ms
2025-06-13 01:29:51.677 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5009/api/v1/Auth/login - application/json 62
2025-06-13 01:29:51.677 +05:30 [INF] Executing endpoint 'RealEstateApi.Controllers.AuthController.Login (RealEstateApi)'
2025-06-13 01:29:51.677 +05:30 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[RealEstateApi.Models.DTOs.AuthResponseDto]] Login(RealEstateApi.Models.DTOs.LoginDto) on controller RealEstateApi.Controllers.AuthController (RealEstateApi).
2025-06-13 01:29:51.680 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."Email", u."IsDeleted", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role"
FROM "Users" AS u
WHERE NOT (u."IsDeleted")
2025-06-13 01:29:51.855 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."Email", u."IsDeleted", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role"
FROM "Users" AS u
WHERE NOT (u."IsDeleted") AND u."Id" = @__id_0
LIMIT 2
2025-06-13 01:29:51.858 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@p2='?' (DbType = Guid), @p0='?', @p1='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Users" SET "RefreshToken" = @p0, "RefreshTokenExpiryTime" = @p1
WHERE "Id" = @p2;
2025-06-13 01:29:51.860 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?', @p3='?', @p4='?', @p5='?', @p6='?' (DbType = DateTime), @p7='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AuditLogs" ("Id", "ActionType", "NewValues", "OldValues", "PrimaryKey", "TableName", "Timestamp", "UserId")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
2025-06-13 01:29:51.860 +05:30 [INF] Executing OkObjectResult, writing value of type 'RealEstateApi.Models.DTOs.AuthResponseDto'.
2025-06-13 01:29:51.860 +05:30 [INF] Executed action RealEstateApi.Controllers.AuthController.Login (RealEstateApi) in 183.1173ms
2025-06-13 01:29:51.860 +05:30 [INF] Executed endpoint 'RealEstateApi.Controllers.AuthController.Login (RealEstateApi)'
2025-06-13 01:29:51.860 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5009/api/v1/Auth/login - 200 null application/json; charset=utf-8 183.6657ms
2025-06-13 01:30:20.902 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5009/api/v1/Buyers - null null
2025-06-13 01:30:20.903 +05:30 [INF] Executing endpoint 'RealEstateApi.Controllers.BuyersController.GetFilteredBuyers (RealEstateApi)'
2025-06-13 01:30:20.903 +05:30 [INF] Route matched with {action = "GetFilteredBuyers", controller = "Buyers"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[RealEstateApi.Models.DTOs.PagedResult`1[RealEstateApi.Models.Buyer]]] GetFilteredBuyers(RealEstateApi.Models.DTOs.BuyerQueryDto) on controller RealEstateApi.Controllers.BuyersController (RealEstateApi).
2025-06-13 01:30:20.916 +05:30 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT b."Id", b."Budget", b."PreferredLocation", u."Id", u."CreatedAt", u."Email", u."IsDeleted", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", i."Id", i."BuyerId", i."CreatedAt", i."ListingId", i."Message"
FROM "Buyers" AS b
INNER JOIN "Users" AS u ON b."Id" = u."Id"
LEFT JOIN "Inquiries" AS i ON b."Id" = i."BuyerId"
WHERE NOT (u."IsDeleted")
ORDER BY b."Id", u."Id"
2025-06-13 01:30:20.916 +05:30 [INF] Executing OkObjectResult, writing value of type 'RealEstateApi.Models.DTOs.PagedResult`1[[RealEstateApi.Models.Buyer, RealEstateApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-13 01:30:20.917 +05:30 [INF] Executed action RealEstateApi.Controllers.BuyersController.GetFilteredBuyers (RealEstateApi) in 13.6037ms
2025-06-13 01:30:20.917 +05:30 [INF] Executed endpoint 'RealEstateApi.Controllers.BuyersController.GetFilteredBuyers (RealEstateApi)'
2025-06-13 01:30:20.917 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5009/api/v1/Buyers - 200 null application/json; charset=utf-8 15.2064ms
2025-06-13 01:30:48.071 +05:30 [INF] Request starting HTTP/1.1 PUT http://localhost:5009/api/v1/Buyers/019765a9-9adc-7239-9581-0aa38918223b - application/json 57
2025-06-13 01:30:48.072 +05:30 [INF] Executing endpoint 'RealEstateApi.Controllers.BuyersController.UpdateBuyer (RealEstateApi)'
2025-06-13 01:30:48.072 +05:30 [INF] Route matched with {action = "UpdateBuyer", controller = "Buyers"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateBuyer(System.Guid, RealEstateApi.Models.DTOs.UpdateBuyerDto) on controller RealEstateApi.Controllers.BuyersController (RealEstateApi).
2025-06-13 01:30:48.073 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Budget", s."PreferredLocation", s."Id0", s."CreatedAt", s."Email", s."IsDeleted", s."Name", s."PasswordHash", s."RefreshToken", s."RefreshTokenExpiryTime", s."Role", i."Id", i."BuyerId", i."CreatedAt", i."ListingId", i."Message"
FROM (
    SELECT b."Id", b."Budget", b."PreferredLocation", u."Id" AS "Id0", u."CreatedAt", u."Email", u."IsDeleted", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role"
    FROM "Buyers" AS b
    INNER JOIN "Users" AS u ON b."Id" = u."Id"
    WHERE NOT (u."IsDeleted") AND b."Id" = @__id_0
    LIMIT 1
) AS s
LEFT JOIN "Inquiries" AS i ON s."Id" = i."BuyerId"
ORDER BY s."Id", s."Id0"
2025-06-13 01:30:48.075 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Budget", s."PreferredLocation", s."Id0", s."CreatedAt", s."Email", s."IsDeleted", s."Name", s."PasswordHash", s."RefreshToken", s."RefreshTokenExpiryTime", s."Role", i."Id", i."BuyerId", i."CreatedAt", i."ListingId", i."Message"
FROM (
    SELECT b."Id", b."Budget", b."PreferredLocation", u."Id" AS "Id0", u."CreatedAt", u."Email", u."IsDeleted", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role"
    FROM "Buyers" AS b
    INNER JOIN "Users" AS u ON b."Id" = u."Id"
    WHERE NOT (u."IsDeleted") AND b."Id" = @__id_0
    LIMIT 1
) AS s
LEFT JOIN "Inquiries" AS i ON s."Id" = i."BuyerId"
ORDER BY s."Id", s."Id0"
2025-06-13 01:30:48.075 +05:30 [INF] Executing OkObjectResult, writing value of type 'RealEstateApi.Models.Buyer'.
2025-06-13 01:30:48.075 +05:30 [INF] Executed action RealEstateApi.Controllers.BuyersController.UpdateBuyer (RealEstateApi) in 3.315ms
2025-06-13 01:30:48.075 +05:30 [INF] Executed endpoint 'RealEstateApi.Controllers.BuyersController.UpdateBuyer (RealEstateApi)'
2025-06-13 01:30:48.075 +05:30 [INF] Request finished HTTP/1.1 PUT http://localhost:5009/api/v1/Buyers/019765a9-9adc-7239-9581-0aa38918223b - 200 null application/json; charset=utf-8 4.1809ms
2025-06-13 01:31:11.205 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5009/api/v1/Agents - null null
2025-06-13 01:31:11.206 +05:30 [INF] Executing endpoint 'RealEstateApi.Controllers.AgentsController.GetFilteredAgents (RealEstateApi)'
2025-06-13 01:31:11.206 +05:30 [INF] Route matched with {action = "GetFilteredAgents", controller = "Agents"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetFilteredAgents(AgentQueryDto) on controller RealEstateApi.Controllers.AgentsController (RealEstateApi).
2025-06-13 01:31:11.209 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AgencyName", a."LicenseNumber", a."Phone", u."Id", u."CreatedAt", u."Email", u."IsDeleted", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", p."Id", p."AgentId", p."Bathrooms", p."Bedrooms", p."CreatedAt", p."Description", p."IsDeleted", p."Location", p."Price", p."SquareFeet", p."Title"
FROM "Agents" AS a
INNER JOIN "Users" AS u ON a."Id" = u."Id"
LEFT JOIN "PropertyListings" AS p ON a."Id" = p."AgentId"
WHERE NOT (u."IsDeleted")
ORDER BY a."Id", u."Id"
2025-06-13 01:31:11.210 +05:30 [INF] Executing OkObjectResult, writing value of type 'RealEstateApi.Models.DTOs.PagedResult`1[[RealEstateApi.Models.Agent, RealEstateApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-13 01:31:11.211 +05:30 [INF] Executed action RealEstateApi.Controllers.AgentsController.GetFilteredAgents (RealEstateApi) in 4.3548ms
2025-06-13 01:31:11.211 +05:30 [INF] Executed endpoint 'RealEstateApi.Controllers.AgentsController.GetFilteredAgents (RealEstateApi)'
2025-06-13 01:31:11.211 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5009/api/v1/Agents - 200 null application/json; charset=utf-8 5.2522ms
2025-06-13 01:31:27.193 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5009/api/v1/Auth/login - application/json 62
2025-06-13 01:31:27.193 +05:30 [INF] Executing endpoint 'RealEstateApi.Controllers.AuthController.Login (RealEstateApi)'
2025-06-13 01:31:27.193 +05:30 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[RealEstateApi.Models.DTOs.AuthResponseDto]] Login(RealEstateApi.Models.DTOs.LoginDto) on controller RealEstateApi.Controllers.AuthController (RealEstateApi).
2025-06-13 01:31:27.195 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."Email", u."IsDeleted", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role"
FROM "Users" AS u
WHERE NOT (u."IsDeleted")
2025-06-13 01:31:27.368 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."Email", u."IsDeleted", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role"
FROM "Users" AS u
WHERE NOT (u."IsDeleted") AND u."Id" = @__id_0
LIMIT 2
2025-06-13 01:31:27.370 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@p2='?' (DbType = Guid), @p0='?', @p1='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Users" SET "RefreshToken" = @p0, "RefreshTokenExpiryTime" = @p1
WHERE "Id" = @p2;
2025-06-13 01:31:27.371 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?', @p3='?', @p4='?', @p5='?', @p6='?' (DbType = DateTime), @p7='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AuditLogs" ("Id", "ActionType", "NewValues", "OldValues", "PrimaryKey", "TableName", "Timestamp", "UserId")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
2025-06-13 01:31:27.371 +05:30 [INF] Executing OkObjectResult, writing value of type 'RealEstateApi.Models.DTOs.AuthResponseDto'.
2025-06-13 01:31:27.371 +05:30 [INF] Executed action RealEstateApi.Controllers.AuthController.Login (RealEstateApi) in 178.5019ms
2025-06-13 01:31:27.371 +05:30 [INF] Executed endpoint 'RealEstateApi.Controllers.AuthController.Login (RealEstateApi)'
2025-06-13 01:31:27.372 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5009/api/v1/Auth/login - 200 null application/json; charset=utf-8 178.9426ms
2025-06-13 01:33:06.543 +05:30 [INF] Request starting HTTP/1.1 PUT http://localhost:5009/api/v1/Agents/0197657b-4d7b-723f-8b6b-63d0ee6ead85 - application/json 95
2025-06-13 01:33:06.544 +05:30 [INF] Executing endpoint 'RealEstateApi.Controllers.AgentsController.UpdateAgent (RealEstateApi)'
2025-06-13 01:33:06.548 +05:30 [INF] Route matched with {action = "UpdateAgent", controller = "Agents"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateAgent(System.Guid, RealEstateApi.Models.DTOs.UpdateAgentDto) on controller RealEstateApi.Controllers.AgentsController (RealEstateApi).
2025-06-13 01:33:06.573 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."AgencyName", s."LicenseNumber", s."Phone", s."Id0", s."CreatedAt", s."Email", s."IsDeleted", s."Name", s."PasswordHash", s."RefreshToken", s."RefreshTokenExpiryTime", s."Role", p."Id", p."AgentId", p."Bathrooms", p."Bedrooms", p."CreatedAt", p."Description", p."IsDeleted", p."Location", p."Price", p."SquareFeet", p."Title"
FROM (
    SELECT a."Id", a."AgencyName", a."LicenseNumber", a."Phone", u."Id" AS "Id0", u."CreatedAt", u."Email", u."IsDeleted", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role"
    FROM "Agents" AS a
    INNER JOIN "Users" AS u ON a."Id" = u."Id"
    WHERE NOT (u."IsDeleted") AND a."Id" = @__id_0
    LIMIT 2
) AS s
LEFT JOIN "PropertyListings" AS p ON s."Id" = p."AgentId"
ORDER BY s."Id", s."Id0"
2025-06-13 01:33:06.576 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."AgencyName", s."LicenseNumber", s."Phone", s."Id0", s."CreatedAt", s."Email", s."IsDeleted", s."Name", s."PasswordHash", s."RefreshToken", s."RefreshTokenExpiryTime", s."Role", p."Id", p."AgentId", p."Bathrooms", p."Bedrooms", p."CreatedAt", p."Description", p."IsDeleted", p."Location", p."Price", p."SquareFeet", p."Title"
FROM (
    SELECT a."Id", a."AgencyName", a."LicenseNumber", a."Phone", u."Id" AS "Id0", u."CreatedAt", u."Email", u."IsDeleted", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role"
    FROM "Agents" AS a
    INNER JOIN "Users" AS u ON a."Id" = u."Id"
    WHERE NOT (u."IsDeleted") AND a."Id" = @__id_0
    LIMIT 2
) AS s
LEFT JOIN "PropertyListings" AS p ON s."Id" = p."AgentId"
ORDER BY s."Id", s."Id0"
2025-06-13 01:33:06.578 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@p3='?' (DbType = Guid), @p0='?', @p1='?', @p2='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "Agents" SET "AgencyName" = @p0, "LicenseNumber" = @p1, "Phone" = @p2
WHERE "Id" = @p3;
2025-06-13 01:33:06.579 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?', @p3='?', @p4='?', @p5='?', @p6='?' (DbType = DateTime), @p7='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AuditLogs" ("Id", "ActionType", "NewValues", "OldValues", "PrimaryKey", "TableName", "Timestamp", "UserId")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
2025-06-13 01:33:06.579 +05:30 [INF] Executing OkObjectResult, writing value of type 'RealEstateApi.Models.Agent'.
2025-06-13 01:33:06.579 +05:30 [INF] Executed action RealEstateApi.Controllers.AgentsController.UpdateAgent (RealEstateApi) in 31.6765ms
2025-06-13 01:33:06.579 +05:30 [INF] Executed endpoint 'RealEstateApi.Controllers.AgentsController.UpdateAgent (RealEstateApi)'
2025-06-13 01:33:06.580 +05:30 [INF] Request finished HTTP/1.1 PUT http://localhost:5009/api/v1/Agents/0197657b-4d7b-723f-8b6b-63d0ee6ead85 - 200 null application/json; charset=utf-8 36.1364ms
2025-06-13 01:33:38.155 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5009/api/v1/PropertyListings/{{$listing-id}} - null null
2025-06-13 01:33:38.156 +05:30 [INF] Executing endpoint 'RealEstateApi.Controllers.PropertyListingsController.GetListingById (RealEstateApi)'
2025-06-13 01:33:38.156 +05:30 [INF] Route matched with {action = "GetListingById", controller = "PropertyListings"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListingById(System.Guid) on controller RealEstateApi.Controllers.PropertyListingsController (RealEstateApi).
2025-06-13 01:33:38.156 +05:30 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2025-06-13 01:33:38.156 +05:30 [INF] Executed action RealEstateApi.Controllers.PropertyListingsController.GetListingById (RealEstateApi) in 0.551ms
2025-06-13 01:33:38.156 +05:30 [INF] Executed endpoint 'RealEstateApi.Controllers.PropertyListingsController.GetListingById (RealEstateApi)'
2025-06-13 01:33:38.156 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5009/api/v1/PropertyListings/{{$listing-id}} - 400 null application/problem+json; charset=utf-8 0.9262ms
2025-06-13 01:34:05.872 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5009/api/v1/PropertyListings - null null
2025-06-13 01:34:05.872 +05:30 [INF] Executing endpoint 'RealEstateApi.Controllers.PropertyListingsController.SearchListings (RealEstateApi)'
2025-06-13 01:34:05.873 +05:30 [INF] Route matched with {action = "SearchListings", controller = "PropertyListings"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SearchListings(RealEstateApi.Models.DTOs.PropertyListingQueryParametersDto) on controller RealEstateApi.Controllers.PropertyListingsController (RealEstateApi).
2025-06-13 01:34:05.874 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."AgentId", p."Bathrooms", p."Bedrooms", p."CreatedAt", p."Description", p."IsDeleted", p."Location", p."Price", p."SquareFeet", p."Title", a."Id", a."AgencyName", a."LicenseNumber", a."Phone", p1."Id", p1."DeletedAt", p1."FileName", p1."FileUrl", p1."IsDeleted", p1."PropertyListingId", i."Id", i."BuyerId", i."CreatedAt", i."ListingId", i."Message"
FROM "PropertyListings" AS p
INNER JOIN "Agents" AS a ON p."AgentId" = a."Id"
LEFT JOIN (
    SELECT p0."Id", p0."DeletedAt", p0."FileName", p0."FileUrl", p0."IsDeleted", p0."PropertyListingId"
    FROM "PropertyImages" AS p0
    WHERE NOT (p0."IsDeleted")
) AS p1 ON p."Id" = p1."PropertyListingId"
LEFT JOIN "Inquiries" AS i ON p."Id" = i."ListingId"
WHERE NOT (p."IsDeleted")
ORDER BY p."Id", a."Id", p1."Id"
2025-06-13 01:34:05.875 +05:30 [INF] Executing OkObjectResult, writing value of type 'RealEstateApi.Models.DTOs.PagedResult`1[[RealEstateApi.Models.PropertyListing, RealEstateApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-13 01:34:05.875 +05:30 [INF] Executed action RealEstateApi.Controllers.PropertyListingsController.SearchListings (RealEstateApi) in 2.3768ms
2025-06-13 01:34:05.875 +05:30 [INF] Executed endpoint 'RealEstateApi.Controllers.PropertyListingsController.SearchListings (RealEstateApi)'
2025-06-13 01:34:05.875 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5009/api/v1/PropertyListings - 200 null application/json; charset=utf-8 2.8963ms
2025-06-13 01:34:22.809 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5009/api/v1/PropertyListings/01976587-f675-7462-8cee-1b0b3818f069 - null null
2025-06-13 01:34:22.809 +05:30 [INF] Executing endpoint 'RealEstateApi.Controllers.PropertyListingsController.GetListingById (RealEstateApi)'
2025-06-13 01:34:22.809 +05:30 [INF] Route matched with {action = "GetListingById", controller = "PropertyListings"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListingById(System.Guid) on controller RealEstateApi.Controllers.PropertyListingsController (RealEstateApi).
2025-06-13 01:34:22.811 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."AgentId", s."Bathrooms", s."Bedrooms", s."CreatedAt", s."Description", s."IsDeleted", s."Location", s."Price", s."SquareFeet", s."Title", s."Id0", s."AgencyName", s."LicenseNumber", s."Phone", p1."Id", p1."DeletedAt", p1."FileName", p1."FileUrl", p1."IsDeleted", p1."PropertyListingId", i."Id", i."BuyerId", i."CreatedAt", i."ListingId", i."Message"
FROM (
    SELECT p."Id", p."AgentId", p."Bathrooms", p."Bedrooms", p."CreatedAt", p."Description", p."IsDeleted", p."Location", p."Price", p."SquareFeet", p."Title", a."Id" AS "Id0", a."AgencyName", a."LicenseNumber", a."Phone"
    FROM "PropertyListings" AS p
    INNER JOIN "Agents" AS a ON p."AgentId" = a."Id"
    WHERE NOT (p."IsDeleted") AND p."Id" = @__id_0
    LIMIT 1
) AS s
LEFT JOIN (
    SELECT p0."Id", p0."DeletedAt", p0."FileName", p0."FileUrl", p0."IsDeleted", p0."PropertyListingId"
    FROM "PropertyImages" AS p0
    WHERE NOT (p0."IsDeleted")
) AS p1 ON s."Id" = p1."PropertyListingId"
LEFT JOIN "Inquiries" AS i ON s."Id" = i."ListingId"
ORDER BY s."Id", s."Id0", p1."Id"
2025-06-13 01:34:22.811 +05:30 [INF] Executing OkObjectResult, writing value of type 'RealEstateApi.Models.PropertyListing'.
2025-06-13 01:34:22.812 +05:30 [INF] Executed action RealEstateApi.Controllers.PropertyListingsController.GetListingById (RealEstateApi) in 2.3096ms
2025-06-13 01:34:22.812 +05:30 [INF] Executed endpoint 'RealEstateApi.Controllers.PropertyListingsController.GetListingById (RealEstateApi)'
2025-06-13 01:34:22.812 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5009/api/v1/PropertyListings/01976587-f675-7462-8cee-1b0b3818f069 - 200 null application/json; charset=utf-8 2.9283ms
2025-06-13 01:42:49.428 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5009/api/v1/PropertyListings - null null
2025-06-13 01:42:49.429 +05:30 [INF] Executing endpoint 'RealEstateApi.Controllers.PropertyListingsController.SearchListings (RealEstateApi)'
2025-06-13 01:42:49.429 +05:30 [INF] Route matched with {action = "SearchListings", controller = "PropertyListings"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SearchListings(RealEstateApi.Models.DTOs.PropertyListingQueryParametersDto) on controller RealEstateApi.Controllers.PropertyListingsController (RealEstateApi).
2025-06-13 01:42:49.443 +05:30 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."AgentId", p."Bathrooms", p."Bedrooms", p."CreatedAt", p."Description", p."IsDeleted", p."Location", p."Price", p."SquareFeet", p."Title", a."Id", a."AgencyName", a."LicenseNumber", a."Phone", p1."Id", p1."DeletedAt", p1."FileName", p1."FileUrl", p1."IsDeleted", p1."PropertyListingId", i."Id", i."BuyerId", i."CreatedAt", i."ListingId", i."Message"
FROM "PropertyListings" AS p
INNER JOIN "Agents" AS a ON p."AgentId" = a."Id"
LEFT JOIN (
    SELECT p0."Id", p0."DeletedAt", p0."FileName", p0."FileUrl", p0."IsDeleted", p0."PropertyListingId"
    FROM "PropertyImages" AS p0
    WHERE NOT (p0."IsDeleted")
) AS p1 ON p."Id" = p1."PropertyListingId"
LEFT JOIN "Inquiries" AS i ON p."Id" = i."ListingId"
WHERE NOT (p."IsDeleted")
ORDER BY p."Id", a."Id", p1."Id"
2025-06-13 01:42:49.444 +05:30 [INF] Executing OkObjectResult, writing value of type 'RealEstateApi.Models.DTOs.PagedResult`1[[RealEstateApi.Models.PropertyListing, RealEstateApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-13 01:42:49.444 +05:30 [INF] Executed action RealEstateApi.Controllers.PropertyListingsController.SearchListings (RealEstateApi) in 14.5051ms
2025-06-13 01:42:49.444 +05:30 [INF] Executed endpoint 'RealEstateApi.Controllers.PropertyListingsController.SearchListings (RealEstateApi)'
2025-06-13 01:42:49.444 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5009/api/v1/PropertyListings - 200 null application/json; charset=utf-8 16.1216ms
2025-06-13 01:43:03.496 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5009/api/v1/PropertyImages/file/01976588-4d69-755b-b446-22f1ff060bc2 - null null
2025-06-13 01:43:03.496 +05:30 [INF] Executing endpoint 'RealEstateApi.Controllers.PropertyImagesController.GetImageFile (RealEstateApi)'
2025-06-13 01:43:03.496 +05:30 [INF] Route matched with {action = "GetImageFile", controller = "PropertyImages"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetImageFile(System.Guid) on controller RealEstateApi.Controllers.PropertyImagesController (RealEstateApi).
2025-06-13 01:43:03.498 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."DeletedAt", p."FileName", p."FileUrl", p."IsDeleted", p."PropertyListingId", p0."Id", p0."AgentId", p0."Bathrooms", p0."Bedrooms", p0."CreatedAt", p0."Description", p0."IsDeleted", p0."Location", p0."Price", p0."SquareFeet", p0."Title"
FROM "PropertyImages" AS p
INNER JOIN "PropertyListings" AS p0 ON p."PropertyListingId" = p0."Id"
WHERE NOT (p."IsDeleted") AND p."Id" = @__id_0
LIMIT 2
2025-06-13 01:43:03.501 +05:30 [INF] Executing FileContentResult, sending file with download name '263d4d36-7912-404e-a7b1-0fbe36310857.jpg' ...
2025-06-13 01:43:03.504 +05:30 [INF] Executed action RealEstateApi.Controllers.PropertyImagesController.GetImageFile (RealEstateApi) in 8.0986ms
2025-06-13 01:43:03.505 +05:30 [INF] Executed endpoint 'RealEstateApi.Controllers.PropertyImagesController.GetImageFile (RealEstateApi)'
2025-06-13 01:43:03.505 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5009/api/v1/PropertyImages/file/01976588-4d69-755b-b446-22f1ff060bc2 - 200 920097 image/jpeg 8.5924ms
2025-06-13 01:44:01.081 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5009/api/v1/PropertyImages/urls/01976587-f675-7462-8cee-1b0b3818f069 - null null
2025-06-13 01:44:01.082 +05:30 [INF] Executing endpoint 'RealEstateApi.Controllers.PropertyImagesController.GetListingImageUrls (RealEstateApi)'
2025-06-13 01:44:01.083 +05:30 [INF] Route matched with {action = "GetListingImageUrls", controller = "PropertyImages"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListingImageUrls(System.Guid) on controller RealEstateApi.Controllers.PropertyImagesController (RealEstateApi).
2025-06-13 01:44:01.084 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."AgentId", s."Bathrooms", s."Bedrooms", s."CreatedAt", s."Description", s."IsDeleted", s."Location", s."Price", s."SquareFeet", s."Title", s."Id0", s."AgencyName", s."LicenseNumber", s."Phone", p1."Id", p1."DeletedAt", p1."FileName", p1."FileUrl", p1."IsDeleted", p1."PropertyListingId", i."Id", i."BuyerId", i."CreatedAt", i."ListingId", i."Message"
FROM (
    SELECT p."Id", p."AgentId", p."Bathrooms", p."Bedrooms", p."CreatedAt", p."Description", p."IsDeleted", p."Location", p."Price", p."SquareFeet", p."Title", a."Id" AS "Id0", a."AgencyName", a."LicenseNumber", a."Phone"
    FROM "PropertyListings" AS p
    INNER JOIN "Agents" AS a ON p."AgentId" = a."Id"
    WHERE NOT (p."IsDeleted") AND p."Id" = @__id_0
    LIMIT 1
) AS s
LEFT JOIN (
    SELECT p0."Id", p0."DeletedAt", p0."FileName", p0."FileUrl", p0."IsDeleted", p0."PropertyListingId"
    FROM "PropertyImages" AS p0
    WHERE NOT (p0."IsDeleted")
) AS p1 ON s."Id" = p1."PropertyListingId"
LEFT JOIN "Inquiries" AS i ON s."Id" = i."ListingId"
ORDER BY s."Id", s."Id0", p1."Id"
2025-06-13 01:44:01.085 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."DeletedAt", p."FileName", p."FileUrl", p."IsDeleted", p."PropertyListingId", p0."Id", p0."AgentId", p0."Bathrooms", p0."Bedrooms", p0."CreatedAt", p0."Description", p0."IsDeleted", p0."Location", p0."Price", p0."SquareFeet", p0."Title"
FROM "PropertyImages" AS p
INNER JOIN "PropertyListings" AS p0 ON p."PropertyListingId" = p0."Id"
WHERE NOT (p."IsDeleted")
2025-06-13 01:44:01.086 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+SelectListIterator`2[[RealEstateApi.Models.PropertyImage, RealEstateApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-06-13 01:44:01.086 +05:30 [INF] Executed action RealEstateApi.Controllers.PropertyImagesController.GetListingImageUrls (RealEstateApi) in 3.2821ms
2025-06-13 01:44:01.086 +05:30 [INF] Executed endpoint 'RealEstateApi.Controllers.PropertyImagesController.GetListingImageUrls (RealEstateApi)'
2025-06-13 01:44:01.086 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5009/api/v1/PropertyImages/urls/01976587-f675-7462-8cee-1b0b3818f069 - 200 null application/json; charset=utf-8 4.5615ms
2025-06-13 01:44:57.087 +05:30 [INF] Request starting HTTP/1.1 DELETE http://localhost:5009/api/v1/PropertyImages/admin/images/cleanup - null null
2025-06-13 01:44:57.089 +05:30 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin)
2025-06-13 01:44:57.089 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2025-06-13 01:44:57.089 +05:30 [INF] Request finished HTTP/1.1 DELETE http://localhost:5009/api/v1/PropertyImages/admin/images/cleanup - 401 0 null 1.6558ms
2025-06-13 01:46:55.808 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5009/api/v1/User - null null
2025-06-13 01:46:55.810 +05:30 [INF] Executing endpoint 'RealEstateApi.Controllers.UserController.GetFilteredUsers (RealEstateApi)'
2025-06-13 01:46:55.810 +05:30 [INF] Route matched with {action = "GetFilteredUsers", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[RealEstateApi.Models.DTOs.PagedResult`1[RealEstateApi.Models.User]]] GetFilteredUsers(RealEstateApi.Models.DTOs.UserQueryDto) on controller RealEstateApi.Controllers.UserController (RealEstateApi).
2025-06-13 01:46:55.812 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."Email", u."IsDeleted", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role"
FROM "Users" AS u
WHERE NOT (u."IsDeleted")
2025-06-13 01:46:55.812 +05:30 [INF] Executing OkObjectResult, writing value of type 'RealEstateApi.Models.DTOs.PagedResult`1[[RealEstateApi.Models.User, RealEstateApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-13 01:46:55.813 +05:30 [INF] Executed action RealEstateApi.Controllers.UserController.GetFilteredUsers (RealEstateApi) in 2.5993ms
2025-06-13 01:46:55.813 +05:30 [INF] Executed endpoint 'RealEstateApi.Controllers.UserController.GetFilteredUsers (RealEstateApi)'
2025-06-13 01:46:55.813 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5009/api/v1/User - 200 null application/json; charset=utf-8 4.504ms
2025-06-13 01:47:08.240 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5009/api/v1/User - null null
2025-06-13 01:47:08.240 +05:30 [INF] Executing endpoint 'RealEstateApi.Controllers.UserController.GetFilteredUsers (RealEstateApi)'
2025-06-13 01:47:08.240 +05:30 [INF] Route matched with {action = "GetFilteredUsers", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[RealEstateApi.Models.DTOs.PagedResult`1[RealEstateApi.Models.User]]] GetFilteredUsers(RealEstateApi.Models.DTOs.UserQueryDto) on controller RealEstateApi.Controllers.UserController (RealEstateApi).
2025-06-13 01:47:08.241 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."Email", u."IsDeleted", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role"
FROM "Users" AS u
WHERE NOT (u."IsDeleted")
2025-06-13 01:47:08.242 +05:30 [INF] Executing OkObjectResult, writing value of type 'RealEstateApi.Models.DTOs.PagedResult`1[[RealEstateApi.Models.User, RealEstateApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-13 01:47:08.242 +05:30 [INF] Executed action RealEstateApi.Controllers.UserController.GetFilteredUsers (RealEstateApi) in 1.8011ms
2025-06-13 01:47:08.242 +05:30 [INF] Executed endpoint 'RealEstateApi.Controllers.UserController.GetFilteredUsers (RealEstateApi)'
2025-06-13 01:47:08.242 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5009/api/v1/User - 200 null application/json; charset=utf-8 2.2394ms
2025-06-13 01:48:05.985 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5009/api/v1/User?Role=Admin - null null
2025-06-13 01:48:05.986 +05:30 [INF] Executing endpoint 'RealEstateApi.Controllers.UserController.GetFilteredUsers (RealEstateApi)'
2025-06-13 01:48:05.986 +05:30 [INF] Route matched with {action = "GetFilteredUsers", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[RealEstateApi.Models.DTOs.PagedResult`1[RealEstateApi.Models.User]]] GetFilteredUsers(RealEstateApi.Models.DTOs.UserQueryDto) on controller RealEstateApi.Controllers.UserController (RealEstateApi).
2025-06-13 01:48:05.997 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."Email", u."IsDeleted", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role"
FROM "Users" AS u
WHERE NOT (u."IsDeleted")
2025-06-13 01:48:05.998 +05:30 [INF] Executing OkObjectResult, writing value of type 'RealEstateApi.Models.DTOs.PagedResult`1[[RealEstateApi.Models.User, RealEstateApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-13 01:48:05.998 +05:30 [INF] Executed action RealEstateApi.Controllers.UserController.GetFilteredUsers (RealEstateApi) in 12.2076ms
2025-06-13 01:48:05.998 +05:30 [INF] Executed endpoint 'RealEstateApi.Controllers.UserController.GetFilteredUsers (RealEstateApi)'
2025-06-13 01:48:05.998 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5009/api/v1/User?Role=Admin - 200 null application/json; charset=utf-8 13.4426ms
2025-06-13 01:48:13.462 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5009/api/v1/User?Role=Buyer - null null
2025-06-13 01:48:13.462 +05:30 [INF] Executing endpoint 'RealEstateApi.Controllers.UserController.GetFilteredUsers (RealEstateApi)'
2025-06-13 01:48:13.462 +05:30 [INF] Route matched with {action = "GetFilteredUsers", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[RealEstateApi.Models.DTOs.PagedResult`1[RealEstateApi.Models.User]]] GetFilteredUsers(RealEstateApi.Models.DTOs.UserQueryDto) on controller RealEstateApi.Controllers.UserController (RealEstateApi).
2025-06-13 01:48:13.464 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."Email", u."IsDeleted", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role"
FROM "Users" AS u
WHERE NOT (u."IsDeleted")
2025-06-13 01:48:13.465 +05:30 [INF] Executing OkObjectResult, writing value of type 'RealEstateApi.Models.DTOs.PagedResult`1[[RealEstateApi.Models.User, RealEstateApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-13 01:48:13.465 +05:30 [INF] Executed action RealEstateApi.Controllers.UserController.GetFilteredUsers (RealEstateApi) in 2.1847ms
2025-06-13 01:48:13.465 +05:30 [INF] Executed endpoint 'RealEstateApi.Controllers.UserController.GetFilteredUsers (RealEstateApi)'
2025-06-13 01:48:13.465 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5009/api/v1/User?Role=Buyer - 200 null application/json; charset=utf-8 3.2403ms
2025-06-13 01:51:21.528 +05:30 [INF] Request starting HTTP/1.1 PUT http://localhost:5009/api/v1/User/019765a9-9adc-7239-9581-0aa38918223b/change-password - null 0
2025-06-13 01:51:21.529 +05:30 [INF] Executing endpoint 'RealEstateApi.Controllers.UserController.ChangePassword (RealEstateApi)'
2025-06-13 01:51:21.532 +05:30 [INF] Route matched with {action = "ChangePassword", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ChangePassword(System.Guid, RealEstateApi.Models.DTOs.ChangePasswordDto) on controller RealEstateApi.Controllers.UserController (RealEstateApi).
2025-06-13 01:51:21.532 +05:30 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2025-06-13 01:51:21.533 +05:30 [INF] Executed action RealEstateApi.Controllers.UserController.ChangePassword (RealEstateApi) in 0.7576ms
2025-06-13 01:51:21.533 +05:30 [INF] Executed endpoint 'RealEstateApi.Controllers.UserController.ChangePassword (RealEstateApi)'
2025-06-13 01:51:21.533 +05:30 [INF] Request finished HTTP/1.1 PUT http://localhost:5009/api/v1/User/019765a9-9adc-7239-9581-0aa38918223b/change-password - 415 null application/problem+json; charset=utf-8 5.0103ms
2025-06-13 01:51:42.246 +05:30 [INF] Request starting HTTP/1.1 PUT http://localhost:5009/api/v1/User/019765a9-9adc-7239-9581-0aa38918223b/change-password - application/json 56
2025-06-13 01:51:42.247 +05:30 [INF] Executing endpoint 'RealEstateApi.Controllers.UserController.ChangePassword (RealEstateApi)'
2025-06-13 01:51:42.247 +05:30 [INF] Route matched with {action = "ChangePassword", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ChangePassword(System.Guid, RealEstateApi.Models.DTOs.ChangePasswordDto) on controller RealEstateApi.Controllers.UserController (RealEstateApi).
2025-06-13 01:51:42.250 +05:30 [INF] Executing ForbidResult with authentication schemes (["You can only change your own password."]).
2025-06-13 01:51:42.250 +05:30 [INF] Executed action RealEstateApi.Controllers.UserController.ChangePassword (RealEstateApi) in 3.2725ms
2025-06-13 01:51:42.250 +05:30 [INF] Executed endpoint 'RealEstateApi.Controllers.UserController.ChangePassword (RealEstateApi)'
2025-06-13 01:51:42.251 +05:30 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: No authentication handler is registered for the scheme 'You can only change your own password.'. The registered schemes are: Bearer. Did you forget to call AddAuthentication().Add[SomeAuthHandler]("You can only change your own password.",...)?
   at Microsoft.AspNetCore.Authentication.AuthenticationService.ForbidAsync(HttpContext context, String scheme, AuthenticationProperties properties)
   at Microsoft.AspNetCore.Mvc.ForbidResult.ExecuteResultAsync(ActionContext context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResultFilterAsync>g__Awaited|30_0[TFilter,TFilterAsync](ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResultExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeResultFilters()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at RealEstateApi.Middlewares.TokenBlacklistMiddleware.Invoke(HttpContext context) in /Users/muckesh/Muckesh/Presidio/Genspark-Training/Capstone-1/RealEstateApi/Middlewares/TokenBlacklistMiddleware.cs:line 32
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Program.<>c.<<<Main>$>b__0_7>d.MoveNext() in /Users/muckesh/Muckesh/Presidio/Genspark-Training/Capstone-1/RealEstateApi/Program.cs:line 173
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.RateLimiting.RateLimitingMiddleware.InvokeInternal(HttpContext context, EnableRateLimitingAttribute enableRateLimitingAttribute)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-06-13 01:51:42.252 +05:30 [INF] Request finished HTTP/1.1 PUT http://localhost:5009/api/v1/User/019765a9-9adc-7239-9581-0aa38918223b/change-password - 500 null text/plain; charset=utf-8 6.2678ms
2025-06-13 01:53:13.399 +05:30 [INF] Request starting HTTP/1.1 PUT http://localhost:5009/api/v1/User/019765a9-9adc-7239-9581-0aa38918223b/change-password - application/json 56
2025-06-13 01:53:13.401 +05:30 [INF] Executing endpoint 'RealEstateApi.Controllers.UserController.ChangePassword (RealEstateApi)'
2025-06-13 01:53:13.401 +05:30 [INF] Route matched with {action = "ChangePassword", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ChangePassword(System.Guid, RealEstateApi.Models.DTOs.ChangePasswordDto) on controller RealEstateApi.Controllers.UserController (RealEstateApi).
2025-06-13 01:53:13.401 +05:30 [INF] Executing ForbidResult with authentication schemes (["You can only change your own password."]).
2025-06-13 01:53:13.401 +05:30 [INF] Executed action RealEstateApi.Controllers.UserController.ChangePassword (RealEstateApi) in 0.6199ms
2025-06-13 01:53:13.401 +05:30 [INF] Executed endpoint 'RealEstateApi.Controllers.UserController.ChangePassword (RealEstateApi)'
2025-06-13 01:53:13.402 +05:30 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: No authentication handler is registered for the scheme 'You can only change your own password.'. The registered schemes are: Bearer. Did you forget to call AddAuthentication().Add[SomeAuthHandler]("You can only change your own password.",...)?
   at Microsoft.AspNetCore.Authentication.AuthenticationService.ForbidAsync(HttpContext context, String scheme, AuthenticationProperties properties)
   at Microsoft.AspNetCore.Mvc.ForbidResult.ExecuteResultAsync(ActionContext context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResultFilterAsync>g__Awaited|30_0[TFilter,TFilterAsync](ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResultExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeResultFilters()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at RealEstateApi.Middlewares.TokenBlacklistMiddleware.Invoke(HttpContext context) in /Users/muckesh/Muckesh/Presidio/Genspark-Training/Capstone-1/RealEstateApi/Middlewares/TokenBlacklistMiddleware.cs:line 32
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Program.<>c.<<<Main>$>b__0_7>d.MoveNext() in /Users/muckesh/Muckesh/Presidio/Genspark-Training/Capstone-1/RealEstateApi/Program.cs:line 173
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.RateLimiting.RateLimitingMiddleware.InvokeInternal(HttpContext context, EnableRateLimitingAttribute enableRateLimitingAttribute)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-06-13 01:53:13.403 +05:30 [INF] Request finished HTTP/1.1 PUT http://localhost:5009/api/v1/User/019765a9-9adc-7239-9581-0aa38918223b/change-password - 500 null text/plain; charset=utf-8 3.2674ms
2025-06-13 01:53:19.985 +05:30 [INF] Application is shutting down...
2025-06-13 01:53:28.729 +05:30 [INF] User profile is available. Using '/Users/muckesh/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2025-06-13 01:53:28.890 +05:30 [INF] Now listening on: http://localhost:5009
2025-06-13 01:53:28.893 +05:30 [INF] Application started. Press Ctrl+C to shut down.
2025-06-13 01:53:28.895 +05:30 [INF] Hosting environment: Development
2025-06-13 01:53:28.895 +05:30 [INF] Content root path: /Users/muckesh/Muckesh/Presidio/Genspark-Training/Capstone-1/RealEstateApi
2025-06-13 01:53:30.705 +05:30 [INF] Request starting HTTP/1.1 PUT http://localhost:5009/api/v1/User/019765a9-9adc-7239-9581-0aa38918223b/change-password - application/json 56
2025-06-13 01:53:30.743 +05:30 [WRN] Failed to determine the https port for redirect.
2025-06-13 01:53:30.845 +05:30 [INF] Executing endpoint 'RealEstateApi.Controllers.UserController.ChangePassword (RealEstateApi)'
2025-06-13 01:53:30.870 +05:30 [INF] Route matched with {action = "ChangePassword", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ChangePassword(System.Guid, RealEstateApi.Models.DTOs.ChangePasswordDto) on controller RealEstateApi.Controllers.UserController (RealEstateApi).
2025-06-13 01:53:31.040 +05:30 [INF] Executing ForbidResult with authentication schemes (["You can only change your own password."]).
2025-06-13 01:53:31.047 +05:30 [INF] Executed action RealEstateApi.Controllers.UserController.ChangePassword (RealEstateApi) in 173.8873ms
2025-06-13 01:53:31.050 +05:30 [INF] Executed endpoint 'RealEstateApi.Controllers.UserController.ChangePassword (RealEstateApi)'
2025-06-13 01:53:31.052 +05:30 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: No authentication handler is registered for the scheme 'You can only change your own password.'. The registered schemes are: Bearer. Did you forget to call AddAuthentication().Add[SomeAuthHandler]("You can only change your own password.",...)?
   at Microsoft.AspNetCore.Authentication.AuthenticationService.ForbidAsync(HttpContext context, String scheme, AuthenticationProperties properties)
   at Microsoft.AspNetCore.Mvc.ForbidResult.ExecuteResultAsync(ActionContext context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResultFilterAsync>g__Awaited|30_0[TFilter,TFilterAsync](ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResultExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeResultFilters()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at RealEstateApi.Middlewares.TokenBlacklistMiddleware.Invoke(HttpContext context) in /Users/muckesh/Muckesh/Presidio/Genspark-Training/Capstone-1/RealEstateApi/Middlewares/TokenBlacklistMiddleware.cs:line 32
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Program.<>c.<<<Main>$>b__0_7>d.MoveNext() in /Users/muckesh/Muckesh/Presidio/Genspark-Training/Capstone-1/RealEstateApi/Program.cs:line 173
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.RateLimiting.RateLimitingMiddleware.InvokeInternal(HttpContext context, EnableRateLimitingAttribute enableRateLimitingAttribute)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-06-13 01:53:31.076 +05:30 [INF] Request finished HTTP/1.1 PUT http://localhost:5009/api/v1/User/019765a9-9adc-7239-9581-0aa38918223b/change-password - 500 null text/plain; charset=utf-8 372.6415ms
2025-06-13 02:09:35.546 +05:30 [INF] Application is shutting down...
2025-06-13 02:09:44.941 +05:30 [INF] User profile is available. Using '/Users/muckesh/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2025-06-13 02:09:45.080 +05:30 [INF] Now listening on: http://localhost:5009
2025-06-13 02:09:45.084 +05:30 [INF] Application started. Press Ctrl+C to shut down.
2025-06-13 02:09:45.084 +05:30 [INF] Hosting environment: Development
2025-06-13 02:09:45.084 +05:30 [INF] Content root path: /Users/muckesh/Muckesh/Presidio/Genspark-Training/Capstone-1/RealEstateApi
2025-06-13 02:16:58.656 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5009/swagger/index.html - null null
2025-06-13 02:16:58.745 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5009/swagger/index.html - 200 null text/html;charset=utf-8 91.021ms
2025-06-13 02:16:58.936 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5009/swagger/v1/swagger.json - null null
2025-06-13 02:16:59.074 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5009/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 139.4336ms
2025-06-13 02:20:43.845 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5009/api/v1/User - null null
2025-06-13 02:20:43.874 +05:30 [WRN] Failed to determine the https port for redirect.
2025-06-13 02:20:43.914 +05:30 [INF] Executing endpoint 'RealEstateApi.Controllers.UserController.GetFilteredUsers (RealEstateApi)'
2025-06-13 02:20:43.940 +05:30 [INF] Route matched with {action = "GetFilteredUsers", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[RealEstateApi.Models.DTOs.PagedResult`1[RealEstateApi.Models.User]]] GetFilteredUsers(RealEstateApi.Models.DTOs.UserQueryDto) on controller RealEstateApi.Controllers.UserController (RealEstateApi).
2025-06-13 02:20:45.194 +05:30 [INF] Executed DbCommand (22ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."Email", u."IsDeleted", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role"
FROM "Users" AS u
WHERE NOT (u."IsDeleted")
2025-06-13 02:20:45.315 +05:30 [INF] Executing OkObjectResult, writing value of type 'RealEstateApi.Models.DTOs.PagedResult`1[[RealEstateApi.Models.User, RealEstateApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-13 02:20:45.380 +05:30 [INF] Executed action RealEstateApi.Controllers.UserController.GetFilteredUsers (RealEstateApi) in 1436.2903ms
2025-06-13 02:20:45.381 +05:30 [INF] Executed endpoint 'RealEstateApi.Controllers.UserController.GetFilteredUsers (RealEstateApi)'
2025-06-13 02:20:45.391 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5009/api/v1/User - 200 null application/json; charset=utf-8 1545.9404ms
2025-06-13 02:20:59.377 +05:30 [INF] Request starting HTTP/1.1 PUT http://localhost:5009/api/v1/User/01976569-6b6c-78ce-942d-622e3bda9de9 - application/json 63
2025-06-13 02:20:59.408 +05:30 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin)
2025-06-13 02:20:59.413 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2025-06-13 02:20:59.413 +05:30 [INF] Request finished HTTP/1.1 PUT http://localhost:5009/api/v1/User/01976569-6b6c-78ce-942d-622e3bda9de9 - 401 0 null 36.1877ms
2025-06-13 02:21:12.193 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5009/swagger/index.html - null null
2025-06-13 02:21:12.193 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5009/swagger/index.html - 200 null text/html;charset=utf-8 0.8892ms
2025-06-13 02:21:12.360 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5009/swagger/v1/swagger.json - null null
2025-06-13 02:21:12.377 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5009/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 16.7382ms
2025-06-13 02:21:43.328 +05:30 [INF] Application is shutting down...
2025-06-13 09:28:29.836 +05:30 [INF] User profile is available. Using '/Users/muckesh/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2025-06-13 09:28:30.008 +05:30 [INF] Now listening on: http://localhost:5009
2025-06-13 09:28:30.012 +05:30 [INF] Application started. Press Ctrl+C to shut down.
2025-06-13 09:28:30.013 +05:30 [INF] Hosting environment: Development
2025-06-13 09:28:30.013 +05:30 [INF] Content root path: /Users/muckesh/Muckesh/Presidio/Genspark-Training/Capstone-1/RealEstateApi
2025-06-13 09:28:55.351 +05:30 [INF] Request starting HTTP/1.1 PUT http://localhost:5009/api/v1/User/change-password/{{$user-id}} - application/json 56
2025-06-13 09:28:55.389 +05:30 [WRN] Failed to determine the https port for redirect.
2025-06-13 09:28:55.499 +05:30 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '12/06/2025 8:31:27PM', Current time (UTC): '13/06/2025 3:58:55AM'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-06-13 09:28:55.540 +05:30 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '12/06/2025 8:31:27PM', Current time (UTC): '13/06/2025 3:58:55AM'.
2025-06-13 09:28:55.559 +05:30 [INF] Request finished HTTP/1.1 PUT http://localhost:5009/api/v1/User/change-password/{{$user-id}} - 404 0 null 209.721ms
2025-06-13 09:28:55.564 +05:30 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: PUT http://localhost:5009/api/v1/User/change-password/%7B%7B$user-id%7D%7D, Response status code: 404
2025-06-13 09:29:15.143 +05:30 [INF] Request starting HTTP/1.1 PUT http://localhost:5009/api/v1/Users/change-password/{{$user-id}} - application/json 56
2025-06-13 09:29:15.148 +05:30 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '12/06/2025 8:31:27PM', Current time (UTC): '13/06/2025 3:59:15AM'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-06-13 09:29:15.149 +05:30 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '12/06/2025 8:31:27PM', Current time (UTC): '13/06/2025 3:59:15AM'.
2025-06-13 09:29:15.149 +05:30 [INF] Request finished HTTP/1.1 PUT http://localhost:5009/api/v1/Users/change-password/{{$user-id}} - 404 0 null 6.3437ms
2025-06-13 09:29:15.149 +05:30 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: PUT http://localhost:5009/api/v1/Users/change-password/%7B%7B$user-id%7D%7D, Response status code: 404
2025-06-13 09:29:22.916 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5009/swagger/index.html - null null
2025-06-13 09:29:22.990 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5009/swagger/index.html - 200 null text/html;charset=utf-8 74.1824ms
2025-06-13 09:29:23.102 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5009/swagger/v1/swagger.json - null null
2025-06-13 09:29:23.243 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5009/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 140.5929ms
2025-06-13 09:30:21.006 +05:30 [INF] Application is shutting down...
2025-06-13 09:30:29.312 +05:30 [INF] User profile is available. Using '/Users/muckesh/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2025-06-13 09:30:29.432 +05:30 [INF] Now listening on: http://localhost:5009
2025-06-13 09:30:29.435 +05:30 [INF] Application started. Press Ctrl+C to shut down.
2025-06-13 09:30:29.436 +05:30 [INF] Hosting environment: Development
2025-06-13 09:30:29.436 +05:30 [INF] Content root path: /Users/muckesh/Muckesh/Presidio/Genspark-Training/Capstone-1/RealEstateApi
2025-06-13 09:30:32.880 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5009/swagger/index.html - null null
2025-06-13 09:30:32.977 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5009/swagger/index.html - 200 null text/html;charset=utf-8 98.7979ms
2025-06-13 09:30:33.043 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5009/swagger/v1/swagger.json - null null
2025-06-13 09:30:33.188 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5009/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 145.5558ms
2025-06-13 09:30:52.714 +05:30 [INF] Request starting HTTP/1.1 PUT http://localhost:5009/api/v1/User/{{$user-id}}/change-password - application/json 56
2025-06-13 09:30:52.739 +05:30 [WRN] Failed to determine the https port for redirect.
2025-06-13 09:30:52.815 +05:30 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '12/06/2025 8:31:27PM', Current time (UTC): '13/06/2025 4:00:52AM'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-06-13 09:30:52.826 +05:30 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '12/06/2025 8:31:27PM', Current time (UTC): '13/06/2025 4:00:52AM'.
2025-06-13 09:30:52.834 +05:30 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-06-13 09:30:52.839 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2025-06-13 09:30:52.839 +05:30 [INF] Request finished HTTP/1.1 PUT http://localhost:5009/api/v1/User/{{$user-id}}/change-password - 401 0 null 124.8213ms
2025-06-13 09:31:34.951 +05:30 [INF] Request starting HTTP/1.1 PUT http://localhost:5009/api/v1/User/{{$user-id}} - application/json 63
2025-06-13 09:31:34.955 +05:30 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '12/06/2025 8:31:27PM', Current time (UTC): '13/06/2025 4:01:34AM'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-06-13 09:31:34.955 +05:30 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '12/06/2025 8:31:27PM', Current time (UTC): '13/06/2025 4:01:34AM'.
2025-06-13 09:31:34.957 +05:30 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin)
2025-06-13 09:31:34.958 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2025-06-13 09:31:34.958 +05:30 [INF] Request finished HTTP/1.1 PUT http://localhost:5009/api/v1/User/{{$user-id}} - 401 0 null 6.8129ms
2025-06-13 09:31:49.885 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5009/api/v1/ - null null
2025-06-13 09:31:49.886 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5009/api/v1/ - 404 0 null 1.3412ms
2025-06-13 09:31:49.888 +05:30 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5009/api/v1/, Response status code: 404
2025-06-13 09:31:58.971 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5009/api/v1/User - null null
2025-06-13 09:31:58.972 +05:30 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin)
2025-06-13 09:31:58.973 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2025-06-13 09:31:58.973 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5009/api/v1/User - 401 0 null 2.1033ms
2025-06-13 10:03:44.968 +05:30 [INF] Application is shutting down...
2025-06-13 10:03:56.283 +05:30 [INF] User profile is available. Using '/Users/muckesh/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2025-06-13 10:03:56.442 +05:30 [INF] Now listening on: http://localhost:5009
2025-06-13 10:03:56.446 +05:30 [INF] Application started. Press Ctrl+C to shut down.
2025-06-13 10:03:56.446 +05:30 [INF] Hosting environment: Development
2025-06-13 10:03:56.446 +05:30 [INF] Content root path: /Users/muckesh/Muckesh/Presidio/Genspark-Training/Capstone-1/RealEstateApi
2025-06-13 10:04:39.206 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5009/swagger/index.html - null null
2025-06-13 10:04:39.330 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5009/swagger/index.html - 200 null text/html;charset=utf-8 129.6507ms
2025-06-13 10:04:39.550 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5009/swagger/v1/swagger.json - null null
2025-06-13 10:04:39.726 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5009/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 176.5921ms
2025-06-13 10:05:44.341 +05:30 [INF] Application is shutting down...
2025-06-13 10:05:54.588 +05:30 [INF] User profile is available. Using '/Users/muckesh/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2025-06-13 10:05:54.743 +05:30 [INF] Now listening on: http://localhost:5009
2025-06-13 10:05:54.746 +05:30 [INF] Application started. Press Ctrl+C to shut down.
2025-06-13 10:05:54.746 +05:30 [INF] Hosting environment: Development
2025-06-13 10:05:54.747 +05:30 [INF] Content root path: /Users/muckesh/Muckesh/Presidio/Genspark-Training/Capstone-1/RealEstateApi
2025-06-13 10:05:54.829 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5009/swagger/index.html - null null
2025-06-13 10:05:54.934 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5009/swagger/index.html - 200 null text/html;charset=utf-8 107.4335ms
2025-06-13 10:05:55.039 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5009/swagger/v1/swagger.json - null null
2025-06-13 10:05:55.202 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5009/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 164.4711ms
2025-06-13 10:06:46.033 +05:30 [INF] Request starting HTTP/1.1 PUT http://localhost:5009/api/v1/User/change-password/{{$user-id}} - application/json 56
2025-06-13 10:06:46.066 +05:30 [WRN] Failed to determine the https port for redirect.
2025-06-13 10:06:46.178 +05:30 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '12/06/2025 8:31:27PM', Current time (UTC): '13/06/2025 4:36:46AM'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-06-13 10:06:46.197 +05:30 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '12/06/2025 8:31:27PM', Current time (UTC): '13/06/2025 4:36:46AM'.
2025-06-13 10:06:46.205 +05:30 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-06-13 10:06:46.210 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2025-06-13 10:06:46.211 +05:30 [INF] Request finished HTTP/1.1 PUT http://localhost:5009/api/v1/User/change-password/{{$user-id}} - 401 0 null 178.0137ms
2025-06-13 10:07:57.235 +05:30 [INF] Request starting HTTP/1.1 DELETE http://localhost:5009/api/v1/User/{{$user-id}} - null null
2025-06-13 10:07:57.245 +05:30 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin)
2025-06-13 10:07:57.246 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2025-06-13 10:07:57.246 +05:30 [INF] Request finished HTTP/1.1 DELETE http://localhost:5009/api/v1/User/{{$user-id}} - 401 0 null 10.8028ms
2025-06-13 10:32:17.222 +05:30 [INF] Application is shutting down...
2025-06-13 13:48:44.971 +05:30 [INF] User profile is available. Using '/Users/muckesh/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2025-06-13 13:48:45.110 +05:30 [INF] Now listening on: http://localhost:5009
2025-06-13 13:48:45.112 +05:30 [INF] Application started. Press Ctrl+C to shut down.
2025-06-13 13:48:45.113 +05:30 [INF] Hosting environment: Development
2025-06-13 13:48:45.113 +05:30 [INF] Content root path: /Users/muckesh/Muckesh/Presidio/Genspark-Training/Capstone-1/RealEstateApi
2025-06-13 13:48:48.938 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5009/swagger/index.html - null null
2025-06-13 13:48:49.023 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5009/swagger/index.html - 200 null text/html;charset=utf-8 86.9805ms
2025-06-13 13:48:49.241 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5009/swagger/v1/swagger.json - null null
2025-06-13 13:48:49.380 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5009/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 140.5653ms
2025-06-13 13:52:18.245 +05:30 [INF] Application is shutting down...
2025-06-13 13:52:23.592 +05:30 [INF] User profile is available. Using '/Users/muckesh/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2025-06-13 13:52:23.708 +05:30 [INF] Now listening on: http://localhost:5009
2025-06-13 13:52:23.711 +05:30 [INF] Application started. Press Ctrl+C to shut down.
2025-06-13 13:52:23.712 +05:30 [INF] Hosting environment: Development
2025-06-13 13:52:23.712 +05:30 [INF] Content root path: /Users/muckesh/Muckesh/Presidio/Genspark-Training/Capstone-1/RealEstateApi
2025-06-13 13:52:35.575 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5009/swagger/index.html - null null
2025-06-13 13:52:35.659 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5009/swagger/index.html - 200 null text/html;charset=utf-8 84.4077ms
2025-06-13 13:52:35.834 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5009/swagger/v1/swagger.json - null null
2025-06-13 13:52:35.970 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5009/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 137.8931ms
2025-06-13 13:52:50.492 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5009/api/v1/Agents - null null
2025-06-13 13:52:50.520 +05:30 [WRN] Failed to determine the https port for redirect.
2025-06-13 13:52:50.574 +05:30 [INF] Executing endpoint 'RealEstateApi.Controllers.AgentsController.GetFilteredAgents (RealEstateApi)'
2025-06-13 13:52:50.601 +05:30 [INF] Route matched with {action = "GetFilteredAgents", controller = "Agents"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetFilteredAgents(AgentQueryDto) on controller RealEstateApi.Controllers.AgentsController (RealEstateApi).
2025-06-13 13:52:52.165 +05:30 [INF] Executed DbCommand (32ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AgencyName", a."LicenseNumber", a."Phone", u."Id", u."CreatedAt", u."Email", u."IsDeleted", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", p."Id", p."AgentId", p."Bathrooms", p."Bedrooms", p."CreatedAt", p."Description", p."IsDeleted", p."Location", p."Price", p."SquareFeet", p."Title"
FROM "Agents" AS a
INNER JOIN "Users" AS u ON a."Id" = u."Id"
LEFT JOIN "PropertyListings" AS p ON a."Id" = p."AgentId"
WHERE NOT (u."IsDeleted")
ORDER BY a."Id", u."Id"
2025-06-13 13:52:52.359 +05:30 [INF] Executing OkObjectResult, writing value of type 'RealEstateApi.Models.DTOs.PagedResult`1[[RealEstateApi.Models.Agent, RealEstateApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-13 13:52:52.436 +05:30 [INF] Executed action RealEstateApi.Controllers.AgentsController.GetFilteredAgents (RealEstateApi) in 1830.6012ms
2025-06-13 13:52:52.436 +05:30 [INF] Executed endpoint 'RealEstateApi.Controllers.AgentsController.GetFilteredAgents (RealEstateApi)'
2025-06-13 13:52:52.448 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5009/api/v1/Agents - 200 null application/json; charset=utf-8 1956.6907ms
2025-06-13 13:53:01.143 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5009/api/v1/Agents?SortBy=dg - null null
2025-06-13 13:53:01.146 +05:30 [INF] Executing endpoint 'RealEstateApi.Controllers.AgentsController.GetFilteredAgents (RealEstateApi)'
2025-06-13 13:53:01.147 +05:30 [INF] Route matched with {action = "GetFilteredAgents", controller = "Agents"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetFilteredAgents(AgentQueryDto) on controller RealEstateApi.Controllers.AgentsController (RealEstateApi).
2025-06-13 13:53:01.175 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AgencyName", a."LicenseNumber", a."Phone", u."Id", u."CreatedAt", u."Email", u."IsDeleted", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", p."Id", p."AgentId", p."Bathrooms", p."Bedrooms", p."CreatedAt", p."Description", p."IsDeleted", p."Location", p."Price", p."SquareFeet", p."Title"
FROM "Agents" AS a
INNER JOIN "Users" AS u ON a."Id" = u."Id"
LEFT JOIN "PropertyListings" AS p ON a."Id" = p."AgentId"
WHERE NOT (u."IsDeleted")
ORDER BY a."Id", u."Id"
2025-06-13 13:53:01.177 +05:30 [INF] Executing OkObjectResult, writing value of type 'RealEstateApi.Models.DTOs.PagedResult`1[[RealEstateApi.Models.Agent, RealEstateApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-13 13:53:01.178 +05:30 [INF] Executed action RealEstateApi.Controllers.AgentsController.GetFilteredAgents (RealEstateApi) in 31.4388ms
2025-06-13 13:53:01.178 +05:30 [INF] Executed endpoint 'RealEstateApi.Controllers.AgentsController.GetFilteredAgents (RealEstateApi)'
2025-06-13 13:53:01.179 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5009/api/v1/Agents?SortBy=dg - 200 null application/json; charset=utf-8 35.4188ms
2025-06-13 13:53:08.507 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5009/api/v1/Agents?SortBy=dgds - null null
2025-06-13 13:53:08.509 +05:30 [INF] Executing endpoint 'RealEstateApi.Controllers.AgentsController.GetFilteredAgents (RealEstateApi)'
2025-06-13 13:53:08.509 +05:30 [INF] Route matched with {action = "GetFilteredAgents", controller = "Agents"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetFilteredAgents(AgentQueryDto) on controller RealEstateApi.Controllers.AgentsController (RealEstateApi).
2025-06-13 13:53:08.584 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AgencyName", a."LicenseNumber", a."Phone", u."Id", u."CreatedAt", u."Email", u."IsDeleted", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", p."Id", p."AgentId", p."Bathrooms", p."Bedrooms", p."CreatedAt", p."Description", p."IsDeleted", p."Location", p."Price", p."SquareFeet", p."Title"
FROM "Agents" AS a
INNER JOIN "Users" AS u ON a."Id" = u."Id"
LEFT JOIN "PropertyListings" AS p ON a."Id" = p."AgentId"
WHERE NOT (u."IsDeleted")
ORDER BY a."Id", u."Id"
2025-06-13 13:53:08.585 +05:30 [INF] Executing OkObjectResult, writing value of type 'RealEstateApi.Models.DTOs.PagedResult`1[[RealEstateApi.Models.Agent, RealEstateApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-13 13:53:08.586 +05:30 [INF] Executed action RealEstateApi.Controllers.AgentsController.GetFilteredAgents (RealEstateApi) in 76.2102ms
2025-06-13 13:53:08.586 +05:30 [INF] Executed endpoint 'RealEstateApi.Controllers.AgentsController.GetFilteredAgents (RealEstateApi)'
2025-06-13 13:53:08.586 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5009/api/v1/Agents?SortBy=dgds - 200 null application/json; charset=utf-8 79.4354ms
2025-06-13 13:53:25.878 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5009/api/v1/Agents/register - application/json 157
2025-06-13 13:53:25.879 +05:30 [INF] Executing endpoint 'RealEstateApi.Controllers.AgentsController.RegisterAgent (RealEstateApi)'
2025-06-13 13:53:25.885 +05:30 [INF] Route matched with {action = "RegisterAgent", controller = "Agents"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[RealEstateApi.Models.DTOs.AuthResponseDto]] RegisterAgent(RealEstateApi.Models.DTOs.RegisterAgentDto) on controller RealEstateApi.Controllers.AgentsController (RealEstateApi).
2025-06-13 13:53:25.915 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."Email", u."IsDeleted", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role"
FROM "Users" AS u
WHERE NOT (u."IsDeleted")
2025-06-13 13:53:25.917 +05:30 [INF] Executing ConflictObjectResult, writing value of type 'System.String'.
2025-06-13 13:53:25.918 +05:30 [INF] Executed action RealEstateApi.Controllers.AgentsController.RegisterAgent (RealEstateApi) in 32.6982ms
2025-06-13 13:53:25.918 +05:30 [INF] Executed endpoint 'RealEstateApi.Controllers.AgentsController.RegisterAgent (RealEstateApi)'
2025-06-13 13:53:25.918 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5009/api/v1/Agents/register - 409 null text/plain; charset=utf-8 40.196ms
2025-06-13 13:53:41.839 +05:30 [INF] Request starting HTTP/1.1 PUT http://localhost:5009/api/v1/Agents/{{$agent-id}} - application/json 95
2025-06-13 13:53:41.884 +05:30 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '12/06/2025 8:31:27PM', Current time (UTC): '13/06/2025 8:23:41AM'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-06-13 13:53:41.894 +05:30 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '12/06/2025 8:31:27PM', Current time (UTC): '13/06/2025 8:23:41AM'.
2025-06-13 13:53:41.900 +05:30 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Agent)
2025-06-13 13:53:41.904 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2025-06-13 13:53:41.904 +05:30 [INF] Request finished HTTP/1.1 PUT http://localhost:5009/api/v1/Agents/{{$agent-id}} - 401 0 null 65.7624ms
2025-06-13 13:54:00.634 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5009/api/v1/Auth/me - null null
2025-06-13 13:54:00.635 +05:30 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '12/06/2025 8:02:00PM', Current time (UTC): '13/06/2025 8:24:00AM'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-06-13 13:54:00.636 +05:30 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '12/06/2025 8:02:00PM', Current time (UTC): '13/06/2025 8:24:00AM'.
2025-06-13 13:54:00.637 +05:30 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-06-13 13:54:00.637 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2025-06-13 13:54:00.638 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5009/api/v1/Auth/me - 401 0 null 3.0966ms
2025-06-13 13:54:26.390 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5009/api/v1/Auth/refresh - application/json 112
2025-06-13 13:54:26.392 +05:30 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '12/06/2025 8:02:00PM', Current time (UTC): '13/06/2025 8:24:26AM'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-06-13 13:54:26.393 +05:30 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '12/06/2025 8:02:00PM', Current time (UTC): '13/06/2025 8:24:26AM'.
2025-06-13 13:54:26.395 +05:30 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-06-13 13:54:26.395 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2025-06-13 13:54:26.395 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5009/api/v1/Auth/refresh - 401 0 null 4.8333ms
2025-06-13 13:54:49.157 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5009/api/v1/Auth/logout - application/json 112
2025-06-13 13:54:49.157 +05:30 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '12/06/2025 8:04:16PM', Current time (UTC): '13/06/2025 8:24:49AM'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-06-13 13:54:49.158 +05:30 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '12/06/2025 8:04:16PM', Current time (UTC): '13/06/2025 8:24:49AM'.
2025-06-13 13:54:49.158 +05:30 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-06-13 13:54:49.158 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2025-06-13 13:54:49.158 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5009/api/v1/Auth/logout - 401 0 null 1.4349ms
2025-06-13 13:55:44.653 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5009/api/v1/Agents - null null
2025-06-13 13:55:44.654 +05:30 [INF] Executing endpoint 'RealEstateApi.Controllers.AgentsController.GetFilteredAgents (RealEstateApi)'
2025-06-13 13:55:44.655 +05:30 [INF] Route matched with {action = "GetFilteredAgents", controller = "Agents"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetFilteredAgents(AgentQueryDto) on controller RealEstateApi.Controllers.AgentsController (RealEstateApi).
2025-06-13 13:55:44.659 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AgencyName", a."LicenseNumber", a."Phone", u."Id", u."CreatedAt", u."Email", u."IsDeleted", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", p."Id", p."AgentId", p."Bathrooms", p."Bedrooms", p."CreatedAt", p."Description", p."IsDeleted", p."Location", p."Price", p."SquareFeet", p."Title"
FROM "Agents" AS a
INNER JOIN "Users" AS u ON a."Id" = u."Id"
LEFT JOIN "PropertyListings" AS p ON a."Id" = p."AgentId"
WHERE NOT (u."IsDeleted")
ORDER BY a."Id", u."Id"
2025-06-13 13:55:44.659 +05:30 [INF] Executing OkObjectResult, writing value of type 'RealEstateApi.Models.DTOs.PagedResult`1[[RealEstateApi.Models.Agent, RealEstateApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-13 13:55:44.660 +05:30 [INF] Executed action RealEstateApi.Controllers.AgentsController.GetFilteredAgents (RealEstateApi) in 5.1508ms
2025-06-13 13:55:44.660 +05:30 [INF] Executed endpoint 'RealEstateApi.Controllers.AgentsController.GetFilteredAgents (RealEstateApi)'
2025-06-13 13:55:44.660 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5009/api/v1/Agents - 200 null application/json; charset=utf-8 7.0242ms
2025-06-13 13:56:18.263 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5009/api/v1/Buyers - null null
2025-06-13 13:56:18.265 +05:30 [INF] Executing endpoint 'RealEstateApi.Controllers.BuyersController.GetFilteredBuyers (RealEstateApi)'
2025-06-13 13:56:18.268 +05:30 [INF] Route matched with {action = "GetFilteredBuyers", controller = "Buyers"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[RealEstateApi.Models.DTOs.PagedResult`1[RealEstateApi.Models.Buyer]]] GetFilteredBuyers(RealEstateApi.Models.DTOs.BuyerQueryDto) on controller RealEstateApi.Controllers.BuyersController (RealEstateApi).
2025-06-13 13:56:18.305 +05:30 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT b."Id", b."Budget", b."PreferredLocation", u."Id", u."CreatedAt", u."Email", u."IsDeleted", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", i."Id", i."BuyerId", i."CreatedAt", i."ListingId", i."Message"
FROM "Buyers" AS b
INNER JOIN "Users" AS u ON b."Id" = u."Id"
LEFT JOIN "Inquiries" AS i ON b."Id" = i."BuyerId"
WHERE NOT (u."IsDeleted")
ORDER BY b."Id", u."Id"
2025-06-13 13:56:18.325 +05:30 [INF] Executing OkObjectResult, writing value of type 'RealEstateApi.Models.DTOs.PagedResult`1[[RealEstateApi.Models.Buyer, RealEstateApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-13 13:56:18.328 +05:30 [INF] Executed action RealEstateApi.Controllers.BuyersController.GetFilteredBuyers (RealEstateApi) in 60.6362ms
2025-06-13 13:56:18.329 +05:30 [INF] Executed endpoint 'RealEstateApi.Controllers.BuyersController.GetFilteredBuyers (RealEstateApi)'
2025-06-13 13:56:18.329 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5009/api/v1/Buyers - 200 null application/json; charset=utf-8 65.3405ms
2025-06-13 13:56:32.880 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5009/api/v1/Buyers/register - application/json 132
2025-06-13 13:56:32.882 +05:30 [INF] Executing endpoint 'RealEstateApi.Controllers.BuyersController.RegisterBuyer (RealEstateApi)'
2025-06-13 13:56:32.885 +05:30 [INF] Route matched with {action = "RegisterBuyer", controller = "Buyers"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[RealEstateApi.Models.DTOs.AuthResponseDto]] RegisterBuyer(RealEstateApi.Models.DTOs.RegisterBuyerDto) on controller RealEstateApi.Controllers.BuyersController (RealEstateApi).
2025-06-13 13:56:32.895 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."Email", u."IsDeleted", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role"
FROM "Users" AS u
WHERE NOT (u."IsDeleted")
2025-06-13 13:56:32.896 +05:30 [INF] Executing ConflictObjectResult, writing value of type 'System.String'.
2025-06-13 13:56:32.896 +05:30 [INF] Executed action RealEstateApi.Controllers.BuyersController.RegisterBuyer (RealEstateApi) in 11.6079ms
2025-06-13 13:56:32.896 +05:30 [INF] Executed endpoint 'RealEstateApi.Controllers.BuyersController.RegisterBuyer (RealEstateApi)'
2025-06-13 13:56:32.896 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5009/api/v1/Buyers/register - 409 null text/plain; charset=utf-8 15.9942ms
2025-06-13 13:56:46.428 +05:30 [INF] Request starting HTTP/1.1 PUT http://localhost:5009/api/v1/Buyers/{{$buyer-id}} - application/json 57
2025-06-13 13:56:46.430 +05:30 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '12/06/2025 8:29:51PM', Current time (UTC): '13/06/2025 8:26:46AM'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-06-13 13:56:46.430 +05:30 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '12/06/2025 8:29:51PM', Current time (UTC): '13/06/2025 8:26:46AM'.
2025-06-13 13:56:46.431 +05:30 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Buyer)
2025-06-13 13:56:46.431 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2025-06-13 13:56:46.431 +05:30 [INF] Request finished HTTP/1.1 PUT http://localhost:5009/api/v1/Buyers/{{$buyer-id}} - 401 0 null 2.581ms
2025-06-13 13:57:04.460 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5009/api/v1/Inquiries - null null
2025-06-13 13:57:04.460 +05:30 [INF] Executing endpoint 'RealEstateApi.Controllers.InquiriesController.GetFilteredInquiries (RealEstateApi)'
2025-06-13 13:57:04.464 +05:30 [INF] Route matched with {action = "GetFilteredInquiries", controller = "Inquiries"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetFilteredInquiries(RealEstateApi.Models.DTOs.InquiryQueryDto) on controller RealEstateApi.Controllers.InquiriesController (RealEstateApi).
2025-06-13 13:57:04.485 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT i."Id", i."BuyerId", i."CreatedAt", i."ListingId", i."Message", b."Id", b."Budget", b."PreferredLocation", p."Id", p."AgentId", p."Bathrooms", p."Bedrooms", p."CreatedAt", p."Description", p."IsDeleted", p."Location", p."Price", p."SquareFeet", p."Title"
FROM "Inquiries" AS i
INNER JOIN "Buyers" AS b ON i."BuyerId" = b."Id"
INNER JOIN "PropertyListings" AS p ON i."ListingId" = p."Id"
2025-06-13 13:57:04.488 +05:30 [INF] Executing OkObjectResult, writing value of type 'RealEstateApi.Models.DTOs.PagedResult`1[[RealEstateApi.Models.Inquiry, RealEstateApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-13 13:57:04.491 +05:30 [INF] Executed action RealEstateApi.Controllers.InquiriesController.GetFilteredInquiries (RealEstateApi) in 26.1127ms
2025-06-13 13:57:04.491 +05:30 [INF] Executed endpoint 'RealEstateApi.Controllers.InquiriesController.GetFilteredInquiries (RealEstateApi)'
2025-06-13 13:57:04.491 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5009/api/v1/Inquiries - 200 null application/json; charset=utf-8 30.8645ms
2025-06-13 13:57:31.030 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5009/api/v1/Inquiries - application/json 133
2025-06-13 13:57:31.031 +05:30 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '12/06/2025 8:11:43PM', Current time (UTC): '13/06/2025 8:27:31AM'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-06-13 13:57:31.031 +05:30 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '12/06/2025 8:11:43PM', Current time (UTC): '13/06/2025 8:27:31AM'.
2025-06-13 13:57:31.031 +05:30 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Buyer)
2025-06-13 13:57:31.031 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2025-06-13 13:57:31.032 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5009/api/v1/Inquiries - 401 0 null 2.0194ms
2025-06-13 13:57:45.207 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5009/api/v1/PropertyListings - null null
2025-06-13 13:57:45.207 +05:30 [INF] Executing endpoint 'RealEstateApi.Controllers.PropertyListingsController.SearchListings (RealEstateApi)'
2025-06-13 13:57:45.210 +05:30 [INF] Route matched with {action = "SearchListings", controller = "PropertyListings"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SearchListings(RealEstateApi.Models.DTOs.PropertyListingQueryParametersDto) on controller RealEstateApi.Controllers.PropertyListingsController (RealEstateApi).
2025-06-13 13:57:45.233 +05:30 [WRN] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2025-06-13 13:57:45.266 +05:30 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."AgentId", p."Bathrooms", p."Bedrooms", p."CreatedAt", p."Description", p."IsDeleted", p."Location", p."Price", p."SquareFeet", p."Title", a."Id", a."AgencyName", a."LicenseNumber", a."Phone", p1."Id", p1."DeletedAt", p1."FileName", p1."FileUrl", p1."IsDeleted", p1."PropertyListingId", i."Id", i."BuyerId", i."CreatedAt", i."ListingId", i."Message"
FROM "PropertyListings" AS p
INNER JOIN "Agents" AS a ON p."AgentId" = a."Id"
LEFT JOIN (
    SELECT p0."Id", p0."DeletedAt", p0."FileName", p0."FileUrl", p0."IsDeleted", p0."PropertyListingId"
    FROM "PropertyImages" AS p0
    WHERE NOT (p0."IsDeleted")
) AS p1 ON p."Id" = p1."PropertyListingId"
LEFT JOIN "Inquiries" AS i ON p."Id" = i."ListingId"
WHERE NOT (p."IsDeleted")
ORDER BY p."Id", a."Id", p1."Id"
2025-06-13 13:57:45.284 +05:30 [INF] Executing OkObjectResult, writing value of type 'RealEstateApi.Models.DTOs.PagedResult`1[[RealEstateApi.Models.PropertyListing, RealEstateApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-13 13:57:45.287 +05:30 [INF] Executed action RealEstateApi.Controllers.PropertyListingsController.SearchListings (RealEstateApi) in 76.7432ms
2025-06-13 13:57:45.287 +05:30 [INF] Executed endpoint 'RealEstateApi.Controllers.PropertyListingsController.SearchListings (RealEstateApi)'
2025-06-13 13:57:45.287 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5009/api/v1/PropertyListings - 200 null application/json; charset=utf-8 80.3437ms
2025-06-13 13:58:10.177 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5009/api/v1/PropertyListings/{{$listing-id}} - null null
2025-06-13 13:58:10.178 +05:30 [INF] Executing endpoint 'RealEstateApi.Controllers.PropertyListingsController.GetListingById (RealEstateApi)'
2025-06-13 13:58:10.182 +05:30 [INF] Route matched with {action = "GetListingById", controller = "PropertyListings"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListingById(System.Guid) on controller RealEstateApi.Controllers.PropertyListingsController (RealEstateApi).
2025-06-13 13:58:10.184 +05:30 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2025-06-13 13:58:10.207 +05:30 [INF] Executed action RealEstateApi.Controllers.PropertyListingsController.GetListingById (RealEstateApi) in 24.7449ms
2025-06-13 13:58:10.207 +05:30 [INF] Executed endpoint 'RealEstateApi.Controllers.PropertyListingsController.GetListingById (RealEstateApi)'
2025-06-13 13:58:10.207 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5009/api/v1/PropertyListings/{{$listing-id}} - 400 null application/problem+json; charset=utf-8 29.373ms
2025-06-13 13:58:31.755 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5009/api/v1/PropertyListings - null null
2025-06-13 13:58:31.756 +05:30 [INF] Executing endpoint 'RealEstateApi.Controllers.PropertyListingsController.SearchListings (RealEstateApi)'
2025-06-13 13:58:31.756 +05:30 [INF] Route matched with {action = "SearchListings", controller = "PropertyListings"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SearchListings(RealEstateApi.Models.DTOs.PropertyListingQueryParametersDto) on controller RealEstateApi.Controllers.PropertyListingsController (RealEstateApi).
2025-06-13 13:58:31.779 +05:30 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."AgentId", p."Bathrooms", p."Bedrooms", p."CreatedAt", p."Description", p."IsDeleted", p."Location", p."Price", p."SquareFeet", p."Title", a."Id", a."AgencyName", a."LicenseNumber", a."Phone", p1."Id", p1."DeletedAt", p1."FileName", p1."FileUrl", p1."IsDeleted", p1."PropertyListingId", i."Id", i."BuyerId", i."CreatedAt", i."ListingId", i."Message"
FROM "PropertyListings" AS p
INNER JOIN "Agents" AS a ON p."AgentId" = a."Id"
LEFT JOIN (
    SELECT p0."Id", p0."DeletedAt", p0."FileName", p0."FileUrl", p0."IsDeleted", p0."PropertyListingId"
    FROM "PropertyImages" AS p0
    WHERE NOT (p0."IsDeleted")
) AS p1 ON p."Id" = p1."PropertyListingId"
LEFT JOIN "Inquiries" AS i ON p."Id" = i."ListingId"
WHERE NOT (p."IsDeleted")
ORDER BY p."Id", a."Id", p1."Id"
2025-06-13 13:58:31.779 +05:30 [INF] Executing OkObjectResult, writing value of type 'RealEstateApi.Models.DTOs.PagedResult`1[[RealEstateApi.Models.PropertyListing, RealEstateApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-13 13:58:31.780 +05:30 [INF] Executed action RealEstateApi.Controllers.PropertyListingsController.SearchListings (RealEstateApi) in 23.2413ms
2025-06-13 13:58:31.780 +05:30 [INF] Executed endpoint 'RealEstateApi.Controllers.PropertyListingsController.SearchListings (RealEstateApi)'
2025-06-13 13:58:31.780 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5009/api/v1/PropertyListings - 200 null application/json; charset=utf-8 24.8062ms
2025-06-13 13:58:57.368 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5009/api/v1/PropertyListings/{{$listing-id}} - null null
2025-06-13 13:58:57.368 +05:30 [INF] Executing endpoint 'RealEstateApi.Controllers.PropertyListingsController.GetListingById (RealEstateApi)'
2025-06-13 13:58:57.368 +05:30 [INF] Route matched with {action = "GetListingById", controller = "PropertyListings"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListingById(System.Guid) on controller RealEstateApi.Controllers.PropertyListingsController (RealEstateApi).
2025-06-13 13:58:57.369 +05:30 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2025-06-13 13:58:57.369 +05:30 [INF] Executed action RealEstateApi.Controllers.PropertyListingsController.GetListingById (RealEstateApi) in 0.915ms
2025-06-13 13:58:57.369 +05:30 [INF] Executed endpoint 'RealEstateApi.Controllers.PropertyListingsController.GetListingById (RealEstateApi)'
2025-06-13 13:58:57.369 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5009/api/v1/PropertyListings/{{$listing-id}} - 400 null application/problem+json; charset=utf-8 1.6162ms
2025-06-13 13:59:15.021 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5009/api/v1/PropertyListings/{{$listing-id}} - null null
2025-06-13 13:59:15.022 +05:30 [INF] Executing endpoint 'RealEstateApi.Controllers.PropertyListingsController.GetListingById (RealEstateApi)'
2025-06-13 13:59:15.022 +05:30 [INF] Route matched with {action = "GetListingById", controller = "PropertyListings"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListingById(System.Guid) on controller RealEstateApi.Controllers.PropertyListingsController (RealEstateApi).
2025-06-13 13:59:15.022 +05:30 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2025-06-13 13:59:15.023 +05:30 [INF] Executed action RealEstateApi.Controllers.PropertyListingsController.GetListingById (RealEstateApi) in 0.837ms
2025-06-13 13:59:15.023 +05:30 [INF] Executed endpoint 'RealEstateApi.Controllers.PropertyListingsController.GetListingById (RealEstateApi)'
2025-06-13 13:59:15.023 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5009/api/v1/PropertyListings/{{$listing-id}} - 400 null application/problem+json; charset=utf-8 1.4568ms
2025-06-13 13:59:24.211 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5009/api/v1/PropertyListings - null null
2025-06-13 13:59:24.212 +05:30 [INF] Executing endpoint 'RealEstateApi.Controllers.PropertyListingsController.SearchListings (RealEstateApi)'
2025-06-13 13:59:24.212 +05:30 [INF] Route matched with {action = "SearchListings", controller = "PropertyListings"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SearchListings(RealEstateApi.Models.DTOs.PropertyListingQueryParametersDto) on controller RealEstateApi.Controllers.PropertyListingsController (RealEstateApi).
2025-06-13 13:59:24.215 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."AgentId", p."Bathrooms", p."Bedrooms", p."CreatedAt", p."Description", p."IsDeleted", p."Location", p."Price", p."SquareFeet", p."Title", a."Id", a."AgencyName", a."LicenseNumber", a."Phone", p1."Id", p1."DeletedAt", p1."FileName", p1."FileUrl", p1."IsDeleted", p1."PropertyListingId", i."Id", i."BuyerId", i."CreatedAt", i."ListingId", i."Message"
FROM "PropertyListings" AS p
INNER JOIN "Agents" AS a ON p."AgentId" = a."Id"
LEFT JOIN (
    SELECT p0."Id", p0."DeletedAt", p0."FileName", p0."FileUrl", p0."IsDeleted", p0."PropertyListingId"
    FROM "PropertyImages" AS p0
    WHERE NOT (p0."IsDeleted")
) AS p1 ON p."Id" = p1."PropertyListingId"
LEFT JOIN "Inquiries" AS i ON p."Id" = i."ListingId"
WHERE NOT (p."IsDeleted")
ORDER BY p."Id", a."Id", p1."Id"
2025-06-13 13:59:24.215 +05:30 [INF] Executing OkObjectResult, writing value of type 'RealEstateApi.Models.DTOs.PagedResult`1[[RealEstateApi.Models.PropertyListing, RealEstateApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-13 13:59:24.216 +05:30 [INF] Executed action RealEstateApi.Controllers.PropertyListingsController.SearchListings (RealEstateApi) in 3.3888ms
2025-06-13 13:59:24.216 +05:30 [INF] Executed endpoint 'RealEstateApi.Controllers.PropertyListingsController.SearchListings (RealEstateApi)'
2025-06-13 13:59:24.216 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5009/api/v1/PropertyListings - 200 null application/json; charset=utf-8 4.9312ms
2025-06-13 13:59:47.558 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5009/api/v1/PropertyListings/{{$listing-id}} - null null
2025-06-13 13:59:47.558 +05:30 [INF] Executing endpoint 'RealEstateApi.Controllers.PropertyListingsController.GetListingById (RealEstateApi)'
2025-06-13 13:59:47.558 +05:30 [INF] Route matched with {action = "GetListingById", controller = "PropertyListings"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListingById(System.Guid) on controller RealEstateApi.Controllers.PropertyListingsController (RealEstateApi).
2025-06-13 13:59:47.559 +05:30 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2025-06-13 13:59:47.559 +05:30 [INF] Executed action RealEstateApi.Controllers.PropertyListingsController.GetListingById (RealEstateApi) in 0.6646ms
2025-06-13 13:59:47.559 +05:30 [INF] Executed endpoint 'RealEstateApi.Controllers.PropertyListingsController.GetListingById (RealEstateApi)'
2025-06-13 13:59:47.559 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5009/api/v1/PropertyListings/{{$listing-id}} - 400 null application/problem+json; charset=utf-8 1.275ms
2025-06-13 13:59:53.698 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5009/api/v1/PropertyListings/01976587-f675-7462-8cee-1b0b3818f069 - null null
2025-06-13 13:59:53.698 +05:30 [INF] Executing endpoint 'RealEstateApi.Controllers.PropertyListingsController.GetListingById (RealEstateApi)'
2025-06-13 13:59:53.698 +05:30 [INF] Route matched with {action = "GetListingById", controller = "PropertyListings"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListingById(System.Guid) on controller RealEstateApi.Controllers.PropertyListingsController (RealEstateApi).
2025-06-13 13:59:53.717 +05:30 [WRN] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2025-06-13 13:59:53.768 +05:30 [INF] Executed DbCommand (18ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."AgentId", s."Bathrooms", s."Bedrooms", s."CreatedAt", s."Description", s."IsDeleted", s."Location", s."Price", s."SquareFeet", s."Title", s."Id0", s."AgencyName", s."LicenseNumber", s."Phone", p1."Id", p1."DeletedAt", p1."FileName", p1."FileUrl", p1."IsDeleted", p1."PropertyListingId", i."Id", i."BuyerId", i."CreatedAt", i."ListingId", i."Message"
FROM (
    SELECT p."Id", p."AgentId", p."Bathrooms", p."Bedrooms", p."CreatedAt", p."Description", p."IsDeleted", p."Location", p."Price", p."SquareFeet", p."Title", a."Id" AS "Id0", a."AgencyName", a."LicenseNumber", a."Phone"
    FROM "PropertyListings" AS p
    INNER JOIN "Agents" AS a ON p."AgentId" = a."Id"
    WHERE NOT (p."IsDeleted") AND p."Id" = @__id_0
    LIMIT 1
) AS s
LEFT JOIN (
    SELECT p0."Id", p0."DeletedAt", p0."FileName", p0."FileUrl", p0."IsDeleted", p0."PropertyListingId"
    FROM "PropertyImages" AS p0
    WHERE NOT (p0."IsDeleted")
) AS p1 ON s."Id" = p1."PropertyListingId"
LEFT JOIN "Inquiries" AS i ON s."Id" = i."ListingId"
ORDER BY s."Id", s."Id0", p1."Id"
2025-06-13 13:59:53.772 +05:30 [INF] Executing OkObjectResult, writing value of type 'RealEstateApi.Models.PropertyListing'.
2025-06-13 13:59:53.773 +05:30 [INF] Executed action RealEstateApi.Controllers.PropertyListingsController.GetListingById (RealEstateApi) in 74.2892ms
2025-06-13 13:59:53.773 +05:30 [INF] Executed endpoint 'RealEstateApi.Controllers.PropertyListingsController.GetListingById (RealEstateApi)'
2025-06-13 13:59:53.773 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5009/api/v1/PropertyListings/01976587-f675-7462-8cee-1b0b3818f069 - 200 null application/json; charset=utf-8 74.8793ms
2025-06-13 14:00:29.690 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5009/api/v1/PropertyListings/${{$listing-id}} - null null
2025-06-13 14:00:29.691 +05:30 [INF] Executing endpoint 'RealEstateApi.Controllers.PropertyListingsController.GetListingById (RealEstateApi)'
2025-06-13 14:00:29.691 +05:30 [INF] Route matched with {action = "GetListingById", controller = "PropertyListings"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListingById(System.Guid) on controller RealEstateApi.Controllers.PropertyListingsController (RealEstateApi).
2025-06-13 14:00:29.691 +05:30 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2025-06-13 14:00:29.692 +05:30 [INF] Executed action RealEstateApi.Controllers.PropertyListingsController.GetListingById (RealEstateApi) in 0.739ms
2025-06-13 14:00:29.692 +05:30 [INF] Executed endpoint 'RealEstateApi.Controllers.PropertyListingsController.GetListingById (RealEstateApi)'
2025-06-13 14:00:29.692 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5009/api/v1/PropertyListings/${{$listing-id}} - 400 null application/problem+json; charset=utf-8 1.8419ms
2025-06-13 14:00:41.144 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5009/api/v1/PropertyListings/{{$listing-id}} - null null
2025-06-13 14:00:41.145 +05:30 [INF] Executing endpoint 'RealEstateApi.Controllers.PropertyListingsController.GetListingById (RealEstateApi)'
2025-06-13 14:00:41.145 +05:30 [INF] Route matched with {action = "GetListingById", controller = "PropertyListings"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListingById(System.Guid) on controller RealEstateApi.Controllers.PropertyListingsController (RealEstateApi).
2025-06-13 14:00:41.146 +05:30 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2025-06-13 14:00:41.146 +05:30 [INF] Executed action RealEstateApi.Controllers.PropertyListingsController.GetListingById (RealEstateApi) in 1.084ms
2025-06-13 14:00:41.146 +05:30 [INF] Executed endpoint 'RealEstateApi.Controllers.PropertyListingsController.GetListingById (RealEstateApi)'
2025-06-13 14:00:41.146 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5009/api/v1/PropertyListings/{{$listing-id}} - 400 null application/problem+json; charset=utf-8 1.7973ms
2025-06-13 14:01:34.283 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5009/api/v1/PropertyListings/{{$listing-id}} - null null
2025-06-13 14:01:34.283 +05:30 [INF] Executing endpoint 'RealEstateApi.Controllers.PropertyListingsController.GetListingById (RealEstateApi)'
2025-06-13 14:01:34.283 +05:30 [INF] Route matched with {action = "GetListingById", controller = "PropertyListings"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListingById(System.Guid) on controller RealEstateApi.Controllers.PropertyListingsController (RealEstateApi).
2025-06-13 14:01:34.284 +05:30 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2025-06-13 14:01:34.284 +05:30 [INF] Executed action RealEstateApi.Controllers.PropertyListingsController.GetListingById (RealEstateApi) in 0.9988ms
2025-06-13 14:01:34.285 +05:30 [INF] Executed endpoint 'RealEstateApi.Controllers.PropertyListingsController.GetListingById (RealEstateApi)'
2025-06-13 14:01:34.285 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5009/api/v1/PropertyListings/{{$listing-id}} - 400 null application/problem+json; charset=utf-8 1.8641ms
2025-06-13 14:01:54.029 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5009/api/v1/PropertyListings/01976587-f675-7462-8cee-1b0b3818f069 - null null
2025-06-13 14:01:54.030 +05:30 [INF] Executing endpoint 'RealEstateApi.Controllers.PropertyListingsController.GetListingById (RealEstateApi)'
2025-06-13 14:01:54.030 +05:30 [INF] Route matched with {action = "GetListingById", controller = "PropertyListings"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListingById(System.Guid) on controller RealEstateApi.Controllers.PropertyListingsController (RealEstateApi).
2025-06-13 14:01:54.033 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."AgentId", s."Bathrooms", s."Bedrooms", s."CreatedAt", s."Description", s."IsDeleted", s."Location", s."Price", s."SquareFeet", s."Title", s."Id0", s."AgencyName", s."LicenseNumber", s."Phone", p1."Id", p1."DeletedAt", p1."FileName", p1."FileUrl", p1."IsDeleted", p1."PropertyListingId", i."Id", i."BuyerId", i."CreatedAt", i."ListingId", i."Message"
FROM (
    SELECT p."Id", p."AgentId", p."Bathrooms", p."Bedrooms", p."CreatedAt", p."Description", p."IsDeleted", p."Location", p."Price", p."SquareFeet", p."Title", a."Id" AS "Id0", a."AgencyName", a."LicenseNumber", a."Phone"
    FROM "PropertyListings" AS p
    INNER JOIN "Agents" AS a ON p."AgentId" = a."Id"
    WHERE NOT (p."IsDeleted") AND p."Id" = @__id_0
    LIMIT 1
) AS s
LEFT JOIN (
    SELECT p0."Id", p0."DeletedAt", p0."FileName", p0."FileUrl", p0."IsDeleted", p0."PropertyListingId"
    FROM "PropertyImages" AS p0
    WHERE NOT (p0."IsDeleted")
) AS p1 ON s."Id" = p1."PropertyListingId"
LEFT JOIN "Inquiries" AS i ON s."Id" = i."ListingId"
ORDER BY s."Id", s."Id0", p1."Id"
2025-06-13 14:01:54.034 +05:30 [INF] Executing OkObjectResult, writing value of type 'RealEstateApi.Models.PropertyListing'.
2025-06-13 14:01:54.034 +05:30 [INF] Executed action RealEstateApi.Controllers.PropertyListingsController.GetListingById (RealEstateApi) in 4.4889ms
2025-06-13 14:01:54.034 +05:30 [INF] Executed endpoint 'RealEstateApi.Controllers.PropertyListingsController.GetListingById (RealEstateApi)'
2025-06-13 14:01:54.034 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5009/api/v1/PropertyListings/01976587-f675-7462-8cee-1b0b3818f069 - 200 null application/json; charset=utf-8 5.7453ms
2025-06-13 14:02:37.783 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5009/api/v1/PropertyListings/01976587-f675-7462-8cee-1b0b3818f069 - null null
2025-06-13 14:02:37.784 +05:30 [INF] Executing endpoint 'RealEstateApi.Controllers.PropertyListingsController.GetListingById (RealEstateApi)'
2025-06-13 14:02:37.784 +05:30 [INF] Route matched with {action = "GetListingById", controller = "PropertyListings"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListingById(System.Guid) on controller RealEstateApi.Controllers.PropertyListingsController (RealEstateApi).
2025-06-13 14:02:37.786 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."AgentId", s."Bathrooms", s."Bedrooms", s."CreatedAt", s."Description", s."IsDeleted", s."Location", s."Price", s."SquareFeet", s."Title", s."Id0", s."AgencyName", s."LicenseNumber", s."Phone", p1."Id", p1."DeletedAt", p1."FileName", p1."FileUrl", p1."IsDeleted", p1."PropertyListingId", i."Id", i."BuyerId", i."CreatedAt", i."ListingId", i."Message"
FROM (
    SELECT p."Id", p."AgentId", p."Bathrooms", p."Bedrooms", p."CreatedAt", p."Description", p."IsDeleted", p."Location", p."Price", p."SquareFeet", p."Title", a."Id" AS "Id0", a."AgencyName", a."LicenseNumber", a."Phone"
    FROM "PropertyListings" AS p
    INNER JOIN "Agents" AS a ON p."AgentId" = a."Id"
    WHERE NOT (p."IsDeleted") AND p."Id" = @__id_0
    LIMIT 1
) AS s
LEFT JOIN (
    SELECT p0."Id", p0."DeletedAt", p0."FileName", p0."FileUrl", p0."IsDeleted", p0."PropertyListingId"
    FROM "PropertyImages" AS p0
    WHERE NOT (p0."IsDeleted")
) AS p1 ON s."Id" = p1."PropertyListingId"
LEFT JOIN "Inquiries" AS i ON s."Id" = i."ListingId"
ORDER BY s."Id", s."Id0", p1."Id"
2025-06-13 14:02:37.787 +05:30 [INF] Executing OkObjectResult, writing value of type 'RealEstateApi.Models.PropertyListing'.
2025-06-13 14:02:37.787 +05:30 [INF] Executed action RealEstateApi.Controllers.PropertyListingsController.GetListingById (RealEstateApi) in 2.6842ms
2025-06-13 14:02:37.787 +05:30 [INF] Executed endpoint 'RealEstateApi.Controllers.PropertyListingsController.GetListingById (RealEstateApi)'
2025-06-13 14:02:37.787 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5009/api/v1/PropertyListings/01976587-f675-7462-8cee-1b0b3818f069 - 200 null application/json; charset=utf-8 4.1833ms
2025-06-13 14:03:09.372 +05:30 [INF] Request starting HTTP/1.1 PUT http://localhost:5009/api/v1/PropertyListings/{{$listing-id}} - application/json 142
2025-06-13 14:03:09.373 +05:30 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '12/06/2025 8:31:27PM', Current time (UTC): '13/06/2025 8:33:09AM'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-06-13 14:03:09.373 +05:30 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '12/06/2025 8:31:27PM', Current time (UTC): '13/06/2025 8:33:09AM'.
2025-06-13 14:03:09.374 +05:30 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Agent)
2025-06-13 14:03:09.374 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2025-06-13 14:03:09.374 +05:30 [INF] Request finished HTTP/1.1 PUT http://localhost:5009/api/v1/PropertyListings/{{$listing-id}} - 401 0 null 1.3492ms
2025-06-13 14:03:24.318 +05:30 [INF] Request starting HTTP/1.1 DELETE http://localhost:5009/api/v1/PropertyListings/{{$listing-id}} - null null
2025-06-13 14:03:24.319 +05:30 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '12/06/2025 8:31:27PM', Current time (UTC): '13/06/2025 8:33:24AM'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-06-13 14:03:24.319 +05:30 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '12/06/2025 8:31:27PM', Current time (UTC): '13/06/2025 8:33:24AM'.
2025-06-13 14:03:24.319 +05:30 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Agent)
2025-06-13 14:03:24.319 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2025-06-13 14:03:24.319 +05:30 [INF] Request finished HTTP/1.1 DELETE http://localhost:5009/api/v1/PropertyListings/{{$listing-id}} - 401 0 null 1.0554ms
2025-06-13 14:03:53.406 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5009/api/v1/PropertyListings - application/json 195
2025-06-13 14:03:53.407 +05:30 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '12/06/2025 8:31:27PM', Current time (UTC): '13/06/2025 8:33:53AM'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-06-13 14:03:53.407 +05:30 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '12/06/2025 8:31:27PM', Current time (UTC): '13/06/2025 8:33:53AM'.
2025-06-13 14:03:53.407 +05:30 [INF] Executing endpoint 'RealEstateApi.Controllers.PropertyListingsController.CreateListing (RealEstateApi)'
2025-06-13 14:03:53.410 +05:30 [INF] Route matched with {action = "CreateListing", controller = "PropertyListings"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateListing(RealEstateApi.Models.DTOs.CreatePropertyListingDto) on controller RealEstateApi.Controllers.PropertyListingsController (RealEstateApi).
2025-06-13 14:03:53.420 +05:30 [INF] Executing UnauthorizedObjectResult, writing value of type 'System.String'.
2025-06-13 14:03:53.420 +05:30 [INF] Executed action RealEstateApi.Controllers.PropertyListingsController.CreateListing (RealEstateApi) in 9.5528ms
2025-06-13 14:03:53.420 +05:30 [INF] Executed endpoint 'RealEstateApi.Controllers.PropertyListingsController.CreateListing (RealEstateApi)'
2025-06-13 14:03:53.420 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5009/api/v1/PropertyListings - 401 null text/plain; charset=utf-8 13.8509ms
2025-06-13 14:04:19.393 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5009/api/v1/PropertyListings/images/upload - multipart/form-data; boundary=--------------------------093824545009866372152971 293
2025-06-13 14:04:19.394 +05:30 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '12/06/2025 8:31:27PM', Current time (UTC): '13/06/2025 8:34:19AM'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-06-13 14:04:19.394 +05:30 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '12/06/2025 8:31:27PM', Current time (UTC): '13/06/2025 8:34:19AM'.
2025-06-13 14:04:19.394 +05:30 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Agent)
2025-06-13 14:04:19.394 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2025-06-13 14:04:19.394 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5009/api/v1/PropertyListings/images/upload - 401 0 null 1.3926ms
2025-06-13 14:04:51.642 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5009/api/v1/PropertyImages/file/{{$image-id}} - null null
2025-06-13 14:04:51.642 +05:30 [INF] Executing endpoint 'RealEstateApi.Controllers.PropertyImagesController.GetImageFile (RealEstateApi)'
2025-06-13 14:04:51.645 +05:30 [INF] Route matched with {action = "GetImageFile", controller = "PropertyImages"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetImageFile(System.Guid) on controller RealEstateApi.Controllers.PropertyImagesController (RealEstateApi).
2025-06-13 14:04:51.646 +05:30 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2025-06-13 14:04:51.647 +05:30 [INF] Executed action RealEstateApi.Controllers.PropertyImagesController.GetImageFile (RealEstateApi) in 1.1669ms
2025-06-13 14:04:51.647 +05:30 [INF] Executed endpoint 'RealEstateApi.Controllers.PropertyImagesController.GetImageFile (RealEstateApi)'
2025-06-13 14:04:51.647 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5009/api/v1/PropertyImages/file/{{$image-id}} - 400 null application/problem+json; charset=utf-8 5.2159ms
2025-06-13 14:05:15.042 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5009/api/v1/PropertyListings - null null
2025-06-13 14:05:15.042 +05:30 [INF] Executing endpoint 'RealEstateApi.Controllers.PropertyListingsController.SearchListings (RealEstateApi)'
2025-06-13 14:05:15.043 +05:30 [INF] Route matched with {action = "SearchListings", controller = "PropertyListings"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SearchListings(RealEstateApi.Models.DTOs.PropertyListingQueryParametersDto) on controller RealEstateApi.Controllers.PropertyListingsController (RealEstateApi).
2025-06-13 14:05:15.071 +05:30 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."AgentId", p."Bathrooms", p."Bedrooms", p."CreatedAt", p."Description", p."IsDeleted", p."Location", p."Price", p."SquareFeet", p."Title", a."Id", a."AgencyName", a."LicenseNumber", a."Phone", p1."Id", p1."DeletedAt", p1."FileName", p1."FileUrl", p1."IsDeleted", p1."PropertyListingId", i."Id", i."BuyerId", i."CreatedAt", i."ListingId", i."Message"
FROM "PropertyListings" AS p
INNER JOIN "Agents" AS a ON p."AgentId" = a."Id"
LEFT JOIN (
    SELECT p0."Id", p0."DeletedAt", p0."FileName", p0."FileUrl", p0."IsDeleted", p0."PropertyListingId"
    FROM "PropertyImages" AS p0
    WHERE NOT (p0."IsDeleted")
) AS p1 ON p."Id" = p1."PropertyListingId"
LEFT JOIN "Inquiries" AS i ON p."Id" = i."ListingId"
WHERE NOT (p."IsDeleted")
ORDER BY p."Id", a."Id", p1."Id"
2025-06-13 14:05:15.072 +05:30 [INF] Executing OkObjectResult, writing value of type 'RealEstateApi.Models.DTOs.PagedResult`1[[RealEstateApi.Models.PropertyListing, RealEstateApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-13 14:05:15.072 +05:30 [INF] Executed action RealEstateApi.Controllers.PropertyListingsController.SearchListings (RealEstateApi) in 29.3819ms
2025-06-13 14:05:15.072 +05:30 [INF] Executed endpoint 'RealEstateApi.Controllers.PropertyListingsController.SearchListings (RealEstateApi)'
2025-06-13 14:05:15.072 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5009/api/v1/PropertyListings - 200 null application/json; charset=utf-8 30.3245ms
2025-06-13 14:05:35.653 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5009/api/v1/PropertyImages/file/{{$image-id}} - null null
2025-06-13 14:05:35.653 +05:30 [INF] Executing endpoint 'RealEstateApi.Controllers.PropertyImagesController.GetImageFile (RealEstateApi)'
2025-06-13 14:05:35.653 +05:30 [INF] Route matched with {action = "GetImageFile", controller = "PropertyImages"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetImageFile(System.Guid) on controller RealEstateApi.Controllers.PropertyImagesController (RealEstateApi).
2025-06-13 14:05:35.654 +05:30 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2025-06-13 14:05:35.654 +05:30 [INF] Executed action RealEstateApi.Controllers.PropertyImagesController.GetImageFile (RealEstateApi) in 0.766ms
2025-06-13 14:05:35.654 +05:30 [INF] Executed endpoint 'RealEstateApi.Controllers.PropertyImagesController.GetImageFile (RealEstateApi)'
2025-06-13 14:05:35.654 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5009/api/v1/PropertyImages/file/{{$image-id}} - 400 null application/problem+json; charset=utf-8 1.6995ms
2025-06-13 14:05:59.768 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5009/api/v1/PropertyImages/file/01976588-4d69-755b-b446-22f1ff060bc2 - null null
2025-06-13 14:05:59.768 +05:30 [INF] Executing endpoint 'RealEstateApi.Controllers.PropertyImagesController.GetImageFile (RealEstateApi)'
2025-06-13 14:05:59.769 +05:30 [INF] Route matched with {action = "GetImageFile", controller = "PropertyImages"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetImageFile(System.Guid) on controller RealEstateApi.Controllers.PropertyImagesController (RealEstateApi).
2025-06-13 14:05:59.785 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."DeletedAt", p."FileName", p."FileUrl", p."IsDeleted", p."PropertyListingId", p0."Id", p0."AgentId", p0."Bathrooms", p0."Bedrooms", p0."CreatedAt", p0."Description", p0."IsDeleted", p0."Location", p0."Price", p0."SquareFeet", p0."Title"
FROM "PropertyImages" AS p
INNER JOIN "PropertyListings" AS p0 ON p."PropertyListingId" = p0."Id"
WHERE NOT (p."IsDeleted") AND p."Id" = @__id_0
LIMIT 2
2025-06-13 14:05:59.790 +05:30 [INF] Executing FileContentResult, sending file with download name '263d4d36-7912-404e-a7b1-0fbe36310857.jpg' ...
2025-06-13 14:05:59.813 +05:30 [INF] Executed action RealEstateApi.Controllers.PropertyImagesController.GetImageFile (RealEstateApi) in 44.1745ms
2025-06-13 14:05:59.813 +05:30 [INF] Executed endpoint 'RealEstateApi.Controllers.PropertyImagesController.GetImageFile (RealEstateApi)'
2025-06-13 14:05:59.813 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5009/api/v1/PropertyImages/file/01976588-4d69-755b-b446-22f1ff060bc2 - 200 920097 image/jpeg 44.6961ms
2025-06-13 14:06:39.653 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5009/api/v1/PropertyImages/urls/{{$listing-id}} - null null
2025-06-13 14:06:39.653 +05:30 [INF] Executing endpoint 'RealEstateApi.Controllers.PropertyImagesController.GetListingImageUrls (RealEstateApi)'
2025-06-13 14:06:39.656 +05:30 [INF] Route matched with {action = "GetListingImageUrls", controller = "PropertyImages"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListingImageUrls(System.Guid) on controller RealEstateApi.Controllers.PropertyImagesController (RealEstateApi).
2025-06-13 14:06:39.657 +05:30 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2025-06-13 14:06:39.657 +05:30 [INF] Executed action RealEstateApi.Controllers.PropertyImagesController.GetListingImageUrls (RealEstateApi) in 0.809ms
2025-06-13 14:06:39.657 +05:30 [INF] Executed endpoint 'RealEstateApi.Controllers.PropertyImagesController.GetListingImageUrls (RealEstateApi)'
2025-06-13 14:06:39.657 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5009/api/v1/PropertyImages/urls/{{$listing-id}} - 400 null application/problem+json; charset=utf-8 4.2959ms
2025-06-13 14:06:46.971 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5009/api/v1/PropertyImages/urls/01976587-f675-7462-8cee-1b0b3818f069 - null null
2025-06-13 14:06:46.971 +05:30 [INF] Executing endpoint 'RealEstateApi.Controllers.PropertyImagesController.GetListingImageUrls (RealEstateApi)'
2025-06-13 14:06:46.971 +05:30 [INF] Route matched with {action = "GetListingImageUrls", controller = "PropertyImages"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListingImageUrls(System.Guid) on controller RealEstateApi.Controllers.PropertyImagesController (RealEstateApi).
2025-06-13 14:06:46.975 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."AgentId", s."Bathrooms", s."Bedrooms", s."CreatedAt", s."Description", s."IsDeleted", s."Location", s."Price", s."SquareFeet", s."Title", s."Id0", s."AgencyName", s."LicenseNumber", s."Phone", p1."Id", p1."DeletedAt", p1."FileName", p1."FileUrl", p1."IsDeleted", p1."PropertyListingId", i."Id", i."BuyerId", i."CreatedAt", i."ListingId", i."Message"
FROM (
    SELECT p."Id", p."AgentId", p."Bathrooms", p."Bedrooms", p."CreatedAt", p."Description", p."IsDeleted", p."Location", p."Price", p."SquareFeet", p."Title", a."Id" AS "Id0", a."AgencyName", a."LicenseNumber", a."Phone"
    FROM "PropertyListings" AS p
    INNER JOIN "Agents" AS a ON p."AgentId" = a."Id"
    WHERE NOT (p."IsDeleted") AND p."Id" = @__id_0
    LIMIT 1
) AS s
LEFT JOIN (
    SELECT p0."Id", p0."DeletedAt", p0."FileName", p0."FileUrl", p0."IsDeleted", p0."PropertyListingId"
    FROM "PropertyImages" AS p0
    WHERE NOT (p0."IsDeleted")
) AS p1 ON s."Id" = p1."PropertyListingId"
LEFT JOIN "Inquiries" AS i ON s."Id" = i."ListingId"
ORDER BY s."Id", s."Id0", p1."Id"
2025-06-13 14:06:46.985 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."DeletedAt", p."FileName", p."FileUrl", p."IsDeleted", p."PropertyListingId", p0."Id", p0."AgentId", p0."Bathrooms", p0."Bedrooms", p0."CreatedAt", p0."Description", p0."IsDeleted", p0."Location", p0."Price", p0."SquareFeet", p0."Title"
FROM "PropertyImages" AS p
INNER JOIN "PropertyListings" AS p0 ON p."PropertyListingId" = p0."Id"
WHERE NOT (p."IsDeleted")
2025-06-13 14:06:46.987 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+SelectListIterator`2[[RealEstateApi.Models.PropertyImage, RealEstateApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-06-13 14:06:46.988 +05:30 [INF] Executed action RealEstateApi.Controllers.PropertyImagesController.GetListingImageUrls (RealEstateApi) in 17.2737ms
2025-06-13 14:06:46.988 +05:30 [INF] Executed endpoint 'RealEstateApi.Controllers.PropertyImagesController.GetListingImageUrls (RealEstateApi)'
2025-06-13 14:06:46.989 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5009/api/v1/PropertyImages/urls/01976587-f675-7462-8cee-1b0b3818f069 - 200 null application/json; charset=utf-8 17.9704ms
2025-06-13 14:07:07.088 +05:30 [INF] Request starting HTTP/1.1 DELETE http://localhost:5009/api/v1/PropertyImages/admin/images/cleanup - null null
2025-06-13 14:07:07.089 +05:30 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '12/06/2025 8:31:27PM', Current time (UTC): '13/06/2025 8:37:07AM'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-06-13 14:07:07.089 +05:30 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '12/06/2025 8:31:27PM', Current time (UTC): '13/06/2025 8:37:07AM'.
2025-06-13 14:07:07.090 +05:30 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin)
2025-06-13 14:07:07.090 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2025-06-13 14:07:07.090 +05:30 [INF] Request finished HTTP/1.1 DELETE http://localhost:5009/api/v1/PropertyImages/admin/images/cleanup - 401 0 null 1.3157ms
2025-06-13 14:07:22.103 +05:30 [INF] Request starting HTTP/1.1 DELETE http://localhost:5009/api/v1/PropertyImages/{{$image-id}} - null null
2025-06-13 14:07:22.104 +05:30 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '12/06/2025 8:31:27PM', Current time (UTC): '13/06/2025 8:37:22AM'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-06-13 14:07:22.104 +05:30 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '12/06/2025 8:31:27PM', Current time (UTC): '13/06/2025 8:37:22AM'.
2025-06-13 14:07:22.104 +05:30 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Agent)
2025-06-13 14:07:22.104 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2025-06-13 14:07:22.104 +05:30 [INF] Request finished HTTP/1.1 DELETE http://localhost:5009/api/v1/PropertyImages/{{$image-id}} - 401 0 null 0.9327ms
2025-06-13 14:07:59.582 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5009/api/v1/User - null null
2025-06-13 14:07:59.583 +05:30 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin)
2025-06-13 14:07:59.583 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2025-06-13 14:07:59.583 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5009/api/v1/User - 401 0 null 0.3717ms
2025-06-13 14:08:16.133 +05:30 [INF] Request starting HTTP/1.1 PUT http://localhost:5009/api/v1/User/{{$user-id}} - application/json 63
2025-06-13 14:08:16.134 +05:30 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '12/06/2025 8:31:27PM', Current time (UTC): '13/06/2025 8:38:16AM'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-06-13 14:08:16.134 +05:30 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '12/06/2025 8:31:27PM', Current time (UTC): '13/06/2025 8:38:16AM'.
2025-06-13 14:08:16.134 +05:30 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin)
2025-06-13 14:08:16.134 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2025-06-13 14:08:16.134 +05:30 [INF] Request finished HTTP/1.1 PUT http://localhost:5009/api/v1/User/{{$user-id}} - 401 0 null 0.9382ms
2025-06-13 14:08:23.303 +05:30 [INF] Request starting HTTP/1.1 PUT http://localhost:5009/api/v1/User/change-password/{{$user-id}} - application/json 56
2025-06-13 14:08:23.304 +05:30 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '12/06/2025 8:31:27PM', Current time (UTC): '13/06/2025 8:38:23AM'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-06-13 14:08:23.304 +05:30 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '12/06/2025 8:31:27PM', Current time (UTC): '13/06/2025 8:38:23AM'.
2025-06-13 14:08:23.304 +05:30 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-06-13 14:08:23.304 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2025-06-13 14:08:23.304 +05:30 [INF] Request finished HTTP/1.1 PUT http://localhost:5009/api/v1/User/change-password/{{$user-id}} - 401 0 null 1.1163ms
2025-06-13 14:08:33.919 +05:30 [INF] Request starting HTTP/1.1 DELETE http://localhost:5009/api/v1/User/{{$user-id}} - null null
2025-06-13 14:08:33.919 +05:30 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin)
2025-06-13 14:08:33.919 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2025-06-13 14:08:33.919 +05:30 [INF] Request finished HTTP/1.1 DELETE http://localhost:5009/api/v1/User/{{$user-id}} - 401 0 null 0.5401ms
2025-06-13 14:11:23.053 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5009/swagger/v1/swagger.json - null null
2025-06-13 14:11:23.097 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5009/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 43.7447ms
2025-06-13 14:11:23.150 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5009/favicon.ico - null null
2025-06-13 14:11:23.156 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5009/favicon.ico - 404 0 null 6.6251ms
2025-06-13 14:11:23.157 +05:30 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5009/favicon.ico, Response status code: 404
2025-06-13 14:34:23.422 +05:30 [INF] Application is shutting down...
2025-06-13 14:34:28.039 +05:30 [INF] User profile is available. Using '/Users/muckesh/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2025-06-13 14:34:28.177 +05:30 [INF] Now listening on: http://localhost:5009
2025-06-13 14:34:28.179 +05:30 [INF] Application started. Press Ctrl+C to shut down.
2025-06-13 14:34:28.180 +05:30 [INF] Hosting environment: Development
2025-06-13 14:34:28.180 +05:30 [INF] Content root path: /Users/muckesh/Muckesh/Presidio/Genspark-Training/Capstone-1/RealEstateApi
2025-06-13 14:44:35.445 +05:30 [INF] Application is shutting down...
2025-06-13 14:44:42.852 +05:30 [INF] User profile is available. Using '/Users/muckesh/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2025-06-13 14:44:42.989 +05:30 [INF] Now listening on: http://localhost:5009
2025-06-13 14:44:42.992 +05:30 [INF] Application started. Press Ctrl+C to shut down.
2025-06-13 14:44:42.992 +05:30 [INF] Hosting environment: Development
2025-06-13 14:44:42.993 +05:30 [INF] Content root path: /Users/muckesh/Muckesh/Presidio/Genspark-Training/Capstone-1/RealEstateApi
2025-06-13 14:46:00.990 +05:30 [INF] Application is shutting down...
2025-06-13 14:50:53.287 +05:30 [INF] User profile is available. Using '/Users/muckesh/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2025-06-13 14:50:53.428 +05:30 [INF] Now listening on: http://localhost:5009
2025-06-13 14:50:53.431 +05:30 [INF] Application started. Press Ctrl+C to shut down.
2025-06-13 14:50:53.432 +05:30 [INF] Hosting environment: Development
2025-06-13 14:50:53.432 +05:30 [INF] Content root path: /Users/muckesh/Muckesh/Presidio/Genspark-Training/Capstone-1/RealEstateApi
2025-06-13 14:51:09.360 +05:30 [INF] Application is shutting down...
2025-06-13 14:51:13.482 +05:30 [INF] User profile is available. Using '/Users/muckesh/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2025-06-13 14:51:13.611 +05:30 [INF] Now listening on: http://localhost:5009
2025-06-13 14:51:13.614 +05:30 [INF] Application started. Press Ctrl+C to shut down.
2025-06-13 14:51:13.615 +05:30 [INF] Hosting environment: Development
2025-06-13 14:51:13.615 +05:30 [INF] Content root path: /Users/muckesh/Muckesh/Presidio/Genspark-Training/Capstone-1/RealEstateApi
2025-06-13 14:52:48.556 +05:30 [INF] Application is shutting down...
2025-06-13 14:53:00.766 +05:30 [INF] User profile is available. Using '/Users/muckesh/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2025-06-13 14:53:00.924 +05:30 [INF] Now listening on: http://localhost:5009
2025-06-13 14:53:00.928 +05:30 [INF] Application started. Press Ctrl+C to shut down.
2025-06-13 14:53:00.929 +05:30 [INF] Hosting environment: Development
2025-06-13 14:53:00.929 +05:30 [INF] Content root path: /Users/muckesh/Muckesh/Presidio/Genspark-Training/Capstone-1/RealEstateApi
2025-06-13 14:53:01.277 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5009/swagger/index.html - null null
2025-06-13 14:53:01.380 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5009/swagger/index.html - 200 null text/html;charset=utf-8 105.7595ms
2025-06-13 14:53:01.590 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5009/swagger/v1/swagger.json - null null
2025-06-13 14:53:01.746 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5009/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 157.0437ms
2025-06-13 14:53:10.404 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5009/api/v1/PropertyListings - null null
2025-06-13 14:53:10.439 +05:30 [WRN] Failed to determine the https port for redirect.
2025-06-13 14:53:10.492 +05:30 [INF] Executing endpoint 'RealEstateApi.Controllers.PropertyListingsController.SearchListings (RealEstateApi)'
2025-06-13 14:53:10.530 +05:30 [INF] Route matched with {action = "SearchListings", controller = "PropertyListings"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SearchListings(RealEstateApi.Models.DTOs.PropertyListingQueryParametersDto) on controller RealEstateApi.Controllers.PropertyListingsController (RealEstateApi).
2025-06-13 14:53:11.846 +05:30 [WRN] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2025-06-13 14:53:12.118 +05:30 [INF] Executed DbCommand (26ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."AgentId", p."Bathrooms", p."Bedrooms", p."CreatedAt", p."Description", p."IsDeleted", p."Location", p."Price", p."SquareFeet", p."Title", a."Id", a."AgencyName", a."LicenseNumber", a."Phone", p1."Id", p1."DeletedAt", p1."FileName", p1."FileUrl", p1."IsDeleted", p1."PropertyListingId", i."Id", i."BuyerId", i."CreatedAt", i."ListingId", i."Message"
FROM "PropertyListings" AS p
INNER JOIN "Agents" AS a ON p."AgentId" = a."Id"
LEFT JOIN (
    SELECT p0."Id", p0."DeletedAt", p0."FileName", p0."FileUrl", p0."IsDeleted", p0."PropertyListingId"
    FROM "PropertyImages" AS p0
    WHERE NOT (p0."IsDeleted")
) AS p1 ON p."Id" = p1."PropertyListingId"
LEFT JOIN "Inquiries" AS i ON p."Id" = i."ListingId"
WHERE NOT (p."IsDeleted")
ORDER BY p."Id", a."Id", p1."Id"
2025-06-13 14:53:12.331 +05:30 [INF] Executing OkObjectResult, writing value of type 'RealEstateApi.Models.DTOs.PagedResult`1[[RealEstateApi.Models.PropertyListing, RealEstateApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-13 14:53:12.420 +05:30 [INF] Executed action RealEstateApi.Controllers.PropertyListingsController.SearchListings (RealEstateApi) in 1884.6982ms
2025-06-13 14:53:12.421 +05:30 [INF] Executed endpoint 'RealEstateApi.Controllers.PropertyListingsController.SearchListings (RealEstateApi)'
2025-06-13 14:53:12.432 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5009/api/v1/PropertyListings - 200 null application/json; charset=utf-8 2028.0737ms
2025-06-13 14:54:45.585 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5009/api/v1/Auth/login - application/json 62
2025-06-13 14:54:45.589 +05:30 [INF] Executing endpoint 'RealEstateApi.Controllers.AuthController.Login (RealEstateApi)'
2025-06-13 14:54:45.597 +05:30 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[RealEstateApi.Models.DTOs.AuthResponseDto]] Login(RealEstateApi.Models.DTOs.LoginDto) on controller RealEstateApi.Controllers.AuthController (RealEstateApi).
2025-06-13 14:54:45.656 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."Email", u."IsDeleted", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role"
FROM "Users" AS u
WHERE NOT (u."IsDeleted")
2025-06-13 14:54:46.040 +05:30 [INF] Executed DbCommand (11ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."Email", u."IsDeleted", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role"
FROM "Users" AS u
WHERE NOT (u."IsDeleted") AND u."Id" = @__id_0
LIMIT 2
2025-06-13 14:54:46.160 +05:30 [INF] Executed DbCommand (21ms) [Parameters=[@p2='?' (DbType = Guid), @p0='?', @p1='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Users" SET "RefreshToken" = @p0, "RefreshTokenExpiryTime" = @p1
WHERE "Id" = @p2;
2025-06-13 14:54:46.232 +05:30 [INF] Executed DbCommand (7ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?', @p3='?', @p4='?', @p5='?', @p6='?' (DbType = DateTime), @p7='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AuditLogs" ("Id", "ActionType", "NewValues", "OldValues", "PrimaryKey", "TableName", "Timestamp", "UserId")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
2025-06-13 14:54:46.234 +05:30 [INF] Executing OkObjectResult, writing value of type 'RealEstateApi.Models.DTOs.AuthResponseDto'.
2025-06-13 14:54:46.236 +05:30 [INF] Executed action RealEstateApi.Controllers.AuthController.Login (RealEstateApi) in 638.8457ms
2025-06-13 14:54:46.236 +05:30 [INF] Executed endpoint 'RealEstateApi.Controllers.AuthController.Login (RealEstateApi)'
2025-06-13 14:54:46.237 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5009/api/v1/Auth/login - 200 null application/json; charset=utf-8 651.6988ms
2025-06-13 14:55:40.545 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5009/api/v1/PropertyListings/images/upload - multipart/form-data; boundary=--------------------------843316387176087632441638 920465
2025-06-13 14:55:40.609 +05:30 [INF] Executing endpoint 'RealEstateApi.Controllers.PropertyListingsController.UploadImage (RealEstateApi)'
2025-06-13 14:55:40.614 +05:30 [INF] Route matched with {action = "UploadImage", controller = "PropertyListings"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UploadImage(RealEstateApi.Models.DTOs.AddPropertyImageDto) on controller RealEstateApi.Controllers.PropertyListingsController (RealEstateApi).
2025-06-13 14:55:40.725 +05:30 [WRN] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2025-06-13 14:55:40.752 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."AgentId", s."Bathrooms", s."Bedrooms", s."CreatedAt", s."Description", s."IsDeleted", s."Location", s."Price", s."SquareFeet", s."Title", s."Id0", s."AgencyName", s."LicenseNumber", s."Phone", p1."Id", p1."DeletedAt", p1."FileName", p1."FileUrl", p1."IsDeleted", p1."PropertyListingId", i."Id", i."BuyerId", i."CreatedAt", i."ListingId", i."Message"
FROM (
    SELECT p."Id", p."AgentId", p."Bathrooms", p."Bedrooms", p."CreatedAt", p."Description", p."IsDeleted", p."Location", p."Price", p."SquareFeet", p."Title", a."Id" AS "Id0", a."AgencyName", a."LicenseNumber", a."Phone"
    FROM "PropertyListings" AS p
    INNER JOIN "Agents" AS a ON p."AgentId" = a."Id"
    WHERE NOT (p."IsDeleted") AND p."Id" = @__id_0
    LIMIT 1
) AS s
LEFT JOIN (
    SELECT p0."Id", p0."DeletedAt", p0."FileName", p0."FileUrl", p0."IsDeleted", p0."PropertyListingId"
    FROM "PropertyImages" AS p0
    WHERE NOT (p0."IsDeleted")
) AS p1 ON s."Id" = p1."PropertyListingId"
LEFT JOIN "Inquiries" AS i ON s."Id" = i."ListingId"
ORDER BY s."Id", s."Id0", p1."Id"
2025-06-13 14:55:40.808 +05:30 [INF] Executed DbCommand (6ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime), @p2='?', @p3='?', @p4='?' (DbType = Boolean), @p5='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "PropertyImages" ("Id", "DeletedAt", "FileName", "FileUrl", "IsDeleted", "PropertyListingId")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2025-06-13 14:55:40.812 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?', @p3='?', @p4='?', @p5='?', @p6='?' (DbType = DateTime), @p7='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AuditLogs" ("Id", "ActionType", "NewValues", "OldValues", "PrimaryKey", "TableName", "Timestamp", "UserId")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
2025-06-13 14:55:40.812 +05:30 [INF] Executing OkObjectResult, writing value of type 'RealEstateApi.Models.PropertyImage'.
2025-06-13 14:55:40.813 +05:30 [INF] Executed action RealEstateApi.Controllers.PropertyListingsController.UploadImage (RealEstateApi) in 198.6573ms
2025-06-13 14:55:40.813 +05:30 [INF] Executed endpoint 'RealEstateApi.Controllers.PropertyListingsController.UploadImage (RealEstateApi)'
2025-06-13 14:55:40.815 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5009/api/v1/PropertyListings/images/upload - 200 null application/json; charset=utf-8 269.4581ms
2025-06-13 14:58:22.044 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5009/api/v1/PropertyListings - application/json 303
2025-06-13 14:58:22.046 +05:30 [INF] Executing endpoint 'RealEstateApi.Controllers.PropertyListingsController.CreateListing (RealEstateApi)'
2025-06-13 14:58:22.050 +05:30 [INF] Route matched with {action = "CreateListing", controller = "PropertyListings"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateListing(RealEstateApi.Models.DTOs.CreatePropertyListingDto) on controller RealEstateApi.Controllers.PropertyListingsController (RealEstateApi).
2025-06-13 14:58:22.090 +05:30 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."AgentId", p."Bathrooms", p."Bedrooms", p."CreatedAt", p."Description", p."IsDeleted", p."Location", p."Price", p."SquareFeet", p."Title", a."Id", a."AgencyName", a."LicenseNumber", a."Phone", p1."Id", p1."DeletedAt", p1."FileName", p1."FileUrl", p1."IsDeleted", p1."PropertyListingId", i."Id", i."BuyerId", i."CreatedAt", i."ListingId", i."Message"
FROM "PropertyListings" AS p
INNER JOIN "Agents" AS a ON p."AgentId" = a."Id"
LEFT JOIN (
    SELECT p0."Id", p0."DeletedAt", p0."FileName", p0."FileUrl", p0."IsDeleted", p0."PropertyListingId"
    FROM "PropertyImages" AS p0
    WHERE NOT (p0."IsDeleted")
) AS p1 ON p."Id" = p1."PropertyListingId"
LEFT JOIN "Inquiries" AS i ON p."Id" = i."ListingId"
WHERE NOT (p."IsDeleted")
ORDER BY p."Id", a."Id", p1."Id"
2025-06-13 14:58:22.099 +05:30 [INF] Executed DbCommand (4ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (DbType = DateTime), @p5='?', @p6='?' (DbType = Boolean), @p7='?', @p8='?' (DbType = Double), @p9='?' (DbType = Int32), @p10='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "PropertyListings" ("Id", "AgentId", "Bathrooms", "Bedrooms", "CreatedAt", "Description", "IsDeleted", "Location", "Price", "SquareFeet", "Title")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10);
2025-06-13 14:58:22.108 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?', @p3='?', @p4='?', @p5='?', @p6='?' (DbType = DateTime), @p7='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AuditLogs" ("Id", "ActionType", "NewValues", "OldValues", "PrimaryKey", "TableName", "Timestamp", "UserId")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
2025-06-13 14:58:22.109 +05:30 [INF] Executing CreatedResult, writing value of type 'RealEstateApi.Models.PropertyListing'.
2025-06-13 14:58:22.111 +05:30 [INF] Executed action RealEstateApi.Controllers.PropertyListingsController.CreateListing (RealEstateApi) in 60.822ms
2025-06-13 14:58:22.111 +05:30 [INF] Executed endpoint 'RealEstateApi.Controllers.PropertyListingsController.CreateListing (RealEstateApi)'
2025-06-13 14:58:22.111 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5009/api/v1/PropertyListings - 201 null application/json; charset=utf-8 66.6911ms
2025-06-13 14:59:14.361 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5009/api/v1/PropertyListings - null null
2025-06-13 14:59:14.362 +05:30 [INF] Executing endpoint 'RealEstateApi.Controllers.PropertyListingsController.SearchListings (RealEstateApi)'
2025-06-13 14:59:14.362 +05:30 [INF] Route matched with {action = "SearchListings", controller = "PropertyListings"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SearchListings(RealEstateApi.Models.DTOs.PropertyListingQueryParametersDto) on controller RealEstateApi.Controllers.PropertyListingsController (RealEstateApi).
2025-06-13 14:59:14.365 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."AgentId", p."Bathrooms", p."Bedrooms", p."CreatedAt", p."Description", p."IsDeleted", p."Location", p."Price", p."SquareFeet", p."Title", a."Id", a."AgencyName", a."LicenseNumber", a."Phone", p1."Id", p1."DeletedAt", p1."FileName", p1."FileUrl", p1."IsDeleted", p1."PropertyListingId", i."Id", i."BuyerId", i."CreatedAt", i."ListingId", i."Message"
FROM "PropertyListings" AS p
INNER JOIN "Agents" AS a ON p."AgentId" = a."Id"
LEFT JOIN (
    SELECT p0."Id", p0."DeletedAt", p0."FileName", p0."FileUrl", p0."IsDeleted", p0."PropertyListingId"
    FROM "PropertyImages" AS p0
    WHERE NOT (p0."IsDeleted")
) AS p1 ON p."Id" = p1."PropertyListingId"
LEFT JOIN "Inquiries" AS i ON p."Id" = i."ListingId"
WHERE NOT (p."IsDeleted")
ORDER BY p."Id", a."Id", p1."Id"
2025-06-13 14:59:14.367 +05:30 [INF] Executing OkObjectResult, writing value of type 'RealEstateApi.Models.DTOs.PagedResult`1[[RealEstateApi.Models.PropertyListing, RealEstateApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-13 14:59:14.368 +05:30 [INF] Executed action RealEstateApi.Controllers.PropertyListingsController.SearchListings (RealEstateApi) in 6.0718ms
2025-06-13 14:59:14.368 +05:30 [INF] Executed endpoint 'RealEstateApi.Controllers.PropertyListingsController.SearchListings (RealEstateApi)'
2025-06-13 14:59:14.368 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5009/api/v1/PropertyListings - 200 null application/json; charset=utf-8 7.7286ms
2025-06-13 15:01:33.809 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5009/api/v1/PropertyListings/0197689e-6b4c-715f-9d8a-7bc7a443dc77 - null null
2025-06-13 15:01:33.811 +05:30 [INF] Executing endpoint 'RealEstateApi.Controllers.PropertyListingsController.GetListingById (RealEstateApi)'
2025-06-13 15:01:33.816 +05:30 [INF] Route matched with {action = "GetListingById", controller = "PropertyListings"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListingById(System.Guid) on controller RealEstateApi.Controllers.PropertyListingsController (RealEstateApi).
2025-06-13 15:01:33.821 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."AgentId", s."Bathrooms", s."Bedrooms", s."CreatedAt", s."Description", s."IsDeleted", s."Location", s."Price", s."SquareFeet", s."Title", s."Id0", s."AgencyName", s."LicenseNumber", s."Phone", p1."Id", p1."DeletedAt", p1."FileName", p1."FileUrl", p1."IsDeleted", p1."PropertyListingId", i."Id", i."BuyerId", i."CreatedAt", i."ListingId", i."Message"
FROM (
    SELECT p."Id", p."AgentId", p."Bathrooms", p."Bedrooms", p."CreatedAt", p."Description", p."IsDeleted", p."Location", p."Price", p."SquareFeet", p."Title", a."Id" AS "Id0", a."AgencyName", a."LicenseNumber", a."Phone"
    FROM "PropertyListings" AS p
    INNER JOIN "Agents" AS a ON p."AgentId" = a."Id"
    WHERE NOT (p."IsDeleted") AND p."Id" = @__id_0
    LIMIT 1
) AS s
LEFT JOIN (
    SELECT p0."Id", p0."DeletedAt", p0."FileName", p0."FileUrl", p0."IsDeleted", p0."PropertyListingId"
    FROM "PropertyImages" AS p0
    WHERE NOT (p0."IsDeleted")
) AS p1 ON s."Id" = p1."PropertyListingId"
LEFT JOIN "Inquiries" AS i ON s."Id" = i."ListingId"
ORDER BY s."Id", s."Id0", p1."Id"
2025-06-13 15:01:33.823 +05:30 [INF] Executing OkObjectResult, writing value of type 'RealEstateApi.Models.PropertyListing'.
2025-06-13 15:01:33.823 +05:30 [INF] Executed action RealEstateApi.Controllers.PropertyListingsController.GetListingById (RealEstateApi) in 6.4133ms
2025-06-13 15:01:33.823 +05:30 [INF] Executed endpoint 'RealEstateApi.Controllers.PropertyListingsController.GetListingById (RealEstateApi)'
2025-06-13 15:01:33.823 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5009/api/v1/PropertyListings/0197689e-6b4c-715f-9d8a-7bc7a443dc77 - 200 null application/json; charset=utf-8 13.8858ms
2025-06-13 15:02:10.863 +05:30 [INF] Request starting HTTP/1.1 PUT http://localhost:5009/api/v1/PropertyListings/0197689e-6b4c-715f-9d8a-7bc7a443dc77 - application/json 24
2025-06-13 15:02:10.867 +05:30 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '12/06/2025 8:31:27PM', Current time (UTC): '13/06/2025 9:32:10AM'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-06-13 15:02:10.887 +05:30 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '12/06/2025 8:31:27PM', Current time (UTC): '13/06/2025 9:32:10AM'.
2025-06-13 15:02:10.890 +05:30 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Agent)
2025-06-13 15:02:10.896 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2025-06-13 15:02:10.896 +05:30 [INF] Request finished HTTP/1.1 PUT http://localhost:5009/api/v1/PropertyListings/0197689e-6b4c-715f-9d8a-7bc7a443dc77 - 401 0 null 33.8482ms
2025-06-13 15:04:04.896 +05:30 [INF] Request starting HTTP/1.1 PUT http://localhost:5009/api/v1/PropertyListings/0197689e-6b4c-715f-9d8a-7bc7a443dc77 - application/json 24
2025-06-13 15:04:04.900 +05:30 [INF] Executing endpoint 'RealEstateApi.Controllers.PropertyListingsController.UpdateListing (RealEstateApi)'
2025-06-13 15:04:04.904 +05:30 [INF] Route matched with {action = "UpdateListing", controller = "PropertyListings"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[RealEstateApi.Models.PropertyListing]] UpdateListing(System.Guid, RealEstateApi.Models.DTOs.UpdatePropertyListingDto) on controller RealEstateApi.Controllers.PropertyListingsController (RealEstateApi).
2025-06-13 15:04:04.929 +05:30 [INF] Executed DbCommand (5ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."AgentId", s."Bathrooms", s."Bedrooms", s."CreatedAt", s."Description", s."IsDeleted", s."Location", s."Price", s."SquareFeet", s."Title", s."Id0", s."AgencyName", s."LicenseNumber", s."Phone", p1."Id", p1."DeletedAt", p1."FileName", p1."FileUrl", p1."IsDeleted", p1."PropertyListingId", i."Id", i."BuyerId", i."CreatedAt", i."ListingId", i."Message"
FROM (
    SELECT p."Id", p."AgentId", p."Bathrooms", p."Bedrooms", p."CreatedAt", p."Description", p."IsDeleted", p."Location", p."Price", p."SquareFeet", p."Title", a."Id" AS "Id0", a."AgencyName", a."LicenseNumber", a."Phone"
    FROM "PropertyListings" AS p
    INNER JOIN "Agents" AS a ON p."AgentId" = a."Id"
    WHERE NOT (p."IsDeleted") AND p."Id" = @__id_0
    LIMIT 1
) AS s
LEFT JOIN (
    SELECT p0."Id", p0."DeletedAt", p0."FileName", p0."FileUrl", p0."IsDeleted", p0."PropertyListingId"
    FROM "PropertyImages" AS p0
    WHERE NOT (p0."IsDeleted")
) AS p1 ON s."Id" = p1."PropertyListingId"
LEFT JOIN "Inquiries" AS i ON s."Id" = i."ListingId"
ORDER BY s."Id", s."Id0", p1."Id"
2025-06-13 15:04:04.933 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."AgentId", s."Bathrooms", s."Bedrooms", s."CreatedAt", s."Description", s."IsDeleted", s."Location", s."Price", s."SquareFeet", s."Title", s."Id0", s."AgencyName", s."LicenseNumber", s."Phone", p1."Id", p1."DeletedAt", p1."FileName", p1."FileUrl", p1."IsDeleted", p1."PropertyListingId", i."Id", i."BuyerId", i."CreatedAt", i."ListingId", i."Message"
FROM (
    SELECT p."Id", p."AgentId", p."Bathrooms", p."Bedrooms", p."CreatedAt", p."Description", p."IsDeleted", p."Location", p."Price", p."SquareFeet", p."Title", a."Id" AS "Id0", a."AgencyName", a."LicenseNumber", a."Phone"
    FROM "PropertyListings" AS p
    INNER JOIN "Agents" AS a ON p."AgentId" = a."Id"
    WHERE NOT (p."IsDeleted") AND p."Id" = @__id_0
    LIMIT 1
) AS s
LEFT JOIN (
    SELECT p0."Id", p0."DeletedAt", p0."FileName", p0."FileUrl", p0."IsDeleted", p0."PropertyListingId"
    FROM "PropertyImages" AS p0
    WHERE NOT (p0."IsDeleted")
) AS p1 ON s."Id" = p1."PropertyListingId"
LEFT JOIN "Inquiries" AS i ON s."Id" = i."ListingId"
ORDER BY s."Id", s."Id0", p1."Id"
2025-06-13 15:04:04.935 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."AgentId", s."Bathrooms", s."Bedrooms", s."CreatedAt", s."Description", s."IsDeleted", s."Location", s."Price", s."SquareFeet", s."Title", s."Id0", s."AgencyName", s."LicenseNumber", s."Phone", p1."Id", p1."DeletedAt", p1."FileName", p1."FileUrl", p1."IsDeleted", p1."PropertyListingId", i."Id", i."BuyerId", i."CreatedAt", i."ListingId", i."Message"
FROM (
    SELECT p."Id", p."AgentId", p."Bathrooms", p."Bedrooms", p."CreatedAt", p."Description", p."IsDeleted", p."Location", p."Price", p."SquareFeet", p."Title", a."Id" AS "Id0", a."AgencyName", a."LicenseNumber", a."Phone"
    FROM "PropertyListings" AS p
    INNER JOIN "Agents" AS a ON p."AgentId" = a."Id"
    WHERE NOT (p."IsDeleted") AND p."Id" = @__id_0
    LIMIT 1
) AS s
LEFT JOIN (
    SELECT p0."Id", p0."DeletedAt", p0."FileName", p0."FileUrl", p0."IsDeleted", p0."PropertyListingId"
    FROM "PropertyImages" AS p0
    WHERE NOT (p0."IsDeleted")
) AS p1 ON s."Id" = p1."PropertyListingId"
LEFT JOIN "Inquiries" AS i ON s."Id" = i."ListingId"
ORDER BY s."Id", s."Id0", p1."Id"
2025-06-13 15:04:04.938 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@p1='?' (DbType = Guid), @p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
UPDATE "PropertyListings" SET "SquareFeet" = @p0
WHERE "Id" = @p1;
2025-06-13 15:04:04.941 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?', @p3='?', @p4='?', @p5='?', @p6='?' (DbType = DateTime), @p7='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AuditLogs" ("Id", "ActionType", "NewValues", "OldValues", "PrimaryKey", "TableName", "Timestamp", "UserId")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
2025-06-13 15:04:04.941 +05:30 [INF] Executing OkObjectResult, writing value of type 'RealEstateApi.Models.PropertyListing'.
2025-06-13 15:04:04.941 +05:30 [INF] Executed action RealEstateApi.Controllers.PropertyListingsController.UpdateListing (RealEstateApi) in 37.5489ms
2025-06-13 15:04:04.942 +05:30 [INF] Executed endpoint 'RealEstateApi.Controllers.PropertyListingsController.UpdateListing (RealEstateApi)'
2025-06-13 15:04:04.942 +05:30 [INF] Request finished HTTP/1.1 PUT http://localhost:5009/api/v1/PropertyListings/0197689e-6b4c-715f-9d8a-7bc7a443dc77 - 200 null application/json; charset=utf-8 46.0797ms
2025-06-13 15:05:19.078 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5009/api/v1/PropertyListings - null null
2025-06-13 15:05:19.079 +05:30 [INF] Executing endpoint 'RealEstateApi.Controllers.PropertyListingsController.SearchListings (RealEstateApi)'
2025-06-13 15:05:19.079 +05:30 [INF] Route matched with {action = "SearchListings", controller = "PropertyListings"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SearchListings(RealEstateApi.Models.DTOs.PropertyListingQueryParametersDto) on controller RealEstateApi.Controllers.PropertyListingsController (RealEstateApi).
2025-06-13 15:05:19.083 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."AgentId", p."Bathrooms", p."Bedrooms", p."CreatedAt", p."Description", p."IsDeleted", p."Location", p."Price", p."SquareFeet", p."Title", a."Id", a."AgencyName", a."LicenseNumber", a."Phone", p1."Id", p1."DeletedAt", p1."FileName", p1."FileUrl", p1."IsDeleted", p1."PropertyListingId", i."Id", i."BuyerId", i."CreatedAt", i."ListingId", i."Message"
FROM "PropertyListings" AS p
INNER JOIN "Agents" AS a ON p."AgentId" = a."Id"
LEFT JOIN (
    SELECT p0."Id", p0."DeletedAt", p0."FileName", p0."FileUrl", p0."IsDeleted", p0."PropertyListingId"
    FROM "PropertyImages" AS p0
    WHERE NOT (p0."IsDeleted")
) AS p1 ON p."Id" = p1."PropertyListingId"
LEFT JOIN "Inquiries" AS i ON p."Id" = i."ListingId"
WHERE NOT (p."IsDeleted")
ORDER BY p."Id", a."Id", p1."Id"
2025-06-13 15:05:19.084 +05:30 [INF] Executing OkObjectResult, writing value of type 'RealEstateApi.Models.DTOs.PagedResult`1[[RealEstateApi.Models.PropertyListing, RealEstateApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-13 15:05:19.085 +05:30 [INF] Executed action RealEstateApi.Controllers.PropertyListingsController.SearchListings (RealEstateApi) in 5.8425ms
2025-06-13 15:05:19.085 +05:30 [INF] Executed endpoint 'RealEstateApi.Controllers.PropertyListingsController.SearchListings (RealEstateApi)'
2025-06-13 15:05:19.085 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5009/api/v1/PropertyListings - 200 null application/json; charset=utf-8 7.4102ms
2025-06-13 15:07:14.574 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5009/api/v1/PropertyListings - application/json 143
2025-06-13 15:07:14.576 +05:30 [INF] Executing endpoint 'RealEstateApi.Controllers.PropertyListingsController.CreateListing (RealEstateApi)'
2025-06-13 15:07:14.576 +05:30 [INF] Route matched with {action = "CreateListing", controller = "PropertyListings"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateListing(RealEstateApi.Models.DTOs.CreatePropertyListingDto) on controller RealEstateApi.Controllers.PropertyListingsController (RealEstateApi).
2025-06-13 15:07:14.588 +05:30 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2025-06-13 15:07:14.603 +05:30 [INF] Executed action RealEstateApi.Controllers.PropertyListingsController.CreateListing (RealEstateApi) in 26.4772ms
2025-06-13 15:07:14.603 +05:30 [INF] Executed endpoint 'RealEstateApi.Controllers.PropertyListingsController.CreateListing (RealEstateApi)'
2025-06-13 15:07:14.603 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5009/api/v1/PropertyListings - 400 null application/problem+json; charset=utf-8 28.588ms
2025-06-13 15:07:24.842 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5009/api/v1/PropertyListings - application/json 142
2025-06-13 15:07:24.843 +05:30 [INF] Executing endpoint 'RealEstateApi.Controllers.PropertyListingsController.CreateListing (RealEstateApi)'
2025-06-13 15:07:24.843 +05:30 [INF] Route matched with {action = "CreateListing", controller = "PropertyListings"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateListing(RealEstateApi.Models.DTOs.CreatePropertyListingDto) on controller RealEstateApi.Controllers.PropertyListingsController (RealEstateApi).
2025-06-13 15:07:24.863 +05:30 [INF] Executed DbCommand (17ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."AgentId", p."Bathrooms", p."Bedrooms", p."CreatedAt", p."Description", p."IsDeleted", p."Location", p."Price", p."SquareFeet", p."Title", a."Id", a."AgencyName", a."LicenseNumber", a."Phone", p1."Id", p1."DeletedAt", p1."FileName", p1."FileUrl", p1."IsDeleted", p1."PropertyListingId", i."Id", i."BuyerId", i."CreatedAt", i."ListingId", i."Message"
FROM "PropertyListings" AS p
INNER JOIN "Agents" AS a ON p."AgentId" = a."Id"
LEFT JOIN (
    SELECT p0."Id", p0."DeletedAt", p0."FileName", p0."FileUrl", p0."IsDeleted", p0."PropertyListingId"
    FROM "PropertyImages" AS p0
    WHERE NOT (p0."IsDeleted")
) AS p1 ON p."Id" = p1."PropertyListingId"
LEFT JOIN "Inquiries" AS i ON p."Id" = i."ListingId"
WHERE NOT (p."IsDeleted")
ORDER BY p."Id", a."Id", p1."Id"
2025-06-13 15:07:24.867 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (DbType = DateTime), @p5='?', @p6='?' (DbType = Boolean), @p7='?', @p8='?' (DbType = Double), @p9='?' (DbType = Int32), @p10='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "PropertyListings" ("Id", "AgentId", "Bathrooms", "Bedrooms", "CreatedAt", "Description", "IsDeleted", "Location", "Price", "SquareFeet", "Title")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10);
2025-06-13 15:07:24.868 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?', @p3='?', @p4='?', @p5='?', @p6='?' (DbType = DateTime), @p7='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AuditLogs" ("Id", "ActionType", "NewValues", "OldValues", "PrimaryKey", "TableName", "Timestamp", "UserId")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
2025-06-13 15:07:24.869 +05:30 [INF] Executing CreatedResult, writing value of type 'RealEstateApi.Models.PropertyListing'.
2025-06-13 15:07:24.869 +05:30 [INF] Executed action RealEstateApi.Controllers.PropertyListingsController.CreateListing (RealEstateApi) in 25.7546ms
2025-06-13 15:07:24.869 +05:30 [INF] Executed endpoint 'RealEstateApi.Controllers.PropertyListingsController.CreateListing (RealEstateApi)'
2025-06-13 15:07:24.869 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5009/api/v1/PropertyListings - 201 null application/json; charset=utf-8 26.9023ms
2025-06-13 15:07:39.587 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5009/api/v1/PropertyListings - null null
2025-06-13 15:07:39.587 +05:30 [INF] Executing endpoint 'RealEstateApi.Controllers.PropertyListingsController.SearchListings (RealEstateApi)'
2025-06-13 15:07:39.587 +05:30 [INF] Route matched with {action = "SearchListings", controller = "PropertyListings"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SearchListings(RealEstateApi.Models.DTOs.PropertyListingQueryParametersDto) on controller RealEstateApi.Controllers.PropertyListingsController (RealEstateApi).
2025-06-13 15:07:39.590 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."AgentId", p."Bathrooms", p."Bedrooms", p."CreatedAt", p."Description", p."IsDeleted", p."Location", p."Price", p."SquareFeet", p."Title", a."Id", a."AgencyName", a."LicenseNumber", a."Phone", p1."Id", p1."DeletedAt", p1."FileName", p1."FileUrl", p1."IsDeleted", p1."PropertyListingId", i."Id", i."BuyerId", i."CreatedAt", i."ListingId", i."Message"
FROM "PropertyListings" AS p
INNER JOIN "Agents" AS a ON p."AgentId" = a."Id"
LEFT JOIN (
    SELECT p0."Id", p0."DeletedAt", p0."FileName", p0."FileUrl", p0."IsDeleted", p0."PropertyListingId"
    FROM "PropertyImages" AS p0
    WHERE NOT (p0."IsDeleted")
) AS p1 ON p."Id" = p1."PropertyListingId"
LEFT JOIN "Inquiries" AS i ON p."Id" = i."ListingId"
WHERE NOT (p."IsDeleted")
ORDER BY p."Id", a."Id", p1."Id"
2025-06-13 15:07:39.591 +05:30 [INF] Executing OkObjectResult, writing value of type 'RealEstateApi.Models.DTOs.PagedResult`1[[RealEstateApi.Models.PropertyListing, RealEstateApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-13 15:07:39.591 +05:30 [INF] Executed action RealEstateApi.Controllers.PropertyListingsController.SearchListings (RealEstateApi) in 4.2412ms
2025-06-13 15:07:39.592 +05:30 [INF] Executed endpoint 'RealEstateApi.Controllers.PropertyListingsController.SearchListings (RealEstateApi)'
2025-06-13 15:07:39.592 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5009/api/v1/PropertyListings - 200 null application/json; charset=utf-8 4.9449ms
2025-06-13 15:08:13.916 +05:30 [INF] Request starting HTTP/1.1 DELETE http://localhost:5009/api/v1/PropertyListings/019768a6-b380-74c3-839c-3f495e956100 - null null
2025-06-13 15:08:13.916 +05:30 [INF] Executing endpoint 'RealEstateApi.Controllers.PropertyListingsController.DeleteListing (RealEstateApi)'
2025-06-13 15:08:13.920 +05:30 [INF] Route matched with {action = "DeleteListing", controller = "PropertyListings"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[RealEstateApi.Models.PropertyListing]] DeleteListing(System.Guid) on controller RealEstateApi.Controllers.PropertyListingsController (RealEstateApi).
2025-06-13 15:08:13.923 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."AgentId", s."Bathrooms", s."Bedrooms", s."CreatedAt", s."Description", s."IsDeleted", s."Location", s."Price", s."SquareFeet", s."Title", s."Id0", s."AgencyName", s."LicenseNumber", s."Phone", p1."Id", p1."DeletedAt", p1."FileName", p1."FileUrl", p1."IsDeleted", p1."PropertyListingId", i."Id", i."BuyerId", i."CreatedAt", i."ListingId", i."Message"
FROM (
    SELECT p."Id", p."AgentId", p."Bathrooms", p."Bedrooms", p."CreatedAt", p."Description", p."IsDeleted", p."Location", p."Price", p."SquareFeet", p."Title", a."Id" AS "Id0", a."AgencyName", a."LicenseNumber", a."Phone"
    FROM "PropertyListings" AS p
    INNER JOIN "Agents" AS a ON p."AgentId" = a."Id"
    WHERE NOT (p."IsDeleted") AND p."Id" = @__id_0
    LIMIT 1
) AS s
LEFT JOIN (
    SELECT p0."Id", p0."DeletedAt", p0."FileName", p0."FileUrl", p0."IsDeleted", p0."PropertyListingId"
    FROM "PropertyImages" AS p0
    WHERE NOT (p0."IsDeleted")
) AS p1 ON s."Id" = p1."PropertyListingId"
LEFT JOIN "Inquiries" AS i ON s."Id" = i."ListingId"
ORDER BY s."Id", s."Id0", p1."Id"
2025-06-13 15:08:13.927 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."AgentId", s."Bathrooms", s."Bedrooms", s."CreatedAt", s."Description", s."IsDeleted", s."Location", s."Price", s."SquareFeet", s."Title", s."Id0", s."AgencyName", s."LicenseNumber", s."Phone", p1."Id", p1."DeletedAt", p1."FileName", p1."FileUrl", p1."IsDeleted", p1."PropertyListingId", i."Id", i."BuyerId", i."CreatedAt", i."ListingId", i."Message"
FROM (
    SELECT p."Id", p."AgentId", p."Bathrooms", p."Bedrooms", p."CreatedAt", p."Description", p."IsDeleted", p."Location", p."Price", p."SquareFeet", p."Title", a."Id" AS "Id0", a."AgencyName", a."LicenseNumber", a."Phone"
    FROM "PropertyListings" AS p
    INNER JOIN "Agents" AS a ON p."AgentId" = a."Id"
    WHERE NOT (p."IsDeleted") AND p."Id" = @__id_0
    LIMIT 1
) AS s
LEFT JOIN (
    SELECT p0."Id", p0."DeletedAt", p0."FileName", p0."FileUrl", p0."IsDeleted", p0."PropertyListingId"
    FROM "PropertyImages" AS p0
    WHERE NOT (p0."IsDeleted")
) AS p1 ON s."Id" = p1."PropertyListingId"
LEFT JOIN "Inquiries" AS i ON s."Id" = i."ListingId"
ORDER BY s."Id", s."Id0", p1."Id"
2025-06-13 15:08:13.929 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."AgentId", s."Bathrooms", s."Bedrooms", s."CreatedAt", s."Description", s."IsDeleted", s."Location", s."Price", s."SquareFeet", s."Title", s."Id0", s."AgencyName", s."LicenseNumber", s."Phone", p1."Id", p1."DeletedAt", p1."FileName", p1."FileUrl", p1."IsDeleted", p1."PropertyListingId", i."Id", i."BuyerId", i."CreatedAt", i."ListingId", i."Message"
FROM (
    SELECT p."Id", p."AgentId", p."Bathrooms", p."Bedrooms", p."CreatedAt", p."Description", p."IsDeleted", p."Location", p."Price", p."SquareFeet", p."Title", a."Id" AS "Id0", a."AgencyName", a."LicenseNumber", a."Phone"
    FROM "PropertyListings" AS p
    INNER JOIN "Agents" AS a ON p."AgentId" = a."Id"
    WHERE NOT (p."IsDeleted") AND p."Id" = @__id_0
    LIMIT 1
) AS s
LEFT JOIN (
    SELECT p0."Id", p0."DeletedAt", p0."FileName", p0."FileUrl", p0."IsDeleted", p0."PropertyListingId"
    FROM "PropertyImages" AS p0
    WHERE NOT (p0."IsDeleted")
) AS p1 ON s."Id" = p1."PropertyListingId"
LEFT JOIN "Inquiries" AS i ON s."Id" = i."ListingId"
ORDER BY s."Id", s."Id0", p1."Id"
2025-06-13 15:08:13.931 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@p1='?' (DbType = Guid), @p0='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
UPDATE "PropertyListings" SET "IsDeleted" = @p0
WHERE "Id" = @p1;
2025-06-13 15:08:13.932 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?', @p3='?', @p4='?', @p5='?', @p6='?' (DbType = DateTime), @p7='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AuditLogs" ("Id", "ActionType", "NewValues", "OldValues", "PrimaryKey", "TableName", "Timestamp", "UserId")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
2025-06-13 15:08:13.946 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."DeletedAt", p."FileName", p."FileUrl", p."IsDeleted", p."PropertyListingId", p0."Id", p0."AgentId", p0."Bathrooms", p0."Bedrooms", p0."CreatedAt", p0."Description", p0."IsDeleted", p0."Location", p0."Price", p0."SquareFeet", p0."Title"
FROM "PropertyImages" AS p
INNER JOIN "PropertyListings" AS p0 ON p."PropertyListingId" = p0."Id"
WHERE NOT (p."IsDeleted")
2025-06-13 15:08:13.947 +05:30 [INF] Executing OkObjectResult, writing value of type 'RealEstateApi.Models.PropertyListing'.
2025-06-13 15:08:13.948 +05:30 [INF] Executed action RealEstateApi.Controllers.PropertyListingsController.DeleteListing (RealEstateApi) in 27.9796ms
2025-06-13 15:08:13.948 +05:30 [INF] Executed endpoint 'RealEstateApi.Controllers.PropertyListingsController.DeleteListing (RealEstateApi)'
2025-06-13 15:08:13.948 +05:30 [INF] Request finished HTTP/1.1 DELETE http://localhost:5009/api/v1/PropertyListings/019768a6-b380-74c3-839c-3f495e956100 - 200 null application/json; charset=utf-8 32.4233ms
2025-06-13 15:08:41.194 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5009/api/v1/PropertyListings - null null
2025-06-13 15:08:41.195 +05:30 [INF] Executing endpoint 'RealEstateApi.Controllers.PropertyListingsController.SearchListings (RealEstateApi)'
2025-06-13 15:08:41.195 +05:30 [INF] Route matched with {action = "SearchListings", controller = "PropertyListings"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SearchListings(RealEstateApi.Models.DTOs.PropertyListingQueryParametersDto) on controller RealEstateApi.Controllers.PropertyListingsController (RealEstateApi).
2025-06-13 15:08:41.197 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."AgentId", p."Bathrooms", p."Bedrooms", p."CreatedAt", p."Description", p."IsDeleted", p."Location", p."Price", p."SquareFeet", p."Title", a."Id", a."AgencyName", a."LicenseNumber", a."Phone", p1."Id", p1."DeletedAt", p1."FileName", p1."FileUrl", p1."IsDeleted", p1."PropertyListingId", i."Id", i."BuyerId", i."CreatedAt", i."ListingId", i."Message"
FROM "PropertyListings" AS p
INNER JOIN "Agents" AS a ON p."AgentId" = a."Id"
LEFT JOIN (
    SELECT p0."Id", p0."DeletedAt", p0."FileName", p0."FileUrl", p0."IsDeleted", p0."PropertyListingId"
    FROM "PropertyImages" AS p0
    WHERE NOT (p0."IsDeleted")
) AS p1 ON p."Id" = p1."PropertyListingId"
LEFT JOIN "Inquiries" AS i ON p."Id" = i."ListingId"
WHERE NOT (p."IsDeleted")
ORDER BY p."Id", a."Id", p1."Id"
2025-06-13 15:08:41.198 +05:30 [INF] Executing OkObjectResult, writing value of type 'RealEstateApi.Models.DTOs.PagedResult`1[[RealEstateApi.Models.PropertyListing, RealEstateApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-13 15:08:41.198 +05:30 [INF] Executed action RealEstateApi.Controllers.PropertyListingsController.SearchListings (RealEstateApi) in 2.9938ms
2025-06-13 15:08:41.198 +05:30 [INF] Executed endpoint 'RealEstateApi.Controllers.PropertyListingsController.SearchListings (RealEstateApi)'
2025-06-13 15:08:41.198 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5009/api/v1/PropertyListings - 200 null application/json; charset=utf-8 4.116ms
2025-06-13 15:10:00.154 +05:30 [INF] Application is shutting down...
2025-06-13 15:10:09.994 +05:30 [INF] User profile is available. Using '/Users/muckesh/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2025-06-13 15:10:10.129 +05:30 [INF] Now listening on: http://localhost:5009
2025-06-13 15:10:10.132 +05:30 [INF] Application started. Press Ctrl+C to shut down.
2025-06-13 15:10:10.133 +05:30 [INF] Hosting environment: Development
2025-06-13 15:10:10.133 +05:30 [INF] Content root path: /Users/muckesh/Muckesh/Presidio/Genspark-Training/Capstone-1/RealEstateApi
2025-06-13 15:10:12.157 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5009/api/v1/PropertyListings - null null
2025-06-13 15:10:12.200 +05:30 [WRN] Failed to determine the https port for redirect.
2025-06-13 15:10:12.250 +05:30 [INF] Executing endpoint 'RealEstateApi.Controllers.PropertyListingsController.SearchListings (RealEstateApi)'
2025-06-13 15:10:12.280 +05:30 [INF] Route matched with {action = "SearchListings", controller = "PropertyListings"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SearchListings(RealEstateApi.Models.DTOs.PropertyListingQueryParametersDto) on controller RealEstateApi.Controllers.PropertyListingsController (RealEstateApi).
2025-06-13 15:10:13.529 +05:30 [WRN] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2025-06-13 15:10:13.800 +05:30 [INF] Executed DbCommand (23ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."AgentId", p."Bathrooms", p."Bedrooms", p."CreatedAt", p."Description", p."IsDeleted", p."Location", p."Price", p."SquareFeet", p."Title", a."Id", a."AgencyName", a."LicenseNumber", a."Phone", p1."Id", p1."DeletedAt", p1."FileName", p1."FileUrl", p1."IsDeleted", p1."PropertyListingId", i."Id", i."BuyerId", i."CreatedAt", i."ListingId", i."Message"
FROM "PropertyListings" AS p
INNER JOIN "Agents" AS a ON p."AgentId" = a."Id"
LEFT JOIN (
    SELECT p0."Id", p0."DeletedAt", p0."FileName", p0."FileUrl", p0."IsDeleted", p0."PropertyListingId"
    FROM "PropertyImages" AS p0
    WHERE NOT (p0."IsDeleted")
) AS p1 ON p."Id" = p1."PropertyListingId"
LEFT JOIN "Inquiries" AS i ON p."Id" = i."ListingId"
WHERE NOT (p."IsDeleted")
ORDER BY p."Id", a."Id", p1."Id"
2025-06-13 15:10:14.015 +05:30 [INF] Executing OkObjectResult, writing value of type 'RealEstateApi.Models.DTOs.PagedResult`1[[RealEstateApi.Models.PropertyListing, RealEstateApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-13 15:10:14.121 +05:30 [INF] Executed action RealEstateApi.Controllers.PropertyListingsController.SearchListings (RealEstateApi) in 1837.3425ms
2025-06-13 15:10:14.137 +05:30 [INF] Executed endpoint 'RealEstateApi.Controllers.PropertyListingsController.SearchListings (RealEstateApi)'
2025-06-13 15:10:14.150 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5009/api/v1/PropertyListings - 200 null application/json; charset=utf-8 1994.8758ms
2025-06-13 15:10:48.218 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5009/api/v1/PropertyListings - null null
2025-06-13 15:10:48.222 +05:30 [INF] Executing endpoint 'RealEstateApi.Controllers.PropertyListingsController.SearchListings (RealEstateApi)'
2025-06-13 15:10:48.223 +05:30 [INF] Route matched with {action = "SearchListings", controller = "PropertyListings"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SearchListings(RealEstateApi.Models.DTOs.PropertyListingQueryParametersDto) on controller RealEstateApi.Controllers.PropertyListingsController (RealEstateApi).
2025-06-13 15:10:48.247 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."AgentId", p."Bathrooms", p."Bedrooms", p."CreatedAt", p."Description", p."IsDeleted", p."Location", p."Price", p."SquareFeet", p."Title", a."Id", a."AgencyName", a."LicenseNumber", a."Phone", p1."Id", p1."DeletedAt", p1."FileName", p1."FileUrl", p1."IsDeleted", p1."PropertyListingId", i."Id", i."BuyerId", i."CreatedAt", i."ListingId", i."Message"
FROM "PropertyListings" AS p
INNER JOIN "Agents" AS a ON p."AgentId" = a."Id"
LEFT JOIN (
    SELECT p0."Id", p0."DeletedAt", p0."FileName", p0."FileUrl", p0."IsDeleted", p0."PropertyListingId"
    FROM "PropertyImages" AS p0
    WHERE NOT (p0."IsDeleted")
) AS p1 ON p."Id" = p1."PropertyListingId"
LEFT JOIN "Inquiries" AS i ON p."Id" = i."ListingId"
WHERE NOT (p."IsDeleted")
ORDER BY p."Id", a."Id", p1."Id"
2025-06-13 15:10:48.251 +05:30 [INF] Executing OkObjectResult, writing value of type 'RealEstateApi.Models.DTOs.PagedResult`1[[RealEstateApi.Models.PropertyListing, RealEstateApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-13 15:10:48.252 +05:30 [INF] Executed action RealEstateApi.Controllers.PropertyListingsController.SearchListings (RealEstateApi) in 28.7096ms
2025-06-13 15:10:48.252 +05:30 [INF] Executed endpoint 'RealEstateApi.Controllers.PropertyListingsController.SearchListings (RealEstateApi)'
2025-06-13 15:10:48.252 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5009/api/v1/PropertyListings - 200 null application/json; charset=utf-8 35.1388ms
2025-06-13 15:10:52.838 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5009/swagger/index.html - null null
2025-06-13 15:10:52.894 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5009/swagger/index.html - 200 null text/html;charset=utf-8 56.2018ms
2025-06-13 15:10:53.075 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5009/swagger/v1/swagger.json - null null
2025-06-13 15:10:53.205 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5009/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 130.0209ms
2025-06-13 15:11:01.048 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5009/api/v1/PropertyListings - null null
2025-06-13 15:11:01.051 +05:30 [INF] Executing endpoint 'RealEstateApi.Controllers.PropertyListingsController.SearchListings (RealEstateApi)'
2025-06-13 15:11:01.051 +05:30 [INF] Route matched with {action = "SearchListings", controller = "PropertyListings"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SearchListings(RealEstateApi.Models.DTOs.PropertyListingQueryParametersDto) on controller RealEstateApi.Controllers.PropertyListingsController (RealEstateApi).
2025-06-13 15:11:01.119 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."AgentId", p."Bathrooms", p."Bedrooms", p."CreatedAt", p."Description", p."IsDeleted", p."Location", p."Price", p."SquareFeet", p."Title", a."Id", a."AgencyName", a."LicenseNumber", a."Phone", p1."Id", p1."DeletedAt", p1."FileName", p1."FileUrl", p1."IsDeleted", p1."PropertyListingId", i."Id", i."BuyerId", i."CreatedAt", i."ListingId", i."Message"
FROM "PropertyListings" AS p
INNER JOIN "Agents" AS a ON p."AgentId" = a."Id"
LEFT JOIN (
    SELECT p0."Id", p0."DeletedAt", p0."FileName", p0."FileUrl", p0."IsDeleted", p0."PropertyListingId"
    FROM "PropertyImages" AS p0
    WHERE NOT (p0."IsDeleted")
) AS p1 ON p."Id" = p1."PropertyListingId"
LEFT JOIN "Inquiries" AS i ON p."Id" = i."ListingId"
WHERE NOT (p."IsDeleted")
ORDER BY p."Id", a."Id", p1."Id"
2025-06-13 15:11:01.121 +05:30 [INF] Executing OkObjectResult, writing value of type 'RealEstateApi.Models.DTOs.PagedResult`1[[RealEstateApi.Models.PropertyListing, RealEstateApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-13 15:11:01.121 +05:30 [INF] Executed action RealEstateApi.Controllers.PropertyListingsController.SearchListings (RealEstateApi) in 69.7473ms
2025-06-13 15:11:01.121 +05:30 [INF] Executed endpoint 'RealEstateApi.Controllers.PropertyListingsController.SearchListings (RealEstateApi)'
2025-06-13 15:11:01.121 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5009/api/v1/PropertyListings - 200 null application/json; charset=utf-8 73.5036ms
2025-06-13 15:12:20.599 +05:30 [INF] Application is shutting down...
2025-06-13 15:12:30.534 +05:30 [INF] User profile is available. Using '/Users/muckesh/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2025-06-13 15:12:30.695 +05:30 [INF] Now listening on: http://localhost:5009
2025-06-13 15:12:30.699 +05:30 [INF] Application started. Press Ctrl+C to shut down.
2025-06-13 15:12:30.699 +05:30 [INF] Hosting environment: Development
2025-06-13 15:12:30.700 +05:30 [INF] Content root path: /Users/muckesh/Muckesh/Presidio/Genspark-Training/Capstone-1/RealEstateApi
2025-06-13 15:12:54.040 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5009/api/v1/PropertyListings - application/json 142
2025-06-13 15:12:54.083 +05:30 [WRN] Failed to determine the https port for redirect.
2025-06-13 15:12:54.184 +05:30 [INF] Executing endpoint 'RealEstateApi.Controllers.PropertyListingsController.CreateListing (RealEstateApi)'
2025-06-13 15:12:54.211 +05:30 [INF] Route matched with {action = "CreateListing", controller = "PropertyListings"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateListing(RealEstateApi.Models.DTOs.CreatePropertyListingDto) on controller RealEstateApi.Controllers.PropertyListingsController (RealEstateApi).
2025-06-13 15:12:55.457 +05:30 [WRN] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2025-06-13 15:12:55.734 +05:30 [INF] Executed DbCommand (25ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."AgentId", p."Bathrooms", p."Bedrooms", p."CreatedAt", p."Description", p."IsDeleted", p."Location", p."Price", p."SquareFeet", p."Title", a."Id", a."AgencyName", a."LicenseNumber", a."Phone", p1."Id", p1."DeletedAt", p1."FileName", p1."FileUrl", p1."IsDeleted", p1."PropertyListingId", i."Id", i."BuyerId", i."CreatedAt", i."ListingId", i."Message"
FROM "PropertyListings" AS p
INNER JOIN "Agents" AS a ON p."AgentId" = a."Id"
LEFT JOIN (
    SELECT p0."Id", p0."DeletedAt", p0."FileName", p0."FileUrl", p0."IsDeleted", p0."PropertyListingId"
    FROM "PropertyImages" AS p0
    WHERE NOT (p0."IsDeleted")
) AS p1 ON p."Id" = p1."PropertyListingId"
LEFT JOIN "Inquiries" AS i ON p."Id" = i."ListingId"
WHERE NOT (p."IsDeleted")
ORDER BY p."Id", a."Id", p1."Id"
2025-06-13 15:12:56.110 +05:30 [INF] Executed DbCommand (16ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (DbType = DateTime), @p5='?', @p6='?' (DbType = Boolean), @p7='?', @p8='?' (DbType = Double), @p9='?' (DbType = Int32), @p10='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "PropertyListings" ("Id", "AgentId", "Bathrooms", "Bedrooms", "CreatedAt", "Description", "IsDeleted", "Location", "Price", "SquareFeet", "Title")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10);
2025-06-13 15:12:56.195 +05:30 [INF] Executed DbCommand (6ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?', @p3='?', @p4='?', @p5='?', @p6='?' (DbType = DateTime), @p7='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AuditLogs" ("Id", "ActionType", "NewValues", "OldValues", "PrimaryKey", "TableName", "Timestamp", "UserId")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
2025-06-13 15:12:56.205 +05:30 [INF] Executing CreatedResult, writing value of type 'RealEstateApi.Models.PropertyListing'.
2025-06-13 15:12:56.259 +05:30 [INF] Executed action RealEstateApi.Controllers.PropertyListingsController.CreateListing (RealEstateApi) in 2043.2764ms
2025-06-13 15:12:56.260 +05:30 [INF] Executed endpoint 'RealEstateApi.Controllers.PropertyListingsController.CreateListing (RealEstateApi)'
2025-06-13 15:12:56.272 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5009/api/v1/PropertyListings - 201 null application/json; charset=utf-8 2233.5655ms
2025-06-13 15:13:05.342 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5009/api/v1/PropertyListings - null null
2025-06-13 15:13:05.350 +05:30 [INF] Executing endpoint 'RealEstateApi.Controllers.PropertyListingsController.SearchListings (RealEstateApi)'
2025-06-13 15:13:05.360 +05:30 [INF] Route matched with {action = "SearchListings", controller = "PropertyListings"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SearchListings(RealEstateApi.Models.DTOs.PropertyListingQueryParametersDto) on controller RealEstateApi.Controllers.PropertyListingsController (RealEstateApi).
2025-06-13 15:13:05.389 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."AgentId", p."Bathrooms", p."Bedrooms", p."CreatedAt", p."Description", p."IsDeleted", p."Location", p."Price", p."SquareFeet", p."Title", a."Id", a."AgencyName", a."LicenseNumber", a."Phone", p1."Id", p1."DeletedAt", p1."FileName", p1."FileUrl", p1."IsDeleted", p1."PropertyListingId", i."Id", i."BuyerId", i."CreatedAt", i."ListingId", i."Message"
FROM "PropertyListings" AS p
INNER JOIN "Agents" AS a ON p."AgentId" = a."Id"
LEFT JOIN (
    SELECT p0."Id", p0."DeletedAt", p0."FileName", p0."FileUrl", p0."IsDeleted", p0."PropertyListingId"
    FROM "PropertyImages" AS p0
    WHERE NOT (p0."IsDeleted")
) AS p1 ON p."Id" = p1."PropertyListingId"
LEFT JOIN "Inquiries" AS i ON p."Id" = i."ListingId"
WHERE NOT (p."IsDeleted")
ORDER BY p."Id", a."Id", p1."Id"
2025-06-13 15:13:05.393 +05:30 [INF] Executing OkObjectResult, writing value of type 'RealEstateApi.Models.DTOs.PagedResult`1[[RealEstateApi.Models.PropertyListing, RealEstateApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-13 15:13:05.397 +05:30 [INF] Executed action RealEstateApi.Controllers.PropertyListingsController.SearchListings (RealEstateApi) in 36.3973ms
2025-06-13 15:13:05.397 +05:30 [INF] Executed endpoint 'RealEstateApi.Controllers.PropertyListingsController.SearchListings (RealEstateApi)'
2025-06-13 15:13:05.397 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5009/api/v1/PropertyListings - 200 null application/json; charset=utf-8 55.2887ms
2025-06-13 15:17:03.902 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5009/api/v1/PropertyImages/file/01976588-4d69-755b-b446-22f1ff060bc2 - null null
2025-06-13 15:17:03.906 +05:30 [INF] Executing endpoint 'RealEstateApi.Controllers.PropertyImagesController.GetImageFile (RealEstateApi)'
2025-06-13 15:17:03.912 +05:30 [INF] Route matched with {action = "GetImageFile", controller = "PropertyImages"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetImageFile(System.Guid) on controller RealEstateApi.Controllers.PropertyImagesController (RealEstateApi).
2025-06-13 15:17:04.008 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."DeletedAt", p."FileName", p."FileUrl", p."IsDeleted", p."PropertyListingId", p0."Id", p0."AgentId", p0."Bathrooms", p0."Bedrooms", p0."CreatedAt", p0."Description", p0."IsDeleted", p0."Location", p0."Price", p0."SquareFeet", p0."Title"
FROM "PropertyImages" AS p
INNER JOIN "PropertyListings" AS p0 ON p."PropertyListingId" = p0."Id"
WHERE NOT (p."IsDeleted") AND p."Id" = @__id_0
LIMIT 2
2025-06-13 15:17:04.017 +05:30 [INF] Executing FileContentResult, sending file with download name '263d4d36-7912-404e-a7b1-0fbe36310857.jpg' ...
2025-06-13 15:17:04.041 +05:30 [INF] Executed action RealEstateApi.Controllers.PropertyImagesController.GetImageFile (RealEstateApi) in 129.0598ms
2025-06-13 15:17:04.042 +05:30 [INF] Executed endpoint 'RealEstateApi.Controllers.PropertyImagesController.GetImageFile (RealEstateApi)'
2025-06-13 15:17:04.042 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5009/api/v1/PropertyImages/file/01976588-4d69-755b-b446-22f1ff060bc2 - 200 920097 image/jpeg 140.024ms
2025-06-13 15:18:02.804 +05:30 [INF] Request starting HTTP/1.1 DELETE http://localhost:5009/api/v1/PropertyImages/01976588-4d69-755b-b446-22f1ff060bc2 - null null
2025-06-13 15:18:02.810 +05:30 [INF] Executing endpoint 'RealEstateApi.Controllers.PropertyImagesController.SoftDeletePropertyImage (RealEstateApi)'
2025-06-13 15:18:02.814 +05:30 [INF] Route matched with {action = "SoftDeletePropertyImage", controller = "PropertyImages"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SoftDeletePropertyImage(System.Guid) on controller RealEstateApi.Controllers.PropertyImagesController (RealEstateApi).
2025-06-13 15:18:02.850 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."DeletedAt", p."FileName", p."FileUrl", p."IsDeleted", p."PropertyListingId", p0."Id", p0."AgentId", p0."Bathrooms", p0."Bedrooms", p0."CreatedAt", p0."Description", p0."IsDeleted", p0."Location", p0."Price", p0."SquareFeet", p0."Title"
FROM "PropertyImages" AS p
INNER JOIN "PropertyListings" AS p0 ON p."PropertyListingId" = p0."Id"
WHERE NOT (p."IsDeleted") AND p."Id" = @__id_0
LIMIT 2
2025-06-13 15:18:02.867 +05:30 [WRN] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2025-06-13 15:18:02.894 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."AgentId", s."Bathrooms", s."Bedrooms", s."CreatedAt", s."Description", s."IsDeleted", s."Location", s."Price", s."SquareFeet", s."Title", s."Id0", s."AgencyName", s."LicenseNumber", s."Phone", p1."Id", p1."DeletedAt", p1."FileName", p1."FileUrl", p1."IsDeleted", p1."PropertyListingId", i."Id", i."BuyerId", i."CreatedAt", i."ListingId", i."Message"
FROM (
    SELECT p."Id", p."AgentId", p."Bathrooms", p."Bedrooms", p."CreatedAt", p."Description", p."IsDeleted", p."Location", p."Price", p."SquareFeet", p."Title", a."Id" AS "Id0", a."AgencyName", a."LicenseNumber", a."Phone"
    FROM "PropertyListings" AS p
    INNER JOIN "Agents" AS a ON p."AgentId" = a."Id"
    WHERE NOT (p."IsDeleted") AND p."Id" = @__id_0
    LIMIT 1
) AS s
LEFT JOIN (
    SELECT p0."Id", p0."DeletedAt", p0."FileName", p0."FileUrl", p0."IsDeleted", p0."PropertyListingId"
    FROM "PropertyImages" AS p0
    WHERE NOT (p0."IsDeleted")
) AS p1 ON s."Id" = p1."PropertyListingId"
LEFT JOIN "Inquiries" AS i ON s."Id" = i."ListingId"
ORDER BY s."Id", s."Id0", p1."Id"
2025-06-13 15:18:02.900 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."DeletedAt", p."FileName", p."FileUrl", p."IsDeleted", p."PropertyListingId", p0."Id", p0."AgentId", p0."Bathrooms", p0."Bedrooms", p0."CreatedAt", p0."Description", p0."IsDeleted", p0."Location", p0."Price", p0."SquareFeet", p0."Title"
FROM "PropertyImages" AS p
INNER JOIN "PropertyListings" AS p0 ON p."PropertyListingId" = p0."Id"
WHERE NOT (p."IsDeleted") AND p."Id" = @__id_0
LIMIT 2
2025-06-13 15:18:02.904 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."DeletedAt", p."FileName", p."FileUrl", p."IsDeleted", p."PropertyListingId", p0."Id", p0."AgentId", p0."Bathrooms", p0."Bedrooms", p0."CreatedAt", p0."Description", p0."IsDeleted", p0."Location", p0."Price", p0."SquareFeet", p0."Title"
FROM "PropertyImages" AS p
INNER JOIN "PropertyListings" AS p0 ON p."PropertyListingId" = p0."Id"
WHERE NOT (p."IsDeleted") AND p."Id" = @__id_0
LIMIT 2
2025-06-13 15:18:02.916 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@p2='?' (DbType = Guid), @p0='?' (DbType = DateTime), @p1='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
UPDATE "PropertyImages" SET "DeletedAt" = @p0, "IsDeleted" = @p1
WHERE "Id" = @p2;
2025-06-13 15:18:02.920 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?', @p3='?', @p4='?', @p5='?', @p6='?' (DbType = DateTime), @p7='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AuditLogs" ("Id", "ActionType", "NewValues", "OldValues", "PrimaryKey", "TableName", "Timestamp", "UserId")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
2025-06-13 15:18:02.920 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2025-06-13 15:18:02.920 +05:30 [INF] Executed action RealEstateApi.Controllers.PropertyImagesController.SoftDeletePropertyImage (RealEstateApi) in 106.0582ms
2025-06-13 15:18:02.921 +05:30 [INF] Executed endpoint 'RealEstateApi.Controllers.PropertyImagesController.SoftDeletePropertyImage (RealEstateApi)'
2025-06-13 15:18:02.921 +05:30 [INF] Request finished HTTP/1.1 DELETE http://localhost:5009/api/v1/PropertyImages/01976588-4d69-755b-b446-22f1ff060bc2 - 200 null text/plain; charset=utf-8 116.4057ms
2025-06-13 15:18:24.694 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5009/api/v1/PropertyImages/file/01976588-4d69-755b-b446-22f1ff060bc2 - null null
2025-06-13 15:18:24.695 +05:30 [INF] Executing endpoint 'RealEstateApi.Controllers.PropertyImagesController.GetImageFile (RealEstateApi)'
2025-06-13 15:18:24.696 +05:30 [INF] Route matched with {action = "GetImageFile", controller = "PropertyImages"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetImageFile(System.Guid) on controller RealEstateApi.Controllers.PropertyImagesController (RealEstateApi).
2025-06-13 15:18:24.699 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."DeletedAt", p."FileName", p."FileUrl", p."IsDeleted", p."PropertyListingId", p0."Id", p0."AgentId", p0."Bathrooms", p0."Bedrooms", p0."CreatedAt", p0."Description", p0."IsDeleted", p0."Location", p0."Price", p0."SquareFeet", p0."Title"
FROM "PropertyImages" AS p
INNER JOIN "PropertyListings" AS p0 ON p."PropertyListingId" = p0."Id"
WHERE NOT (p."IsDeleted") AND p."Id" = @__id_0
LIMIT 2
2025-06-13 15:18:24.702 +05:30 [INF] Executing NotFoundObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-06-13 15:18:24.713 +05:30 [INF] Executed action RealEstateApi.Controllers.PropertyImagesController.GetImageFile (RealEstateApi) in 17.2047ms
2025-06-13 15:18:24.713 +05:30 [INF] Executed endpoint 'RealEstateApi.Controllers.PropertyImagesController.GetImageFile (RealEstateApi)'
2025-06-13 15:18:24.713 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5009/api/v1/PropertyImages/file/01976588-4d69-755b-b446-22f1ff060bc2 - 404 null application/json; charset=utf-8 18.7626ms
2025-06-13 15:18:41.405 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5009/api/v1/PropertyListings - null null
2025-06-13 15:18:41.406 +05:30 [INF] Executing endpoint 'RealEstateApi.Controllers.PropertyListingsController.SearchListings (RealEstateApi)'
2025-06-13 15:18:41.406 +05:30 [INF] Route matched with {action = "SearchListings", controller = "PropertyListings"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SearchListings(RealEstateApi.Models.DTOs.PropertyListingQueryParametersDto) on controller RealEstateApi.Controllers.PropertyListingsController (RealEstateApi).
2025-06-13 15:18:41.409 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."AgentId", p."Bathrooms", p."Bedrooms", p."CreatedAt", p."Description", p."IsDeleted", p."Location", p."Price", p."SquareFeet", p."Title", a."Id", a."AgencyName", a."LicenseNumber", a."Phone", p1."Id", p1."DeletedAt", p1."FileName", p1."FileUrl", p1."IsDeleted", p1."PropertyListingId", i."Id", i."BuyerId", i."CreatedAt", i."ListingId", i."Message"
FROM "PropertyListings" AS p
INNER JOIN "Agents" AS a ON p."AgentId" = a."Id"
LEFT JOIN (
    SELECT p0."Id", p0."DeletedAt", p0."FileName", p0."FileUrl", p0."IsDeleted", p0."PropertyListingId"
    FROM "PropertyImages" AS p0
    WHERE NOT (p0."IsDeleted")
) AS p1 ON p."Id" = p1."PropertyListingId"
LEFT JOIN "Inquiries" AS i ON p."Id" = i."ListingId"
WHERE NOT (p."IsDeleted")
ORDER BY p."Id", a."Id", p1."Id"
2025-06-13 15:18:41.410 +05:30 [INF] Executing OkObjectResult, writing value of type 'RealEstateApi.Models.DTOs.PagedResult`1[[RealEstateApi.Models.PropertyListing, RealEstateApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-13 15:18:41.411 +05:30 [INF] Executed action RealEstateApi.Controllers.PropertyListingsController.SearchListings (RealEstateApi) in 5.2011ms
2025-06-13 15:18:41.411 +05:30 [INF] Executed endpoint 'RealEstateApi.Controllers.PropertyListingsController.SearchListings (RealEstateApi)'
2025-06-13 15:18:41.411 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5009/api/v1/PropertyListings - 200 null application/json; charset=utf-8 6.0824ms
2025-06-13 15:18:56.081 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5009/api/v1/PropertyListings - null null
2025-06-13 15:18:56.081 +05:30 [INF] Executing endpoint 'RealEstateApi.Controllers.PropertyListingsController.SearchListings (RealEstateApi)'
2025-06-13 15:18:56.081 +05:30 [INF] Route matched with {action = "SearchListings", controller = "PropertyListings"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SearchListings(RealEstateApi.Models.DTOs.PropertyListingQueryParametersDto) on controller RealEstateApi.Controllers.PropertyListingsController (RealEstateApi).
2025-06-13 15:18:56.084 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."AgentId", p."Bathrooms", p."Bedrooms", p."CreatedAt", p."Description", p."IsDeleted", p."Location", p."Price", p."SquareFeet", p."Title", a."Id", a."AgencyName", a."LicenseNumber", a."Phone", p1."Id", p1."DeletedAt", p1."FileName", p1."FileUrl", p1."IsDeleted", p1."PropertyListingId", i."Id", i."BuyerId", i."CreatedAt", i."ListingId", i."Message"
FROM "PropertyListings" AS p
INNER JOIN "Agents" AS a ON p."AgentId" = a."Id"
LEFT JOIN (
    SELECT p0."Id", p0."DeletedAt", p0."FileName", p0."FileUrl", p0."IsDeleted", p0."PropertyListingId"
    FROM "PropertyImages" AS p0
    WHERE NOT (p0."IsDeleted")
) AS p1 ON p."Id" = p1."PropertyListingId"
LEFT JOIN "Inquiries" AS i ON p."Id" = i."ListingId"
WHERE NOT (p."IsDeleted")
ORDER BY p."Id", a."Id", p1."Id"
2025-06-13 15:18:56.085 +05:30 [INF] Executing OkObjectResult, writing value of type 'RealEstateApi.Models.DTOs.PagedResult`1[[RealEstateApi.Models.PropertyListing, RealEstateApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-13 15:18:56.085 +05:30 [INF] Executed action RealEstateApi.Controllers.PropertyListingsController.SearchListings (RealEstateApi) in 4.0769ms
2025-06-13 15:18:56.085 +05:30 [INF] Executed endpoint 'RealEstateApi.Controllers.PropertyListingsController.SearchListings (RealEstateApi)'
2025-06-13 15:18:56.086 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5009/api/v1/PropertyListings - 200 null application/json; charset=utf-8 4.8326ms
2025-06-13 15:19:22.315 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5009/api/v1/PropertyImages/file/01976588-8820-700d-bb51-8a7689c34b5f - null null
2025-06-13 15:19:22.315 +05:30 [INF] Executing endpoint 'RealEstateApi.Controllers.PropertyImagesController.GetImageFile (RealEstateApi)'
2025-06-13 15:19:22.316 +05:30 [INF] Route matched with {action = "GetImageFile", controller = "PropertyImages"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetImageFile(System.Guid) on controller RealEstateApi.Controllers.PropertyImagesController (RealEstateApi).
2025-06-13 15:19:22.319 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."DeletedAt", p."FileName", p."FileUrl", p."IsDeleted", p."PropertyListingId", p0."Id", p0."AgentId", p0."Bathrooms", p0."Bedrooms", p0."CreatedAt", p0."Description", p0."IsDeleted", p0."Location", p0."Price", p0."SquareFeet", p0."Title"
FROM "PropertyImages" AS p
INNER JOIN "PropertyListings" AS p0 ON p."PropertyListingId" = p0."Id"
WHERE NOT (p."IsDeleted") AND p."Id" = @__id_0
LIMIT 2
2025-06-13 15:19:22.322 +05:30 [INF] Executing FileContentResult, sending file with download name '9f9baff5-4f6f-44c4-a1e9-efca740f299f.jpg' ...
2025-06-13 15:19:22.325 +05:30 [INF] Executed action RealEstateApi.Controllers.PropertyImagesController.GetImageFile (RealEstateApi) in 8.5999ms
2025-06-13 15:19:22.325 +05:30 [INF] Executed endpoint 'RealEstateApi.Controllers.PropertyImagesController.GetImageFile (RealEstateApi)'
2025-06-13 15:19:22.325 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5009/api/v1/PropertyImages/file/01976588-8820-700d-bb51-8a7689c34b5f - 200 920097 image/jpeg 10.4319ms
2025-06-13 15:19:37.528 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5009/api/v1/PropertyImages/urls/0197689e-6b4c-715f-9d8a-7bc7a443dc77 - null null
2025-06-13 15:19:37.529 +05:30 [INF] Executing endpoint 'RealEstateApi.Controllers.PropertyImagesController.GetListingImageUrls (RealEstateApi)'
2025-06-13 15:19:37.533 +05:30 [INF] Route matched with {action = "GetListingImageUrls", controller = "PropertyImages"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListingImageUrls(System.Guid) on controller RealEstateApi.Controllers.PropertyImagesController (RealEstateApi).
2025-06-13 15:19:37.538 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."AgentId", s."Bathrooms", s."Bedrooms", s."CreatedAt", s."Description", s."IsDeleted", s."Location", s."Price", s."SquareFeet", s."Title", s."Id0", s."AgencyName", s."LicenseNumber", s."Phone", p1."Id", p1."DeletedAt", p1."FileName", p1."FileUrl", p1."IsDeleted", p1."PropertyListingId", i."Id", i."BuyerId", i."CreatedAt", i."ListingId", i."Message"
FROM (
    SELECT p."Id", p."AgentId", p."Bathrooms", p."Bedrooms", p."CreatedAt", p."Description", p."IsDeleted", p."Location", p."Price", p."SquareFeet", p."Title", a."Id" AS "Id0", a."AgencyName", a."LicenseNumber", a."Phone"
    FROM "PropertyListings" AS p
    INNER JOIN "Agents" AS a ON p."AgentId" = a."Id"
    WHERE NOT (p."IsDeleted") AND p."Id" = @__id_0
    LIMIT 1
) AS s
LEFT JOIN (
    SELECT p0."Id", p0."DeletedAt", p0."FileName", p0."FileUrl", p0."IsDeleted", p0."PropertyListingId"
    FROM "PropertyImages" AS p0
    WHERE NOT (p0."IsDeleted")
) AS p1 ON s."Id" = p1."PropertyListingId"
LEFT JOIN "Inquiries" AS i ON s."Id" = i."ListingId"
ORDER BY s."Id", s."Id0", p1."Id"
2025-06-13 15:19:37.550 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."DeletedAt", p."FileName", p."FileUrl", p."IsDeleted", p."PropertyListingId", p0."Id", p0."AgentId", p0."Bathrooms", p0."Bedrooms", p0."CreatedAt", p0."Description", p0."IsDeleted", p0."Location", p0."Price", p0."SquareFeet", p0."Title"
FROM "PropertyImages" AS p
INNER JOIN "PropertyListings" AS p0 ON p."PropertyListingId" = p0."Id"
WHERE NOT (p."IsDeleted")
2025-06-13 15:19:37.553 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+SelectListIterator`2[[RealEstateApi.Models.PropertyImage, RealEstateApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-06-13 15:19:37.554 +05:30 [INF] Executed action RealEstateApi.Controllers.PropertyImagesController.GetListingImageUrls (RealEstateApi) in 20.4975ms
2025-06-13 15:19:37.554 +05:30 [INF] Executed endpoint 'RealEstateApi.Controllers.PropertyImagesController.GetListingImageUrls (RealEstateApi)'
2025-06-13 15:19:37.554 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5009/api/v1/PropertyImages/urls/0197689e-6b4c-715f-9d8a-7bc7a443dc77 - 200 null application/json; charset=utf-8 25.7031ms
2025-06-13 15:20:01.666 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5009/swagger/index.html - null null
2025-06-13 15:20:01.717 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5009/swagger/index.html - 200 null text/html;charset=utf-8 51.5048ms
2025-06-13 15:20:01.902 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5009/swagger/v1/swagger.json - null null
2025-06-13 15:20:02.031 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5009/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 128.327ms
2025-06-13 15:20:27.903 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5009/api/v1/Auth/login - application/json 59
2025-06-13 15:20:27.903 +05:30 [INF] Executing endpoint 'RealEstateApi.Controllers.AuthController.Login (RealEstateApi)'
2025-06-13 15:20:27.907 +05:30 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[RealEstateApi.Models.DTOs.AuthResponseDto]] Login(RealEstateApi.Models.DTOs.LoginDto) on controller RealEstateApi.Controllers.AuthController (RealEstateApi).
2025-06-13 15:20:27.926 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."Email", u."IsDeleted", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role"
FROM "Users" AS u
WHERE NOT (u."IsDeleted")
2025-06-13 15:20:28.266 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."Email", u."IsDeleted", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role"
FROM "Users" AS u
WHERE NOT (u."IsDeleted") AND u."Id" = @__id_0
LIMIT 2
2025-06-13 15:20:28.277 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@p2='?' (DbType = Guid), @p0='?', @p1='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Users" SET "RefreshToken" = @p0, "RefreshTokenExpiryTime" = @p1
WHERE "Id" = @p2;
2025-06-13 15:20:28.280 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?', @p3='?', @p4='?', @p5='?', @p6='?' (DbType = DateTime), @p7='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AuditLogs" ("Id", "ActionType", "NewValues", "OldValues", "PrimaryKey", "TableName", "Timestamp", "UserId")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
2025-06-13 15:20:28.282 +05:30 [INF] Executing OkObjectResult, writing value of type 'RealEstateApi.Models.DTOs.AuthResponseDto'.
2025-06-13 15:20:28.284 +05:30 [INF] Executed action RealEstateApi.Controllers.AuthController.Login (RealEstateApi) in 376.4478ms
2025-06-13 15:20:28.284 +05:30 [INF] Executed endpoint 'RealEstateApi.Controllers.AuthController.Login (RealEstateApi)'
2025-06-13 15:20:28.284 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5009/api/v1/Auth/login - 200 null application/json; charset=utf-8 381.384ms
2025-06-13 15:20:49.857 +05:30 [INF] Request starting HTTP/1.1 DELETE http://localhost:5009/api/v1/PropertyImages/admin/images/cleanup - null null
2025-06-13 15:20:49.860 +05:30 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin)
2025-06-13 15:20:49.863 +05:30 [INF] AuthenticationScheme: Bearer was forbidden.
2025-06-13 15:20:49.863 +05:30 [INF] Request finished HTTP/1.1 DELETE http://localhost:5009/api/v1/PropertyImages/admin/images/cleanup - 403 0 null 6.1994ms
2025-06-13 15:21:14.817 +05:30 [INF] Request starting HTTP/1.1 DELETE http://localhost:5009/api/v1/PropertyImages/admin/images/cleanup - null null
2025-06-13 15:21:14.819 +05:30 [INF] Executing endpoint 'RealEstateApi.Controllers.PropertyImagesController.CleanupOldDeletedImages (RealEstateApi)'
2025-06-13 15:21:14.822 +05:30 [INF] Route matched with {action = "CleanupOldDeletedImages", controller = "PropertyImages"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CleanupOldDeletedImages() on controller RealEstateApi.Controllers.PropertyImagesController (RealEstateApi).
2025-06-13 15:21:14.843 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."DeletedAt", p."FileName", p."FileUrl", p."IsDeleted", p."PropertyListingId"
FROM "PropertyImages" AS p
2025-06-13 15:21:14.844 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2025-06-13 15:21:14.844 +05:30 [INF] Executed action RealEstateApi.Controllers.PropertyImagesController.CleanupOldDeletedImages (RealEstateApi) in 22.118ms
2025-06-13 15:21:14.844 +05:30 [INF] Executed endpoint 'RealEstateApi.Controllers.PropertyImagesController.CleanupOldDeletedImages (RealEstateApi)'
2025-06-13 15:21:14.844 +05:30 [INF] Request finished HTTP/1.1 DELETE http://localhost:5009/api/v1/PropertyImages/admin/images/cleanup - 200 null text/plain; charset=utf-8 27.0244ms
2025-06-13 15:21:27.528 +05:30 [INF] Request starting HTTP/1.1 DELETE http://localhost:5009/api/v1/PropertyImages/admin/images/cleanup - null null
2025-06-13 15:21:27.529 +05:30 [INF] Executing endpoint 'RealEstateApi.Controllers.PropertyImagesController.CleanupOldDeletedImages (RealEstateApi)'
2025-06-13 15:21:27.529 +05:30 [INF] Route matched with {action = "CleanupOldDeletedImages", controller = "PropertyImages"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CleanupOldDeletedImages() on controller RealEstateApi.Controllers.PropertyImagesController (RealEstateApi).
2025-06-13 15:21:27.531 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."DeletedAt", p."FileName", p."FileUrl", p."IsDeleted", p."PropertyListingId"
FROM "PropertyImages" AS p
2025-06-13 15:21:27.532 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2025-06-13 15:21:27.532 +05:30 [INF] Executed action RealEstateApi.Controllers.PropertyImagesController.CleanupOldDeletedImages (RealEstateApi) in 2.6412ms
2025-06-13 15:21:27.532 +05:30 [INF] Executed endpoint 'RealEstateApi.Controllers.PropertyImagesController.CleanupOldDeletedImages (RealEstateApi)'
2025-06-13 15:21:27.532 +05:30 [INF] Request finished HTTP/1.1 DELETE http://localhost:5009/api/v1/PropertyImages/admin/images/cleanup - 200 null text/plain; charset=utf-8 4.3319ms
2025-06-13 15:21:33.907 +05:30 [INF] Request starting HTTP/1.1 DELETE http://localhost:5009/api/v1/PropertyImages/admin/images/cleanup - null null
2025-06-13 15:21:33.908 +05:30 [INF] Executing endpoint 'RealEstateApi.Controllers.PropertyImagesController.CleanupOldDeletedImages (RealEstateApi)'
2025-06-13 15:21:33.908 +05:30 [INF] Route matched with {action = "CleanupOldDeletedImages", controller = "PropertyImages"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CleanupOldDeletedImages() on controller RealEstateApi.Controllers.PropertyImagesController (RealEstateApi).
2025-06-13 15:21:33.909 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."DeletedAt", p."FileName", p."FileUrl", p."IsDeleted", p."PropertyListingId"
FROM "PropertyImages" AS p
2025-06-13 15:21:33.910 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2025-06-13 15:21:33.910 +05:30 [INF] Executed action RealEstateApi.Controllers.PropertyImagesController.CleanupOldDeletedImages (RealEstateApi) in 2.0321ms
2025-06-13 15:21:33.910 +05:30 [INF] Executed endpoint 'RealEstateApi.Controllers.PropertyImagesController.CleanupOldDeletedImages (RealEstateApi)'
2025-06-13 15:21:33.910 +05:30 [INF] Request finished HTTP/1.1 DELETE http://localhost:5009/api/v1/PropertyImages/admin/images/cleanup - 200 null text/plain; charset=utf-8 2.9899ms
2025-06-13 15:22:53.725 +05:30 [INF] Request starting HTTP/1.1 DELETE http://localhost:5009/api/v1/PropertyImages/01976588-4d69-755b-b446-22f1ff060bc2 - null null
2025-06-13 15:22:53.726 +05:30 [INF] Executing endpoint 'RealEstateApi.Controllers.PropertyImagesController.SoftDeletePropertyImage (RealEstateApi)'
2025-06-13 15:22:53.726 +05:30 [INF] Route matched with {action = "SoftDeletePropertyImage", controller = "PropertyImages"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SoftDeletePropertyImage(System.Guid) on controller RealEstateApi.Controllers.PropertyImagesController (RealEstateApi).
2025-06-13 15:22:53.729 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."DeletedAt", p."FileName", p."FileUrl", p."IsDeleted", p."PropertyListingId", p0."Id", p0."AgentId", p0."Bathrooms", p0."Bedrooms", p0."CreatedAt", p0."Description", p0."IsDeleted", p0."Location", p0."Price", p0."SquareFeet", p0."Title"
FROM "PropertyImages" AS p
INNER JOIN "PropertyListings" AS p0 ON p."PropertyListingId" = p0."Id"
WHERE NOT (p."IsDeleted") AND p."Id" = @__id_0
LIMIT 2
2025-06-13 15:22:53.729 +05:30 [INF] Executing NotFoundObjectResult, writing value of type 'System.String'.
2025-06-13 15:22:53.729 +05:30 [INF] Executed action RealEstateApi.Controllers.PropertyImagesController.SoftDeletePropertyImage (RealEstateApi) in 3.1723ms
2025-06-13 15:22:53.729 +05:30 [INF] Executed endpoint 'RealEstateApi.Controllers.PropertyImagesController.SoftDeletePropertyImage (RealEstateApi)'
2025-06-13 15:22:53.730 +05:30 [INF] Request finished HTTP/1.1 DELETE http://localhost:5009/api/v1/PropertyImages/01976588-4d69-755b-b446-22f1ff060bc2 - 404 null text/plain; charset=utf-8 5.1124ms
2025-06-13 15:23:05.601 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5009/api/v1/PropertyListings/images/upload - multipart/form-data; boundary=--------------------------604477324683339533267905 920465
2025-06-13 15:23:05.602 +05:30 [INF] Executing endpoint 'RealEstateApi.Controllers.PropertyListingsController.UploadImage (RealEstateApi)'
2025-06-13 15:23:05.607 +05:30 [INF] Route matched with {action = "UploadImage", controller = "PropertyListings"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UploadImage(RealEstateApi.Models.DTOs.AddPropertyImageDto) on controller RealEstateApi.Controllers.PropertyListingsController (RealEstateApi).
2025-06-13 15:23:05.647 +05:30 [INF] Executed DbCommand (4ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."AgentId", s."Bathrooms", s."Bedrooms", s."CreatedAt", s."Description", s."IsDeleted", s."Location", s."Price", s."SquareFeet", s."Title", s."Id0", s."AgencyName", s."LicenseNumber", s."Phone", p1."Id", p1."DeletedAt", p1."FileName", p1."FileUrl", p1."IsDeleted", p1."PropertyListingId", i."Id", i."BuyerId", i."CreatedAt", i."ListingId", i."Message"
FROM (
    SELECT p."Id", p."AgentId", p."Bathrooms", p."Bedrooms", p."CreatedAt", p."Description", p."IsDeleted", p."Location", p."Price", p."SquareFeet", p."Title", a."Id" AS "Id0", a."AgencyName", a."LicenseNumber", a."Phone"
    FROM "PropertyListings" AS p
    INNER JOIN "Agents" AS a ON p."AgentId" = a."Id"
    WHERE NOT (p."IsDeleted") AND p."Id" = @__id_0
    LIMIT 1
) AS s
LEFT JOIN (
    SELECT p0."Id", p0."DeletedAt", p0."FileName", p0."FileUrl", p0."IsDeleted", p0."PropertyListingId"
    FROM "PropertyImages" AS p0
    WHERE NOT (p0."IsDeleted")
) AS p1 ON s."Id" = p1."PropertyListingId"
LEFT JOIN "Inquiries" AS i ON s."Id" = i."ListingId"
ORDER BY s."Id", s."Id0", p1."Id"
2025-06-13 15:23:05.658 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime), @p2='?', @p3='?', @p4='?' (DbType = Boolean), @p5='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "PropertyImages" ("Id", "DeletedAt", "FileName", "FileUrl", "IsDeleted", "PropertyListingId")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2025-06-13 15:23:05.661 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?', @p3='?', @p4='?', @p5='?', @p6='?' (DbType = DateTime), @p7='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AuditLogs" ("Id", "ActionType", "NewValues", "OldValues", "PrimaryKey", "TableName", "Timestamp", "UserId")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
2025-06-13 15:23:05.661 +05:30 [INF] Executing OkObjectResult, writing value of type 'RealEstateApi.Models.PropertyImage'.
2025-06-13 15:23:05.662 +05:30 [INF] Executed action RealEstateApi.Controllers.PropertyListingsController.UploadImage (RealEstateApi) in 54.5153ms
2025-06-13 15:23:05.662 +05:30 [INF] Executed endpoint 'RealEstateApi.Controllers.PropertyListingsController.UploadImage (RealEstateApi)'
2025-06-13 15:23:05.663 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5009/api/v1/PropertyListings/images/upload - 200 null application/json; charset=utf-8 62.3254ms
2025-06-13 15:23:36.757 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5009/api/v1/PropertyListings/images/upload - multipart/form-data; boundary=--------------------------027467836775094792009336 920465
2025-06-13 15:23:36.759 +05:30 [INF] Executing endpoint 'RealEstateApi.Controllers.PropertyListingsController.UploadImage (RealEstateApi)'
2025-06-13 15:23:36.759 +05:30 [INF] Route matched with {action = "UploadImage", controller = "PropertyListings"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UploadImage(RealEstateApi.Models.DTOs.AddPropertyImageDto) on controller RealEstateApi.Controllers.PropertyListingsController (RealEstateApi).
2025-06-13 15:23:36.767 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."AgentId", s."Bathrooms", s."Bedrooms", s."CreatedAt", s."Description", s."IsDeleted", s."Location", s."Price", s."SquareFeet", s."Title", s."Id0", s."AgencyName", s."LicenseNumber", s."Phone", p1."Id", p1."DeletedAt", p1."FileName", p1."FileUrl", p1."IsDeleted", p1."PropertyListingId", i."Id", i."BuyerId", i."CreatedAt", i."ListingId", i."Message"
FROM (
    SELECT p."Id", p."AgentId", p."Bathrooms", p."Bedrooms", p."CreatedAt", p."Description", p."IsDeleted", p."Location", p."Price", p."SquareFeet", p."Title", a."Id" AS "Id0", a."AgencyName", a."LicenseNumber", a."Phone"
    FROM "PropertyListings" AS p
    INNER JOIN "Agents" AS a ON p."AgentId" = a."Id"
    WHERE NOT (p."IsDeleted") AND p."Id" = @__id_0
    LIMIT 1
) AS s
LEFT JOIN (
    SELECT p0."Id", p0."DeletedAt", p0."FileName", p0."FileUrl", p0."IsDeleted", p0."PropertyListingId"
    FROM "PropertyImages" AS p0
    WHERE NOT (p0."IsDeleted")
) AS p1 ON s."Id" = p1."PropertyListingId"
LEFT JOIN "Inquiries" AS i ON s."Id" = i."ListingId"
ORDER BY s."Id", s."Id0", p1."Id"
2025-06-13 15:23:36.770 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime), @p2='?', @p3='?', @p4='?' (DbType = Boolean), @p5='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "PropertyImages" ("Id", "DeletedAt", "FileName", "FileUrl", "IsDeleted", "PropertyListingId")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2025-06-13 15:23:36.771 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?', @p3='?', @p4='?', @p5='?', @p6='?' (DbType = DateTime), @p7='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AuditLogs" ("Id", "ActionType", "NewValues", "OldValues", "PrimaryKey", "TableName", "Timestamp", "UserId")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
2025-06-13 15:23:36.772 +05:30 [INF] Executing OkObjectResult, writing value of type 'RealEstateApi.Models.PropertyImage'.
2025-06-13 15:23:36.772 +05:30 [INF] Executed action RealEstateApi.Controllers.PropertyListingsController.UploadImage (RealEstateApi) in 13.1804ms
2025-06-13 15:23:36.772 +05:30 [INF] Executed endpoint 'RealEstateApi.Controllers.PropertyListingsController.UploadImage (RealEstateApi)'
2025-06-13 15:23:36.773 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5009/api/v1/PropertyListings/images/upload - 200 null application/json; charset=utf-8 16.411ms
2025-06-13 15:23:47.578 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5009/api/v1/PropertyListings/images/upload - multipart/form-data; boundary=--------------------------068824881049458465278084 920465
2025-06-13 15:23:47.579 +05:30 [INF] Executing endpoint 'RealEstateApi.Controllers.PropertyListingsController.UploadImage (RealEstateApi)'
2025-06-13 15:23:47.580 +05:30 [INF] Route matched with {action = "UploadImage", controller = "PropertyListings"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UploadImage(RealEstateApi.Models.DTOs.AddPropertyImageDto) on controller RealEstateApi.Controllers.PropertyListingsController (RealEstateApi).
2025-06-13 15:23:47.588 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."AgentId", s."Bathrooms", s."Bedrooms", s."CreatedAt", s."Description", s."IsDeleted", s."Location", s."Price", s."SquareFeet", s."Title", s."Id0", s."AgencyName", s."LicenseNumber", s."Phone", p1."Id", p1."DeletedAt", p1."FileName", p1."FileUrl", p1."IsDeleted", p1."PropertyListingId", i."Id", i."BuyerId", i."CreatedAt", i."ListingId", i."Message"
FROM (
    SELECT p."Id", p."AgentId", p."Bathrooms", p."Bedrooms", p."CreatedAt", p."Description", p."IsDeleted", p."Location", p."Price", p."SquareFeet", p."Title", a."Id" AS "Id0", a."AgencyName", a."LicenseNumber", a."Phone"
    FROM "PropertyListings" AS p
    INNER JOIN "Agents" AS a ON p."AgentId" = a."Id"
    WHERE NOT (p."IsDeleted") AND p."Id" = @__id_0
    LIMIT 1
) AS s
LEFT JOIN (
    SELECT p0."Id", p0."DeletedAt", p0."FileName", p0."FileUrl", p0."IsDeleted", p0."PropertyListingId"
    FROM "PropertyImages" AS p0
    WHERE NOT (p0."IsDeleted")
) AS p1 ON s."Id" = p1."PropertyListingId"
LEFT JOIN "Inquiries" AS i ON s."Id" = i."ListingId"
ORDER BY s."Id", s."Id0", p1."Id"
2025-06-13 15:23:47.591 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime), @p2='?', @p3='?', @p4='?' (DbType = Boolean), @p5='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "PropertyImages" ("Id", "DeletedAt", "FileName", "FileUrl", "IsDeleted", "PropertyListingId")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2025-06-13 15:23:47.593 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?', @p3='?', @p4='?', @p5='?', @p6='?' (DbType = DateTime), @p7='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AuditLogs" ("Id", "ActionType", "NewValues", "OldValues", "PrimaryKey", "TableName", "Timestamp", "UserId")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
2025-06-13 15:23:47.594 +05:30 [INF] Executing OkObjectResult, writing value of type 'RealEstateApi.Models.PropertyImage'.
2025-06-13 15:23:47.594 +05:30 [INF] Executed action RealEstateApi.Controllers.PropertyListingsController.UploadImage (RealEstateApi) in 14.4461ms
2025-06-13 15:23:47.594 +05:30 [INF] Executed endpoint 'RealEstateApi.Controllers.PropertyListingsController.UploadImage (RealEstateApi)'
2025-06-13 15:23:47.596 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5009/api/v1/PropertyListings/images/upload - 200 null application/json; charset=utf-8 17.6646ms
2025-06-13 15:24:18.329 +05:30 [INF] Request starting HTTP/1.1 DELETE http://localhost:5009/api/v1/PropertyImages/019768b5-b245-7b5f-b13a-d9706ae4813f - null null
2025-06-13 15:24:18.331 +05:30 [INF] Executing endpoint 'RealEstateApi.Controllers.PropertyImagesController.SoftDeletePropertyImage (RealEstateApi)'
2025-06-13 15:24:18.331 +05:30 [INF] Route matched with {action = "SoftDeletePropertyImage", controller = "PropertyImages"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SoftDeletePropertyImage(System.Guid) on controller RealEstateApi.Controllers.PropertyImagesController (RealEstateApi).
2025-06-13 15:24:18.333 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."DeletedAt", p."FileName", p."FileUrl", p."IsDeleted", p."PropertyListingId", p0."Id", p0."AgentId", p0."Bathrooms", p0."Bedrooms", p0."CreatedAt", p0."Description", p0."IsDeleted", p0."Location", p0."Price", p0."SquareFeet", p0."Title"
FROM "PropertyImages" AS p
INNER JOIN "PropertyListings" AS p0 ON p."PropertyListingId" = p0."Id"
WHERE NOT (p."IsDeleted") AND p."Id" = @__id_0
LIMIT 2
2025-06-13 15:24:18.335 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."AgentId", s."Bathrooms", s."Bedrooms", s."CreatedAt", s."Description", s."IsDeleted", s."Location", s."Price", s."SquareFeet", s."Title", s."Id0", s."AgencyName", s."LicenseNumber", s."Phone", p1."Id", p1."DeletedAt", p1."FileName", p1."FileUrl", p1."IsDeleted", p1."PropertyListingId", i."Id", i."BuyerId", i."CreatedAt", i."ListingId", i."Message"
FROM (
    SELECT p."Id", p."AgentId", p."Bathrooms", p."Bedrooms", p."CreatedAt", p."Description", p."IsDeleted", p."Location", p."Price", p."SquareFeet", p."Title", a."Id" AS "Id0", a."AgencyName", a."LicenseNumber", a."Phone"
    FROM "PropertyListings" AS p
    INNER JOIN "Agents" AS a ON p."AgentId" = a."Id"
    WHERE NOT (p."IsDeleted") AND p."Id" = @__id_0
    LIMIT 1
) AS s
LEFT JOIN (
    SELECT p0."Id", p0."DeletedAt", p0."FileName", p0."FileUrl", p0."IsDeleted", p0."PropertyListingId"
    FROM "PropertyImages" AS p0
    WHERE NOT (p0."IsDeleted")
) AS p1 ON s."Id" = p1."PropertyListingId"
LEFT JOIN "Inquiries" AS i ON s."Id" = i."ListingId"
ORDER BY s."Id", s."Id0", p1."Id"
2025-06-13 15:24:18.336 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."DeletedAt", p."FileName", p."FileUrl", p."IsDeleted", p."PropertyListingId", p0."Id", p0."AgentId", p0."Bathrooms", p0."Bedrooms", p0."CreatedAt", p0."Description", p0."IsDeleted", p0."Location", p0."Price", p0."SquareFeet", p0."Title"
FROM "PropertyImages" AS p
INNER JOIN "PropertyListings" AS p0 ON p."PropertyListingId" = p0."Id"
WHERE NOT (p."IsDeleted") AND p."Id" = @__id_0
LIMIT 2
2025-06-13 15:24:18.338 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."DeletedAt", p."FileName", p."FileUrl", p."IsDeleted", p."PropertyListingId", p0."Id", p0."AgentId", p0."Bathrooms", p0."Bedrooms", p0."CreatedAt", p0."Description", p0."IsDeleted", p0."Location", p0."Price", p0."SquareFeet", p0."Title"
FROM "PropertyImages" AS p
INNER JOIN "PropertyListings" AS p0 ON p."PropertyListingId" = p0."Id"
WHERE NOT (p."IsDeleted") AND p."Id" = @__id_0
LIMIT 2
2025-06-13 15:24:18.340 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@p2='?' (DbType = Guid), @p0='?' (DbType = DateTime), @p1='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
UPDATE "PropertyImages" SET "DeletedAt" = @p0, "IsDeleted" = @p1
WHERE "Id" = @p2;
2025-06-13 15:24:18.341 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?', @p3='?', @p4='?', @p5='?', @p6='?' (DbType = DateTime), @p7='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AuditLogs" ("Id", "ActionType", "NewValues", "OldValues", "PrimaryKey", "TableName", "Timestamp", "UserId")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
2025-06-13 15:24:18.342 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2025-06-13 15:24:18.342 +05:30 [INF] Executed action RealEstateApi.Controllers.PropertyImagesController.SoftDeletePropertyImage (RealEstateApi) in 11.0722ms
2025-06-13 15:24:18.342 +05:30 [INF] Executed endpoint 'RealEstateApi.Controllers.PropertyImagesController.SoftDeletePropertyImage (RealEstateApi)'
2025-06-13 15:24:18.342 +05:30 [INF] Request finished HTTP/1.1 DELETE http://localhost:5009/api/v1/PropertyImages/019768b5-b245-7b5f-b13a-d9706ae4813f - 200 null text/plain; charset=utf-8 12.7328ms
2025-06-13 15:25:19.056 +05:30 [INF] Request starting HTTP/1.1 DELETE http://localhost:5009/api/v1/PropertyImages/admin/images/cleanup - null null
2025-06-13 15:25:19.058 +05:30 [INF] Executing endpoint 'RealEstateApi.Controllers.PropertyImagesController.CleanupOldDeletedImages (RealEstateApi)'
2025-06-13 15:25:19.058 +05:30 [INF] Route matched with {action = "CleanupOldDeletedImages", controller = "PropertyImages"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CleanupOldDeletedImages() on controller RealEstateApi.Controllers.PropertyImagesController (RealEstateApi).
2025-06-13 15:25:19.060 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."DeletedAt", p."FileName", p."FileUrl", p."IsDeleted", p."PropertyListingId"
FROM "PropertyImages" AS p
2025-06-13 15:25:19.060 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2025-06-13 15:25:19.060 +05:30 [INF] Executed action RealEstateApi.Controllers.PropertyImagesController.CleanupOldDeletedImages (RealEstateApi) in 2.3547ms
2025-06-13 15:25:19.061 +05:30 [INF] Executed endpoint 'RealEstateApi.Controllers.PropertyImagesController.CleanupOldDeletedImages (RealEstateApi)'
2025-06-13 15:25:19.061 +05:30 [INF] Request finished HTTP/1.1 DELETE http://localhost:5009/api/v1/PropertyImages/admin/images/cleanup - 200 null text/plain; charset=utf-8 4.3747ms
2025-06-13 15:26:34.738 +05:30 [INF] Request starting HTTP/1.1 DELETE http://localhost:5009/api/v1/PropertyImages/admin/images/cleanup - null null
2025-06-13 15:26:34.740 +05:30 [INF] Executing endpoint 'RealEstateApi.Controllers.PropertyImagesController.CleanupOldDeletedImages (RealEstateApi)'
2025-06-13 15:26:34.740 +05:30 [INF] Route matched with {action = "CleanupOldDeletedImages", controller = "PropertyImages"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CleanupOldDeletedImages() on controller RealEstateApi.Controllers.PropertyImagesController (RealEstateApi).
2025-06-13 15:26:34.742 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."DeletedAt", p."FileName", p."FileUrl", p."IsDeleted", p."PropertyListingId"
FROM "PropertyImages" AS p
2025-06-13 15:26:34.742 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2025-06-13 15:26:34.742 +05:30 [INF] Executed action RealEstateApi.Controllers.PropertyImagesController.CleanupOldDeletedImages (RealEstateApi) in 1.7162ms
2025-06-13 15:26:34.742 +05:30 [INF] Executed endpoint 'RealEstateApi.Controllers.PropertyImagesController.CleanupOldDeletedImages (RealEstateApi)'
2025-06-13 15:26:34.742 +05:30 [INF] Request finished HTTP/1.1 DELETE http://localhost:5009/api/v1/PropertyImages/admin/images/cleanup - 200 null text/plain; charset=utf-8 4.2735ms
2025-06-13 15:32:56.990 +05:30 [INF] Application is shutting down...
2025-06-13 15:33:06.886 +05:30 [INF] User profile is available. Using '/Users/muckesh/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2025-06-13 15:33:07.029 +05:30 [INF] Now listening on: http://localhost:5009
2025-06-13 15:33:07.031 +05:30 [INF] Application started. Press Ctrl+C to shut down.
2025-06-13 15:33:07.032 +05:30 [INF] Hosting environment: Development
2025-06-13 15:33:07.032 +05:30 [INF] Content root path: /Users/muckesh/Muckesh/Presidio/Genspark-Training/Capstone-1/RealEstateApi
2025-06-13 15:33:15.321 +05:30 [INF] Request starting HTTP/1.1 DELETE http://localhost:5009/api/v1/PropertyImages/admin/images/cleanup - null null
2025-06-13 15:33:15.364 +05:30 [WRN] Failed to determine the https port for redirect.
2025-06-13 15:33:15.470 +05:30 [INF] Executing endpoint 'RealEstateApi.Controllers.PropertyImagesController.CleanupOldDeletedImages (RealEstateApi)'
2025-06-13 15:33:15.493 +05:30 [INF] Route matched with {action = "CleanupOldDeletedImages", controller = "PropertyImages"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CleanupOldDeletedImages() on controller RealEstateApi.Controllers.PropertyImagesController (RealEstateApi).
2025-06-13 15:33:16.739 +05:30 [INF] Executed DbCommand (23ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."DeletedAt", p."FileName", p."FileUrl", p."IsDeleted", p."PropertyListingId"
FROM "PropertyImages" AS p
2025-06-13 15:33:16.870 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2025-06-13 15:33:16.884 +05:30 [INF] Executed action RealEstateApi.Controllers.PropertyImagesController.CleanupOldDeletedImages (RealEstateApi) in 1387.4945ms
2025-06-13 15:33:16.886 +05:30 [INF] Executed endpoint 'RealEstateApi.Controllers.PropertyImagesController.CleanupOldDeletedImages (RealEstateApi)'
2025-06-13 15:33:16.900 +05:30 [INF] Request finished HTTP/1.1 DELETE http://localhost:5009/api/v1/PropertyImages/admin/images/cleanup - 200 null text/plain; charset=utf-8 1580.7736ms
2025-06-13 15:38:18.678 +05:30 [INF] Application is shutting down...
2025-06-13 15:38:30.940 +05:30 [INF] User profile is available. Using '/Users/muckesh/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2025-06-13 15:38:31.078 +05:30 [INF] Now listening on: http://localhost:5009
2025-06-13 15:38:31.082 +05:30 [INF] Application started. Press Ctrl+C to shut down.
2025-06-13 15:38:31.083 +05:30 [INF] Hosting environment: Development
2025-06-13 15:38:31.083 +05:30 [INF] Content root path: /Users/muckesh/Muckesh/Presidio/Genspark-Training/Capstone-1/RealEstateApi
2025-06-13 15:38:37.079 +05:30 [INF] Request starting HTTP/1.1 DELETE http://localhost:5009/api/v1/PropertyImages/admin/images/cleanup - null null
2025-06-13 15:38:37.134 +05:30 [WRN] Failed to determine the https port for redirect.
2025-06-13 15:38:37.244 +05:30 [INF] Executing endpoint 'RealEstateApi.Controllers.PropertyImagesController.CleanupOldDeletedImages (RealEstateApi)'
2025-06-13 15:38:37.273 +05:30 [INF] Route matched with {action = "CleanupOldDeletedImages", controller = "PropertyImages"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CleanupOldDeletedImages() on controller RealEstateApi.Controllers.PropertyImagesController (RealEstateApi).
2025-06-13 15:38:38.619 +05:30 [INF] Executed DbCommand (23ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."DeletedAt", p."FileName", p."FileUrl", p."IsDeleted", p."PropertyListingId"
FROM "PropertyImages" AS p
2025-06-13 15:38:38.759 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2025-06-13 15:38:38.774 +05:30 [INF] Executed action RealEstateApi.Controllers.PropertyImagesController.CleanupOldDeletedImages (RealEstateApi) in 1496.3909ms
2025-06-13 15:38:38.776 +05:30 [INF] Executed endpoint 'RealEstateApi.Controllers.PropertyImagesController.CleanupOldDeletedImages (RealEstateApi)'
2025-06-13 15:38:38.792 +05:30 [INF] Request finished HTTP/1.1 DELETE http://localhost:5009/api/v1/PropertyImages/admin/images/cleanup - 200 null text/plain; charset=utf-8 1716.771ms
2025-06-13 15:40:39.373 +05:30 [INF] Request starting HTTP/1.1 DELETE http://localhost:5009/api/v1/PropertyImages/019768b5-b245-7b5f-b13a-d9706ae4813f - null null
2025-06-13 15:40:39.379 +05:30 [INF] Executing endpoint 'RealEstateApi.Controllers.PropertyImagesController.SoftDeletePropertyImage (RealEstateApi)'
2025-06-13 15:40:39.392 +05:30 [INF] Route matched with {action = "SoftDeletePropertyImage", controller = "PropertyImages"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SoftDeletePropertyImage(System.Guid) on controller RealEstateApi.Controllers.PropertyImagesController (RealEstateApi).
2025-06-13 15:40:39.641 +05:30 [INF] Executed DbCommand (13ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."DeletedAt", p."FileName", p."FileUrl", p."IsDeleted", p."PropertyListingId", p0."Id", p0."AgentId", p0."Bathrooms", p0."Bedrooms", p0."CreatedAt", p0."Description", p0."IsDeleted", p0."Location", p0."Price", p0."SquareFeet", p0."Title"
FROM "PropertyImages" AS p
INNER JOIN "PropertyListings" AS p0 ON p."PropertyListingId" = p0."Id"
WHERE NOT (p."IsDeleted") AND p."Id" = @__id_0
LIMIT 2
2025-06-13 15:40:39.644 +05:30 [INF] Executing NotFoundObjectResult, writing value of type 'System.String'.
2025-06-13 15:40:39.644 +05:30 [INF] Executed action RealEstateApi.Controllers.PropertyImagesController.SoftDeletePropertyImage (RealEstateApi) in 251.6283ms
2025-06-13 15:40:39.644 +05:30 [INF] Executed endpoint 'RealEstateApi.Controllers.PropertyImagesController.SoftDeletePropertyImage (RealEstateApi)'
2025-06-13 15:40:39.645 +05:30 [INF] Request finished HTTP/1.1 DELETE http://localhost:5009/api/v1/PropertyImages/019768b5-b245-7b5f-b13a-d9706ae4813f - 404 null text/plain; charset=utf-8 272.7975ms
2025-06-13 15:40:50.084 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5009/api/v1/PropertyImages/file/01976588-8820-700d-bb51-8a7689c34b5f - null null
2025-06-13 15:40:50.090 +05:30 [INF] Executing endpoint 'RealEstateApi.Controllers.PropertyImagesController.GetImageFile (RealEstateApi)'
2025-06-13 15:40:50.094 +05:30 [INF] Route matched with {action = "GetImageFile", controller = "PropertyImages"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetImageFile(System.Guid) on controller RealEstateApi.Controllers.PropertyImagesController (RealEstateApi).
2025-06-13 15:40:50.171 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."DeletedAt", p."FileName", p."FileUrl", p."IsDeleted", p."PropertyListingId", p0."Id", p0."AgentId", p0."Bathrooms", p0."Bedrooms", p0."CreatedAt", p0."Description", p0."IsDeleted", p0."Location", p0."Price", p0."SquareFeet", p0."Title"
FROM "PropertyImages" AS p
INNER JOIN "PropertyListings" AS p0 ON p."PropertyListingId" = p0."Id"
WHERE NOT (p."IsDeleted") AND p."Id" = @__id_0
LIMIT 2
2025-06-13 15:40:50.226 +05:30 [INF] Executing FileContentResult, sending file with download name '9f9baff5-4f6f-44c4-a1e9-efca740f299f.jpg' ...
2025-06-13 15:40:50.252 +05:30 [INF] Executed action RealEstateApi.Controllers.PropertyImagesController.GetImageFile (RealEstateApi) in 157.8293ms
2025-06-13 15:40:50.252 +05:30 [INF] Executed endpoint 'RealEstateApi.Controllers.PropertyImagesController.GetImageFile (RealEstateApi)'
2025-06-13 15:40:50.252 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5009/api/v1/PropertyImages/file/01976588-8820-700d-bb51-8a7689c34b5f - 200 920097 image/jpeg 168.7869ms
2025-06-13 15:41:05.930 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5009/api/v1/PropertyListings - null null
2025-06-13 15:41:05.931 +05:30 [INF] Executing endpoint 'RealEstateApi.Controllers.PropertyListingsController.SearchListings (RealEstateApi)'
2025-06-13 15:41:05.940 +05:30 [INF] Route matched with {action = "SearchListings", controller = "PropertyListings"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SearchListings(RealEstateApi.Models.DTOs.PropertyListingQueryParametersDto) on controller RealEstateApi.Controllers.PropertyListingsController (RealEstateApi).
2025-06-13 15:41:06.009 +05:30 [WRN] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2025-06-13 15:41:06.042 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."AgentId", p."Bathrooms", p."Bedrooms", p."CreatedAt", p."Description", p."IsDeleted", p."Location", p."Price", p."SquareFeet", p."Title", a."Id", a."AgencyName", a."LicenseNumber", a."Phone", p1."Id", p1."DeletedAt", p1."FileName", p1."FileUrl", p1."IsDeleted", p1."PropertyListingId", i."Id", i."BuyerId", i."CreatedAt", i."ListingId", i."Message"
FROM "PropertyListings" AS p
INNER JOIN "Agents" AS a ON p."AgentId" = a."Id"
LEFT JOIN (
    SELECT p0."Id", p0."DeletedAt", p0."FileName", p0."FileUrl", p0."IsDeleted", p0."PropertyListingId"
    FROM "PropertyImages" AS p0
    WHERE NOT (p0."IsDeleted")
) AS p1 ON p."Id" = p1."PropertyListingId"
LEFT JOIN "Inquiries" AS i ON p."Id" = i."ListingId"
WHERE NOT (p."IsDeleted")
ORDER BY p."Id", a."Id", p1."Id"
2025-06-13 15:41:06.077 +05:30 [INF] Executing OkObjectResult, writing value of type 'RealEstateApi.Models.DTOs.PagedResult`1[[RealEstateApi.Models.PropertyListing, RealEstateApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-13 15:41:06.185 +05:30 [INF] Executed action RealEstateApi.Controllers.PropertyListingsController.SearchListings (RealEstateApi) in 245.3908ms
2025-06-13 15:41:06.185 +05:30 [INF] Executed endpoint 'RealEstateApi.Controllers.PropertyListingsController.SearchListings (RealEstateApi)'
2025-06-13 15:41:06.186 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5009/api/v1/PropertyListings - 200 null application/json; charset=utf-8 255.1855ms
2025-06-13 15:42:40.602 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5009/api/v1/User - null null
2025-06-13 15:42:40.609 +05:30 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin)
2025-06-13 15:42:40.612 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2025-06-13 15:42:40.612 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5009/api/v1/User - 401 0 null 10.6137ms
2025-06-13 15:42:50.182 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5009/api/v1/User - null null
2025-06-13 15:42:50.183 +05:30 [INF] Executing endpoint 'RealEstateApi.Controllers.UserController.GetFilteredUsers (RealEstateApi)'
2025-06-13 15:42:50.188 +05:30 [INF] Route matched with {action = "GetFilteredUsers", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[RealEstateApi.Models.DTOs.PagedResult`1[RealEstateApi.Models.User]]] GetFilteredUsers(RealEstateApi.Models.DTOs.UserQueryDto) on controller RealEstateApi.Controllers.UserController (RealEstateApi).
2025-06-13 15:42:50.204 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."Email", u."IsDeleted", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role"
FROM "Users" AS u
WHERE NOT (u."IsDeleted")
2025-06-13 15:42:50.227 +05:30 [INF] Executing OkObjectResult, writing value of type 'RealEstateApi.Models.DTOs.PagedResult`1[[RealEstateApi.Models.User, RealEstateApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-13 15:42:50.235 +05:30 [INF] Executed action RealEstateApi.Controllers.UserController.GetFilteredUsers (RealEstateApi) in 46.283ms
2025-06-13 15:42:50.235 +05:30 [INF] Executed endpoint 'RealEstateApi.Controllers.UserController.GetFilteredUsers (RealEstateApi)'
2025-06-13 15:42:50.235 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5009/api/v1/User - 200 null application/json; charset=utf-8 53.2056ms
2025-06-13 15:45:05.209 +05:30 [INF] Request starting HTTP/1.1 PUT http://localhost:5009/api/v1/User/01976581-de66-7728-81f2-b6ebc23eb117 - application/json 23
2025-06-13 15:45:05.211 +05:30 [INF] Executing endpoint 'RealEstateApi.Controllers.UserController.UpdateUser (RealEstateApi)'
2025-06-13 15:45:05.217 +05:30 [INF] Route matched with {action = "UpdateUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateUser(System.Guid, RealEstateApi.Models.DTOs.UpdateUserDto) on controller RealEstateApi.Controllers.UserController (RealEstateApi).
2025-06-13 15:45:05.256 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."Email", u."IsDeleted", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role"
FROM "Users" AS u
WHERE NOT (u."IsDeleted") AND u."Id" = @__id_0
LIMIT 2
2025-06-13 15:45:05.259 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."Email", u."IsDeleted", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role"
FROM "Users" AS u
WHERE NOT (u."IsDeleted") AND u."Id" = @__id_0
LIMIT 2
2025-06-13 15:45:05.362 +05:30 [INF] Executed DbCommand (5ms) [Parameters=[@p1='?' (DbType = Guid), @p0='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "Users" SET "Name" = @p0
WHERE "Id" = @p1;
2025-06-13 15:45:05.434 +05:30 [INF] Executed DbCommand (4ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?', @p3='?', @p4='?', @p5='?', @p6='?' (DbType = DateTime), @p7='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AuditLogs" ("Id", "ActionType", "NewValues", "OldValues", "PrimaryKey", "TableName", "Timestamp", "UserId")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
2025-06-13 15:45:05.435 +05:30 [INF] Executing OkObjectResult, writing value of type 'RealEstateApi.Models.User'.
2025-06-13 15:45:05.436 +05:30 [INF] Executed action RealEstateApi.Controllers.UserController.UpdateUser (RealEstateApi) in 218.7339ms
2025-06-13 15:45:05.436 +05:30 [INF] Executed endpoint 'RealEstateApi.Controllers.UserController.UpdateUser (RealEstateApi)'
2025-06-13 15:45:05.436 +05:30 [INF] Request finished HTTP/1.1 PUT http://localhost:5009/api/v1/User/01976581-de66-7728-81f2-b6ebc23eb117 - 200 null application/json; charset=utf-8 227.1529ms
2025-06-13 15:46:09.653 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5009/api/v1/User - null null
2025-06-13 15:46:09.654 +05:30 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin)
2025-06-13 15:46:09.655 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2025-06-13 15:46:09.655 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5009/api/v1/User - 401 0 null 1.6076ms
2025-06-13 15:47:56.374 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5009/api/v1/Buyers/register - application/json 124
2025-06-13 15:47:56.375 +05:30 [INF] Executing endpoint 'RealEstateApi.Controllers.BuyersController.RegisterBuyer (RealEstateApi)'
2025-06-13 15:47:56.380 +05:30 [INF] Route matched with {action = "RegisterBuyer", controller = "Buyers"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[RealEstateApi.Models.DTOs.AuthResponseDto]] RegisterBuyer(RealEstateApi.Models.DTOs.RegisterBuyerDto) on controller RealEstateApi.Controllers.BuyersController (RealEstateApi).
2025-06-13 15:47:56.415 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."Email", u."IsDeleted", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role"
FROM "Users" AS u
WHERE NOT (u."IsDeleted")
2025-06-13 15:47:56.717 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime), @p2='?', @p3='?' (DbType = Boolean), @p4='?', @p5='?', @p6='?', @p7='?' (DbType = DateTime), @p8='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Users" ("Id", "CreatedAt", "Email", "IsDeleted", "Name", "PasswordHash", "RefreshToken", "RefreshTokenExpiryTime", "Role")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
2025-06-13 15:47:56.721 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?', @p3='?', @p4='?', @p5='?', @p6='?' (DbType = DateTime), @p7='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AuditLogs" ("Id", "ActionType", "NewValues", "OldValues", "PrimaryKey", "TableName", "Timestamp", "UserId")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
2025-06-13 15:47:56.741 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Double), @p2='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Buyers" ("Id", "Budget", "PreferredLocation")
VALUES (@p0, @p1, @p2);
2025-06-13 15:47:56.746 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?', @p3='?', @p4='?', @p5='?', @p6='?' (DbType = DateTime), @p7='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AuditLogs" ("Id", "ActionType", "NewValues", "OldValues", "PrimaryKey", "TableName", "Timestamp", "UserId")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
2025-06-13 15:47:56.760 +05:30 [INF] Executing CreatedResult, writing value of type 'RealEstateApi.Models.DTOs.AuthResponseDto'.
2025-06-13 15:47:56.762 +05:30 [INF] Executed action RealEstateApi.Controllers.BuyersController.RegisterBuyer (RealEstateApi) in 381.8527ms
2025-06-13 15:47:56.762 +05:30 [INF] Executed endpoint 'RealEstateApi.Controllers.BuyersController.RegisterBuyer (RealEstateApi)'
2025-06-13 15:47:56.762 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5009/api/v1/Buyers/register - 201 null application/json; charset=utf-8 388.8511ms
2025-06-13 15:48:08.377 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5009/api/v1/Buyers - null null
2025-06-13 15:48:08.378 +05:30 [INF] Executing endpoint 'RealEstateApi.Controllers.BuyersController.GetFilteredBuyers (RealEstateApi)'
2025-06-13 15:48:08.383 +05:30 [INF] Route matched with {action = "GetFilteredBuyers", controller = "Buyers"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[RealEstateApi.Models.DTOs.PagedResult`1[RealEstateApi.Models.Buyer]]] GetFilteredBuyers(RealEstateApi.Models.DTOs.BuyerQueryDto) on controller RealEstateApi.Controllers.BuyersController (RealEstateApi).
2025-06-13 15:48:08.419 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT b."Id", b."Budget", b."PreferredLocation", u."Id", u."CreatedAt", u."Email", u."IsDeleted", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", i."Id", i."BuyerId", i."CreatedAt", i."ListingId", i."Message"
FROM "Buyers" AS b
INNER JOIN "Users" AS u ON b."Id" = u."Id"
LEFT JOIN "Inquiries" AS i ON b."Id" = i."BuyerId"
WHERE NOT (u."IsDeleted")
ORDER BY b."Id", u."Id"
2025-06-13 15:48:08.423 +05:30 [INF] Executing OkObjectResult, writing value of type 'RealEstateApi.Models.DTOs.PagedResult`1[[RealEstateApi.Models.Buyer, RealEstateApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-13 15:48:08.427 +05:30 [INF] Executed action RealEstateApi.Controllers.BuyersController.GetFilteredBuyers (RealEstateApi) in 43.5476ms
2025-06-13 15:48:08.427 +05:30 [INF] Executed endpoint 'RealEstateApi.Controllers.BuyersController.GetFilteredBuyers (RealEstateApi)'
2025-06-13 15:48:08.427 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5009/api/v1/Buyers - 200 null application/json; charset=utf-8 49.7693ms
2025-06-13 15:48:39.234 +05:30 [INF] Request starting HTTP/1.1 DELETE http://localhost:5009/api/v1/User/019768cb-cee5-726c-8b2f-e01b57da1b1a - null null
2025-06-13 15:48:39.235 +05:30 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin)
2025-06-13 15:48:39.235 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2025-06-13 15:48:39.235 +05:30 [INF] Request finished HTTP/1.1 DELETE http://localhost:5009/api/v1/User/019768cb-cee5-726c-8b2f-e01b57da1b1a - 401 0 null 1.5542ms
2025-06-13 15:48:51.872 +05:30 [INF] Request starting HTTP/1.1 DELETE http://localhost:5009/api/v1/User/019768cb-cee5-726c-8b2f-e01b57da1b1a - null null
2025-06-13 15:48:51.872 +05:30 [INF] Executing endpoint 'RealEstateApi.Controllers.UserController.DeleteUser (RealEstateApi)'
2025-06-13 15:48:51.876 +05:30 [INF] Route matched with {action = "DeleteUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DeleteUser(System.Guid) on controller RealEstateApi.Controllers.UserController (RealEstateApi).
2025-06-13 15:48:51.881 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."Email", u."IsDeleted", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role"
FROM "Users" AS u
WHERE NOT (u."IsDeleted") AND u."Id" = @__id_0
LIMIT 2
2025-06-13 15:48:51.882 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."Email", u."IsDeleted", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role"
FROM "Users" AS u
WHERE NOT (u."IsDeleted") AND u."Id" = @__id_0
LIMIT 2
2025-06-13 15:48:51.884 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@p1='?' (DbType = Guid), @p0='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Users" SET "IsDeleted" = @p0
WHERE "Id" = @p1;
2025-06-13 15:48:51.886 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?', @p3='?', @p4='?', @p5='?', @p6='?' (DbType = DateTime), @p7='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AuditLogs" ("Id", "ActionType", "NewValues", "OldValues", "PrimaryKey", "TableName", "Timestamp", "UserId")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
2025-06-13 15:48:51.886 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType1`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Guid, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-06-13 15:48:51.897 +05:30 [INF] Executed action RealEstateApi.Controllers.UserController.DeleteUser (RealEstateApi) in 20.412ms
2025-06-13 15:48:51.897 +05:30 [INF] Executed endpoint 'RealEstateApi.Controllers.UserController.DeleteUser (RealEstateApi)'
2025-06-13 15:48:51.897 +05:30 [INF] Request finished HTTP/1.1 DELETE http://localhost:5009/api/v1/User/019768cb-cee5-726c-8b2f-e01b57da1b1a - 200 null application/json; charset=utf-8 25.3254ms
2025-06-13 15:49:04.337 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5009/api/v1/Buyers/register - application/json 124
2025-06-13 15:49:04.338 +05:30 [INF] Executing endpoint 'RealEstateApi.Controllers.BuyersController.RegisterBuyer (RealEstateApi)'
2025-06-13 15:49:04.338 +05:30 [INF] Route matched with {action = "RegisterBuyer", controller = "Buyers"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[RealEstateApi.Models.DTOs.AuthResponseDto]] RegisterBuyer(RealEstateApi.Models.DTOs.RegisterBuyerDto) on controller RealEstateApi.Controllers.BuyersController (RealEstateApi).
2025-06-13 15:49:04.340 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."Email", u."IsDeleted", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role"
FROM "Users" AS u
WHERE NOT (u."IsDeleted")
2025-06-13 15:49:04.602 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime), @p2='?', @p3='?' (DbType = Boolean), @p4='?', @p5='?', @p6='?', @p7='?' (DbType = DateTime), @p8='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Users" ("Id", "CreatedAt", "Email", "IsDeleted", "Name", "PasswordHash", "RefreshToken", "RefreshTokenExpiryTime", "Role")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
2025-06-13 15:49:04.605 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?', @p3='?', @p4='?', @p5='?', @p6='?' (DbType = DateTime), @p7='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AuditLogs" ("Id", "ActionType", "NewValues", "OldValues", "PrimaryKey", "TableName", "Timestamp", "UserId")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
2025-06-13 15:49:04.607 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Double), @p2='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Buyers" ("Id", "Budget", "PreferredLocation")
VALUES (@p0, @p1, @p2);
2025-06-13 15:49:04.609 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?', @p3='?', @p4='?', @p5='?', @p6='?' (DbType = DateTime), @p7='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AuditLogs" ("Id", "ActionType", "NewValues", "OldValues", "PrimaryKey", "TableName", "Timestamp", "UserId")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
2025-06-13 15:49:04.610 +05:30 [INF] Executing CreatedResult, writing value of type 'RealEstateApi.Models.DTOs.AuthResponseDto'.
2025-06-13 15:49:04.610 +05:30 [INF] Executed action RealEstateApi.Controllers.BuyersController.RegisterBuyer (RealEstateApi) in 272.0662ms
2025-06-13 15:49:04.610 +05:30 [INF] Executed endpoint 'RealEstateApi.Controllers.BuyersController.RegisterBuyer (RealEstateApi)'
2025-06-13 15:49:04.610 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5009/api/v1/Buyers/register - 201 null application/json; charset=utf-8 272.799ms
2025-06-13 15:49:10.473 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5009/api/v1/Buyers - null null
2025-06-13 15:49:10.473 +05:30 [INF] Executing endpoint 'RealEstateApi.Controllers.BuyersController.GetFilteredBuyers (RealEstateApi)'
2025-06-13 15:49:10.473 +05:30 [INF] Route matched with {action = "GetFilteredBuyers", controller = "Buyers"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[RealEstateApi.Models.DTOs.PagedResult`1[RealEstateApi.Models.Buyer]]] GetFilteredBuyers(RealEstateApi.Models.DTOs.BuyerQueryDto) on controller RealEstateApi.Controllers.BuyersController (RealEstateApi).
2025-06-13 15:49:10.476 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT b."Id", b."Budget", b."PreferredLocation", u."Id", u."CreatedAt", u."Email", u."IsDeleted", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", i."Id", i."BuyerId", i."CreatedAt", i."ListingId", i."Message"
FROM "Buyers" AS b
INNER JOIN "Users" AS u ON b."Id" = u."Id"
LEFT JOIN "Inquiries" AS i ON b."Id" = i."BuyerId"
WHERE NOT (u."IsDeleted")
ORDER BY b."Id", u."Id"
2025-06-13 15:49:10.477 +05:30 [INF] Executing OkObjectResult, writing value of type 'RealEstateApi.Models.DTOs.PagedResult`1[[RealEstateApi.Models.Buyer, RealEstateApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-13 15:49:10.477 +05:30 [INF] Executed action RealEstateApi.Controllers.BuyersController.GetFilteredBuyers (RealEstateApi) in 3.7609ms
2025-06-13 15:49:10.477 +05:30 [INF] Executed endpoint 'RealEstateApi.Controllers.BuyersController.GetFilteredBuyers (RealEstateApi)'
2025-06-13 15:49:10.477 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5009/api/v1/Buyers - 200 null application/json; charset=utf-8 4.441ms
2025-06-13 15:50:31.772 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5009/api/v1/Buyers - null null
2025-06-13 15:50:31.772 +05:30 [INF] Executing endpoint 'RealEstateApi.Controllers.BuyersController.GetFilteredBuyers (RealEstateApi)'
2025-06-13 15:50:31.772 +05:30 [INF] Route matched with {action = "GetFilteredBuyers", controller = "Buyers"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[RealEstateApi.Models.DTOs.PagedResult`1[RealEstateApi.Models.Buyer]]] GetFilteredBuyers(RealEstateApi.Models.DTOs.BuyerQueryDto) on controller RealEstateApi.Controllers.BuyersController (RealEstateApi).
2025-06-13 15:50:31.785 +05:30 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT b."Id", b."Budget", b."PreferredLocation", u."Id", u."CreatedAt", u."Email", u."IsDeleted", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", i."Id", i."BuyerId", i."CreatedAt", i."ListingId", i."Message"
FROM "Buyers" AS b
INNER JOIN "Users" AS u ON b."Id" = u."Id"
LEFT JOIN "Inquiries" AS i ON b."Id" = i."BuyerId"
WHERE NOT (u."IsDeleted")
ORDER BY b."Id", u."Id"
2025-06-13 15:50:31.786 +05:30 [INF] Executing OkObjectResult, writing value of type 'RealEstateApi.Models.DTOs.PagedResult`1[[RealEstateApi.Models.Buyer, RealEstateApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-13 15:50:31.787 +05:30 [INF] Executed action RealEstateApi.Controllers.BuyersController.GetFilteredBuyers (RealEstateApi) in 14.3099ms
2025-06-13 15:50:31.787 +05:30 [INF] Executed endpoint 'RealEstateApi.Controllers.BuyersController.GetFilteredBuyers (RealEstateApi)'
2025-06-13 15:50:31.787 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5009/api/v1/Buyers - 200 null application/json; charset=utf-8 15.019ms
2025-06-13 15:51:24.901 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5009/api/v1/Buyers - null null
2025-06-13 15:51:24.902 +05:30 [INF] Executing endpoint 'RealEstateApi.Controllers.BuyersController.GetFilteredBuyers (RealEstateApi)'
2025-06-13 15:51:24.902 +05:30 [INF] Route matched with {action = "GetFilteredBuyers", controller = "Buyers"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[RealEstateApi.Models.DTOs.PagedResult`1[RealEstateApi.Models.Buyer]]] GetFilteredBuyers(RealEstateApi.Models.DTOs.BuyerQueryDto) on controller RealEstateApi.Controllers.BuyersController (RealEstateApi).
2025-06-13 15:51:24.904 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT b."Id", b."Budget", b."PreferredLocation", u."Id", u."CreatedAt", u."Email", u."IsDeleted", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", i."Id", i."BuyerId", i."CreatedAt", i."ListingId", i."Message"
FROM "Buyers" AS b
INNER JOIN "Users" AS u ON b."Id" = u."Id"
LEFT JOIN "Inquiries" AS i ON b."Id" = i."BuyerId"
WHERE NOT (u."IsDeleted")
ORDER BY b."Id", u."Id"
2025-06-13 15:51:24.904 +05:30 [INF] Executing OkObjectResult, writing value of type 'RealEstateApi.Models.DTOs.PagedResult`1[[RealEstateApi.Models.Buyer, RealEstateApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-13 15:51:24.905 +05:30 [INF] Executed action RealEstateApi.Controllers.BuyersController.GetFilteredBuyers (RealEstateApi) in 3.003ms
2025-06-13 15:51:24.905 +05:30 [INF] Executed endpoint 'RealEstateApi.Controllers.BuyersController.GetFilteredBuyers (RealEstateApi)'
2025-06-13 15:51:24.905 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5009/api/v1/Buyers - 200 null application/json; charset=utf-8 3.9443ms
2025-06-13 15:52:36.634 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5009/api/v1/Auth/login - application/json 58
2025-06-13 15:52:36.636 +05:30 [INF] Executing endpoint 'RealEstateApi.Controllers.AuthController.Login (RealEstateApi)'
2025-06-13 15:52:36.639 +05:30 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[RealEstateApi.Models.DTOs.AuthResponseDto]] Login(RealEstateApi.Models.DTOs.LoginDto) on controller RealEstateApi.Controllers.AuthController (RealEstateApi).
2025-06-13 15:52:36.664 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."Email", u."IsDeleted", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role"
FROM "Users" AS u
WHERE NOT (u."IsDeleted")
2025-06-13 15:52:36.848 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."Email", u."IsDeleted", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role"
FROM "Users" AS u
WHERE NOT (u."IsDeleted") AND u."Id" = @__id_0
LIMIT 2
2025-06-13 15:52:36.852 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@p2='?' (DbType = Guid), @p0='?', @p1='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Users" SET "RefreshToken" = @p0, "RefreshTokenExpiryTime" = @p1
WHERE "Id" = @p2;
2025-06-13 15:52:36.854 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?', @p3='?', @p4='?', @p5='?', @p6='?' (DbType = DateTime), @p7='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AuditLogs" ("Id", "ActionType", "NewValues", "OldValues", "PrimaryKey", "TableName", "Timestamp", "UserId")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
2025-06-13 15:52:36.854 +05:30 [INF] Executing OkObjectResult, writing value of type 'RealEstateApi.Models.DTOs.AuthResponseDto'.
2025-06-13 15:52:36.854 +05:30 [INF] Executed action RealEstateApi.Controllers.AuthController.Login (RealEstateApi) in 215.2535ms
2025-06-13 15:52:36.854 +05:30 [INF] Executed endpoint 'RealEstateApi.Controllers.AuthController.Login (RealEstateApi)'
2025-06-13 15:52:36.854 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5009/api/v1/Auth/login - 200 null application/json; charset=utf-8 220.1364ms
2025-06-13 15:53:40.609 +05:30 [INF] Request starting HTTP/1.1 PUT http://localhost:5009/api/v1/Buyers/019765a9-9adc-7239-9581-0aa38918223b - application/json 57
2025-06-13 15:53:40.610 +05:30 [INF] Executing endpoint 'RealEstateApi.Controllers.BuyersController.UpdateBuyer (RealEstateApi)'
2025-06-13 15:53:40.613 +05:30 [INF] Route matched with {action = "UpdateBuyer", controller = "Buyers"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateBuyer(System.Guid, RealEstateApi.Models.DTOs.UpdateBuyerDto) on controller RealEstateApi.Controllers.BuyersController (RealEstateApi).
2025-06-13 15:53:40.652 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Budget", s."PreferredLocation", s."Id0", s."CreatedAt", s."Email", s."IsDeleted", s."Name", s."PasswordHash", s."RefreshToken", s."RefreshTokenExpiryTime", s."Role", i."Id", i."BuyerId", i."CreatedAt", i."ListingId", i."Message"
FROM (
    SELECT b."Id", b."Budget", b."PreferredLocation", u."Id" AS "Id0", u."CreatedAt", u."Email", u."IsDeleted", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role"
    FROM "Buyers" AS b
    INNER JOIN "Users" AS u ON b."Id" = u."Id"
    WHERE NOT (u."IsDeleted") AND b."Id" = @__id_0
    LIMIT 1
) AS s
LEFT JOIN "Inquiries" AS i ON s."Id" = i."BuyerId"
ORDER BY s."Id", s."Id0"
2025-06-13 15:53:40.657 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."Budget", s."PreferredLocation", s."Id0", s."CreatedAt", s."Email", s."IsDeleted", s."Name", s."PasswordHash", s."RefreshToken", s."RefreshTokenExpiryTime", s."Role", i."Id", i."BuyerId", i."CreatedAt", i."ListingId", i."Message"
FROM (
    SELECT b."Id", b."Budget", b."PreferredLocation", u."Id" AS "Id0", u."CreatedAt", u."Email", u."IsDeleted", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role"
    FROM "Buyers" AS b
    INNER JOIN "Users" AS u ON b."Id" = u."Id"
    WHERE NOT (u."IsDeleted") AND b."Id" = @__id_0
    LIMIT 1
) AS s
LEFT JOIN "Inquiries" AS i ON s."Id" = i."BuyerId"
ORDER BY s."Id", s."Id0"
2025-06-13 15:53:40.657 +05:30 [INF] Executing OkObjectResult, writing value of type 'RealEstateApi.Models.Buyer'.
2025-06-13 15:53:40.658 +05:30 [INF] Executed action RealEstateApi.Controllers.BuyersController.UpdateBuyer (RealEstateApi) in 44.2266ms
2025-06-13 15:53:40.658 +05:30 [INF] Executed endpoint 'RealEstateApi.Controllers.BuyersController.UpdateBuyer (RealEstateApi)'
2025-06-13 15:53:40.658 +05:30 [INF] Request finished HTTP/1.1 PUT http://localhost:5009/api/v1/Buyers/019765a9-9adc-7239-9581-0aa38918223b - 200 null application/json; charset=utf-8 48.1391ms
2025-06-13 15:55:43.934 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5009/api/v1/Agents - null null
2025-06-13 15:55:43.935 +05:30 [INF] Executing endpoint 'RealEstateApi.Controllers.AgentsController.GetFilteredAgents (RealEstateApi)'
2025-06-13 15:55:43.939 +05:30 [INF] Route matched with {action = "GetFilteredAgents", controller = "Agents"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetFilteredAgents(AgentQueryDto) on controller RealEstateApi.Controllers.AgentsController (RealEstateApi).
2025-06-13 15:55:43.978 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AgencyName", a."LicenseNumber", a."Phone", u."Id", u."CreatedAt", u."Email", u."IsDeleted", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", p."Id", p."AgentId", p."Bathrooms", p."Bedrooms", p."CreatedAt", p."Description", p."IsDeleted", p."Location", p."Price", p."SquareFeet", p."Title"
FROM "Agents" AS a
INNER JOIN "Users" AS u ON a."Id" = u."Id"
LEFT JOIN "PropertyListings" AS p ON a."Id" = p."AgentId"
WHERE NOT (u."IsDeleted")
ORDER BY a."Id", u."Id"
2025-06-13 15:55:43.984 +05:30 [INF] Executing OkObjectResult, writing value of type 'RealEstateApi.Models.DTOs.PagedResult`1[[RealEstateApi.Models.Agent, RealEstateApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-13 15:55:43.986 +05:30 [INF] Executed action RealEstateApi.Controllers.AgentsController.GetFilteredAgents (RealEstateApi) in 46.9264ms
2025-06-13 15:55:43.986 +05:30 [INF] Executed endpoint 'RealEstateApi.Controllers.AgentsController.GetFilteredAgents (RealEstateApi)'
2025-06-13 15:55:43.986 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5009/api/v1/Agents - 200 null application/json; charset=utf-8 52.1401ms
2025-06-13 15:57:12.924 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5009/api/v1/Agents - null null
2025-06-13 15:57:12.924 +05:30 [INF] Executing endpoint 'RealEstateApi.Controllers.AgentsController.GetFilteredAgents (RealEstateApi)'
2025-06-13 15:57:12.925 +05:30 [INF] Route matched with {action = "GetFilteredAgents", controller = "Agents"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetFilteredAgents(AgentQueryDto) on controller RealEstateApi.Controllers.AgentsController (RealEstateApi).
2025-06-13 15:57:12.927 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AgencyName", a."LicenseNumber", a."Phone", u."Id", u."CreatedAt", u."Email", u."IsDeleted", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", p."Id", p."AgentId", p."Bathrooms", p."Bedrooms", p."CreatedAt", p."Description", p."IsDeleted", p."Location", p."Price", p."SquareFeet", p."Title"
FROM "Agents" AS a
INNER JOIN "Users" AS u ON a."Id" = u."Id"
LEFT JOIN "PropertyListings" AS p ON a."Id" = p."AgentId"
WHERE NOT (u."IsDeleted")
ORDER BY a."Id", u."Id"
2025-06-13 15:57:12.928 +05:30 [INF] Executing OkObjectResult, writing value of type 'RealEstateApi.Models.DTOs.PagedResult`1[[RealEstateApi.Models.Agent, RealEstateApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-13 15:57:12.929 +05:30 [INF] Executed action RealEstateApi.Controllers.AgentsController.GetFilteredAgents (RealEstateApi) in 4.3844ms
2025-06-13 15:57:12.929 +05:30 [INF] Executed endpoint 'RealEstateApi.Controllers.AgentsController.GetFilteredAgents (RealEstateApi)'
2025-06-13 15:57:12.929 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5009/api/v1/Agents - 200 null application/json; charset=utf-8 5.0775ms
2025-06-13 15:58:00.673 +05:30 [INF] Request starting HTTP/1.1 PUT http://localhost:5009/api/v1/Agents/0197657b-4d7b-723f-8b6b-63d0ee6ead85 - application/json 91
2025-06-13 15:58:00.674 +05:30 [INF] Executing endpoint 'RealEstateApi.Controllers.AgentsController.UpdateAgent (RealEstateApi)'
2025-06-13 15:58:00.678 +05:30 [INF] Route matched with {action = "UpdateAgent", controller = "Agents"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateAgent(System.Guid, RealEstateApi.Models.DTOs.UpdateAgentDto) on controller RealEstateApi.Controllers.AgentsController (RealEstateApi).
2025-06-13 15:58:00.709 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."AgencyName", s."LicenseNumber", s."Phone", s."Id0", s."CreatedAt", s."Email", s."IsDeleted", s."Name", s."PasswordHash", s."RefreshToken", s."RefreshTokenExpiryTime", s."Role", p."Id", p."AgentId", p."Bathrooms", p."Bedrooms", p."CreatedAt", p."Description", p."IsDeleted", p."Location", p."Price", p."SquareFeet", p."Title"
FROM (
    SELECT a."Id", a."AgencyName", a."LicenseNumber", a."Phone", u."Id" AS "Id0", u."CreatedAt", u."Email", u."IsDeleted", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role"
    FROM "Agents" AS a
    INNER JOIN "Users" AS u ON a."Id" = u."Id"
    WHERE NOT (u."IsDeleted") AND a."Id" = @__id_0
    LIMIT 2
) AS s
LEFT JOIN "PropertyListings" AS p ON s."Id" = p."AgentId"
ORDER BY s."Id", s."Id0"
2025-06-13 15:58:00.713 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."AgencyName", s."LicenseNumber", s."Phone", s."Id0", s."CreatedAt", s."Email", s."IsDeleted", s."Name", s."PasswordHash", s."RefreshToken", s."RefreshTokenExpiryTime", s."Role", p."Id", p."AgentId", p."Bathrooms", p."Bedrooms", p."CreatedAt", p."Description", p."IsDeleted", p."Location", p."Price", p."SquareFeet", p."Title"
FROM (
    SELECT a."Id", a."AgencyName", a."LicenseNumber", a."Phone", u."Id" AS "Id0", u."CreatedAt", u."Email", u."IsDeleted", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role"
    FROM "Agents" AS a
    INNER JOIN "Users" AS u ON a."Id" = u."Id"
    WHERE NOT (u."IsDeleted") AND a."Id" = @__id_0
    LIMIT 2
) AS s
LEFT JOIN "PropertyListings" AS p ON s."Id" = p."AgentId"
ORDER BY s."Id", s."Id0"
2025-06-13 15:58:00.729 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@p1='?' (DbType = Guid), @p0='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "Agents" SET "AgencyName" = @p0
WHERE "Id" = @p1;
2025-06-13 15:58:00.731 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?', @p3='?', @p4='?', @p5='?', @p6='?' (DbType = DateTime), @p7='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AuditLogs" ("Id", "ActionType", "NewValues", "OldValues", "PrimaryKey", "TableName", "Timestamp", "UserId")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
2025-06-13 15:58:00.731 +05:30 [INF] Executing OkObjectResult, writing value of type 'RealEstateApi.Models.Agent'.
2025-06-13 15:58:00.732 +05:30 [INF] Executed action RealEstateApi.Controllers.AgentsController.UpdateAgent (RealEstateApi) in 53.5942ms
2025-06-13 15:58:00.732 +05:30 [INF] Executed endpoint 'RealEstateApi.Controllers.AgentsController.UpdateAgent (RealEstateApi)'
2025-06-13 15:58:00.732 +05:30 [INF] Request finished HTTP/1.1 PUT http://localhost:5009/api/v1/Agents/0197657b-4d7b-723f-8b6b-63d0ee6ead85 - 200 null application/json; charset=utf-8 59.0815ms
2025-06-13 15:58:50.274 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5009/api/v1/Auth/login - application/json 62
2025-06-13 15:58:50.275 +05:30 [INF] Executing endpoint 'RealEstateApi.Controllers.AuthController.Login (RealEstateApi)'
2025-06-13 15:58:50.276 +05:30 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[RealEstateApi.Models.DTOs.AuthResponseDto]] Login(RealEstateApi.Models.DTOs.LoginDto) on controller RealEstateApi.Controllers.AuthController (RealEstateApi).
2025-06-13 15:58:50.278 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."Email", u."IsDeleted", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role"
FROM "Users" AS u
WHERE NOT (u."IsDeleted")
2025-06-13 15:58:50.459 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."Email", u."IsDeleted", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role"
FROM "Users" AS u
WHERE NOT (u."IsDeleted") AND u."Id" = @__id_0
LIMIT 2
2025-06-13 15:58:50.461 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@p2='?' (DbType = Guid), @p0='?', @p1='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Users" SET "RefreshToken" = @p0, "RefreshTokenExpiryTime" = @p1
WHERE "Id" = @p2;
2025-06-13 15:58:50.463 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?', @p3='?', @p4='?', @p5='?', @p6='?' (DbType = DateTime), @p7='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AuditLogs" ("Id", "ActionType", "NewValues", "OldValues", "PrimaryKey", "TableName", "Timestamp", "UserId")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
2025-06-13 15:58:50.463 +05:30 [INF] Executing OkObjectResult, writing value of type 'RealEstateApi.Models.DTOs.AuthResponseDto'.
2025-06-13 15:58:50.463 +05:30 [INF] Executed action RealEstateApi.Controllers.AuthController.Login (RealEstateApi) in 187.5309ms
2025-06-13 15:58:50.463 +05:30 [INF] Executed endpoint 'RealEstateApi.Controllers.AuthController.Login (RealEstateApi)'
2025-06-13 15:58:50.463 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5009/api/v1/Auth/login - 200 null application/json; charset=utf-8 189.612ms
2025-06-13 15:59:44.528 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5009/api/v1/Auth/refresh - application/json 112
2025-06-13 15:59:44.530 +05:30 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-06-13 15:59:44.541 +05:30 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-06-13 15:59:44.542 +05:30 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-06-13 15:59:44.543 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2025-06-13 15:59:44.543 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5009/api/v1/Auth/refresh - 401 0 null 14.9895ms
2025-06-13 16:13:44.581 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5009/api/v1/User - null null
2025-06-13 16:13:44.588 +05:30 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin)
2025-06-13 16:13:44.588 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2025-06-13 16:13:44.588 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5009/api/v1/User - 401 0 null 7.7501ms
