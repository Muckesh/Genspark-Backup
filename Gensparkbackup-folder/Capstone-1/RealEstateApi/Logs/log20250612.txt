2025-06-12 13:34:08.395 +05:30 [INF] User profile is available. Using '/Users/muckesh/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2025-06-12 13:34:08.545 +05:30 [INF] Now listening on: http://localhost:5009
2025-06-12 13:34:08.549 +05:30 [INF] Application started. Press Ctrl+C to shut down.
2025-06-12 13:34:08.550 +05:30 [INF] Hosting environment: Development
2025-06-12 13:34:08.550 +05:30 [INF] Content root path: /Users/muckesh/Muckesh/Presidio/Genspark-Training/Capstone-1/RealEstateApi
2025-06-12 13:34:33.956 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5009/swagger/index.html - null null
2025-06-12 13:34:34.051 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5009/swagger/index.html - 200 null text/html;charset=utf-8 97.9778ms
2025-06-12 13:34:34.249 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5009/swagger/v1/swagger.json - null null
2025-06-12 13:34:34.413 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5009/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 165.1031ms
2025-06-12 13:34:38.797 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5009/api/v1/Agents - null null
2025-06-12 13:34:38.835 +05:30 [WRN] Failed to determine the https port for redirect.
2025-06-12 13:34:38.881 +05:30 [INF] Executing endpoint 'RealEstateApi.Controllers.AgentsController.GetAgents (RealEstateApi)'
2025-06-12 13:34:38.907 +05:30 [INF] Route matched with {action = "GetAgents", controller = "Agents"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[RealEstateApi.Models.Agent]]] GetAgents() on controller RealEstateApi.Controllers.AgentsController (RealEstateApi).
2025-06-12 13:34:40.213 +05:30 [INF] Executed DbCommand (21ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AgencyName", a."LicenseNumber", a."Phone", u."Id", u."CreatedAt", u."Email", u."IsDeleted", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", p."Id", p."AgentId", p."Bathrooms", p."Bedrooms", p."CreatedAt", p."Description", p."IsDeleted", p."Location", p."Price", p."SquareFeet", p."Title"
FROM "Agents" AS a
INNER JOIN "Users" AS u ON a."Id" = u."Id"
LEFT JOIN "PropertyListings" AS p ON a."Id" = p."AgentId"
WHERE NOT (u."IsDeleted")
ORDER BY a."Id", u."Id"
2025-06-12 13:34:40.397 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[RealEstateApi.Models.Agent, RealEstateApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-12 13:34:40.452 +05:30 [INF] Executed action RealEstateApi.Controllers.AgentsController.GetAgents (RealEstateApi) in 1540.2096ms
2025-06-12 13:34:40.452 +05:30 [INF] Executed endpoint 'RealEstateApi.Controllers.AgentsController.GetAgents (RealEstateApi)'
2025-06-12 13:34:40.461 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5009/api/v1/Agents - 200 null application/json; charset=utf-8 1663.3722ms
2025-06-12 13:35:02.465 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5009/api/v1/PropertyImages/admin/images/cleanup - null 0
2025-06-12 13:35:02.473 +05:30 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin)
2025-06-12 13:35:02.478 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2025-06-12 13:35:02.479 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5009/api/v1/PropertyImages/admin/images/cleanup - 401 0 null 13.5698ms
2025-06-12 14:02:51.709 +05:30 [INF] Application is shutting down...
2025-06-12 14:57:37.583 +05:30 [INF] User profile is available. Using '/Users/muckesh/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2025-06-12 14:57:37.719 +05:30 [INF] Now listening on: http://localhost:5009
2025-06-12 14:57:37.722 +05:30 [INF] Application started. Press Ctrl+C to shut down.
2025-06-12 14:57:37.723 +05:30 [INF] Hosting environment: Development
2025-06-12 14:57:37.723 +05:30 [INF] Content root path: /Users/muckesh/Muckesh/Presidio/Genspark-Training/Capstone-1/RealEstateApi
2025-06-12 14:58:20.510 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5009/api/v1/Buyers/filter - null null
2025-06-12 14:58:20.563 +05:30 [WRN] Failed to determine the https port for redirect.
2025-06-12 14:58:20.612 +05:30 [INF] Executing endpoint 'RealEstateApi.Controllers.BuyersController.GetFilteredBuyers (RealEstateApi)'
2025-06-12 14:58:20.650 +05:30 [INF] Route matched with {action = "GetFilteredBuyers", controller = "Buyers"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[RealEstateApi.Models.DTOs.PagedResult`1[RealEstateApi.Models.Buyer]]] GetFilteredBuyers(RealEstateApi.Models.DTOs.BuyerQueryDto) on controller RealEstateApi.Controllers.BuyersController (RealEstateApi).
2025-06-12 14:58:22.293 +05:30 [INF] Executed DbCommand (23ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT b."Id", b."Budget", b."PreferredLocation", u."Id", u."CreatedAt", u."Email", u."IsDeleted", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", i."Id", i."BuyerId", i."CreatedAt", i."ListingId", i."Message"
FROM "Buyers" AS b
INNER JOIN "Users" AS u ON b."Id" = u."Id"
LEFT JOIN "Inquiries" AS i ON b."Id" = i."BuyerId"
WHERE NOT (u."IsDeleted")
ORDER BY b."Id", u."Id"
2025-06-12 14:58:22.323 +05:30 [INF] Executing OkObjectResult, writing value of type 'RealEstateApi.Models.DTOs.PagedResult`1[[RealEstateApi.Models.Buyer, RealEstateApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-12 14:58:22.410 +05:30 [INF] Executed action RealEstateApi.Controllers.BuyersController.GetFilteredBuyers (RealEstateApi) in 1755.1436ms
2025-06-12 14:58:22.412 +05:30 [INF] Executed endpoint 'RealEstateApi.Controllers.BuyersController.GetFilteredBuyers (RealEstateApi)'
2025-06-12 14:58:22.425 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5009/api/v1/Buyers/filter - 200 null application/json; charset=utf-8 1918.5487ms
2025-06-12 14:59:11.099 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5009/api/v1/PropertyListings/search - null null
2025-06-12 14:59:11.118 +05:30 [INF] Executing endpoint 'RealEstateApi.Controllers.PropertyListingsController.SearchListings (RealEstateApi)'
2025-06-12 14:59:11.126 +05:30 [INF] Route matched with {action = "SearchListings", controller = "PropertyListings"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SearchListings(RealEstateApi.Models.DTOs.PropertyListingQueryParametersDto) on controller RealEstateApi.Controllers.PropertyListingsController (RealEstateApi).
2025-06-12 14:59:11.178 +05:30 [WRN] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2025-06-12 14:59:11.213 +05:30 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."AgentId", p."Bathrooms", p."Bedrooms", p."CreatedAt", p."Description", p."IsDeleted", p."Location", p."Price", p."SquareFeet", p."Title", a."Id", a."AgencyName", a."LicenseNumber", a."Phone", p1."Id", p1."DeletedAt", p1."FileName", p1."FileUrl", p1."IsDeleted", p1."PropertyListingId", i."Id", i."BuyerId", i."CreatedAt", i."ListingId", i."Message"
FROM "PropertyListings" AS p
INNER JOIN "Agents" AS a ON p."AgentId" = a."Id"
LEFT JOIN (
    SELECT p0."Id", p0."DeletedAt", p0."FileName", p0."FileUrl", p0."IsDeleted", p0."PropertyListingId"
    FROM "PropertyImages" AS p0
    WHERE NOT (p0."IsDeleted")
) AS p1 ON p."Id" = p1."PropertyListingId"
LEFT JOIN "Inquiries" AS i ON p."Id" = i."ListingId"
WHERE NOT (p."IsDeleted")
ORDER BY p."Id", a."Id", p1."Id"
2025-06-12 14:59:11.215 +05:30 [INF] Executing OkObjectResult, writing value of type 'RealEstateApi.Models.DTOs.PagedResult`1[[RealEstateApi.Models.PropertyListing, RealEstateApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-12 14:59:11.219 +05:30 [INF] Executed action RealEstateApi.Controllers.PropertyListingsController.SearchListings (RealEstateApi) in 92.8512ms
2025-06-12 14:59:11.219 +05:30 [INF] Executed endpoint 'RealEstateApi.Controllers.PropertyListingsController.SearchListings (RealEstateApi)'
2025-06-12 14:59:11.220 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5009/api/v1/PropertyListings/search - 200 null application/json; charset=utf-8 122.1657ms
2025-06-12 14:59:20.121 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5009/api/v1/PropertyListings/all - null null
2025-06-12 14:59:20.139 +05:30 [INF] Executing endpoint 'RealEstateApi.Controllers.PropertyListingsController.GetAllListings (RealEstateApi)'
2025-06-12 14:59:20.144 +05:30 [INF] Route matched with {action = "GetAllListings", controller = "PropertyListings"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllListings() on controller RealEstateApi.Controllers.PropertyListingsController (RealEstateApi).
2025-06-12 14:59:20.215 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."AgentId", p."Bathrooms", p."Bedrooms", p."CreatedAt", p."Description", p."IsDeleted", p."Location", p."Price", p."SquareFeet", p."Title", a."Id", a."AgencyName", a."LicenseNumber", a."Phone", p1."Id", p1."DeletedAt", p1."FileName", p1."FileUrl", p1."IsDeleted", p1."PropertyListingId", i."Id", i."BuyerId", i."CreatedAt", i."ListingId", i."Message"
FROM "PropertyListings" AS p
INNER JOIN "Agents" AS a ON p."AgentId" = a."Id"
LEFT JOIN (
    SELECT p0."Id", p0."DeletedAt", p0."FileName", p0."FileUrl", p0."IsDeleted", p0."PropertyListingId"
    FROM "PropertyImages" AS p0
    WHERE NOT (p0."IsDeleted")
) AS p1 ON p."Id" = p1."PropertyListingId"
LEFT JOIN "Inquiries" AS i ON p."Id" = i."ListingId"
WHERE NOT (p."IsDeleted")
ORDER BY p."Id", a."Id", p1."Id"
2025-06-12 14:59:20.216 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[RealEstateApi.Models.PropertyListing, RealEstateApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-12 14:59:20.217 +05:30 [INF] Executed action RealEstateApi.Controllers.PropertyListingsController.GetAllListings (RealEstateApi) in 72.7753ms
2025-06-12 14:59:20.217 +05:30 [INF] Executed endpoint 'RealEstateApi.Controllers.PropertyListingsController.GetAllListings (RealEstateApi)'
2025-06-12 14:59:20.217 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5009/api/v1/PropertyListings/all - 200 null application/json; charset=utf-8 96.9106ms
2025-06-12 15:00:36.103 +05:30 [INF] Application is shutting down...
2025-06-12 15:00:45.985 +05:30 [INF] User profile is available. Using '/Users/muckesh/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2025-06-12 15:00:46.124 +05:30 [INF] Now listening on: http://localhost:5009
2025-06-12 15:00:46.127 +05:30 [INF] Application started. Press Ctrl+C to shut down.
2025-06-12 15:00:46.128 +05:30 [INF] Hosting environment: Development
2025-06-12 15:00:46.128 +05:30 [INF] Content root path: /Users/muckesh/Muckesh/Presidio/Genspark-Training/Capstone-1/RealEstateApi
2025-06-12 15:00:47.687 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5009/swagger/index.html - null null
2025-06-12 15:00:47.804 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5009/swagger/index.html - 200 null text/html;charset=utf-8 123.1015ms
2025-06-12 15:00:48.024 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5009/swagger/v1/swagger.json - null null
2025-06-12 15:00:48.219 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5009/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 196.2372ms
2025-06-12 15:00:48.262 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5009/swagger/index.html - null null
2025-06-12 15:00:48.263 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5009/swagger/index.html - 200 null text/html;charset=utf-8 1.0963ms
2025-06-12 15:00:48.371 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5009/swagger/v1/swagger.json - null null
2025-06-12 15:00:48.395 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5009/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 24.0162ms
2025-06-12 15:00:49.321 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5009/swagger/index.html - null null
2025-06-12 15:00:49.321 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5009/swagger/index.html - 200 null text/html;charset=utf-8 0.6629ms
2025-06-12 15:00:49.374 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5009/swagger/v1/swagger.json - null null
2025-06-12 15:00:49.398 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5009/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 23.9263ms
2025-06-12 15:01:46.431 +05:30 [INF] Application is shutting down...
2025-06-12 15:01:57.187 +05:30 [INF] User profile is available. Using '/Users/muckesh/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2025-06-12 15:01:57.329 +05:30 [INF] Now listening on: http://localhost:5009
2025-06-12 15:01:57.332 +05:30 [INF] Application started. Press Ctrl+C to shut down.
2025-06-12 15:01:57.333 +05:30 [INF] Hosting environment: Development
2025-06-12 15:01:57.333 +05:30 [INF] Content root path: /Users/muckesh/Muckesh/Presidio/Genspark-Training/Capstone-1/RealEstateApi
2025-06-12 15:02:25.442 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5009/swagger/index.html - null null
2025-06-12 15:02:25.547 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5009/swagger/index.html - 200 null text/html;charset=utf-8 108.8914ms
2025-06-12 15:02:25.609 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5009/swagger/v1/swagger.json - null null
2025-06-12 15:02:25.792 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5009/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 183.1026ms
2025-06-12 15:19:57.508 +05:30 [INF] Application is shutting down...
2025-06-12 15:20:08.297 +05:30 [INF] User profile is available. Using '/Users/muckesh/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2025-06-12 15:20:08.448 +05:30 [INF] Now listening on: http://localhost:5009
2025-06-12 15:20:08.451 +05:30 [INF] Application started. Press Ctrl+C to shut down.
2025-06-12 15:20:08.451 +05:30 [INF] Hosting environment: Development
2025-06-12 15:20:08.452 +05:30 [INF] Content root path: /Users/muckesh/Muckesh/Presidio/Genspark-Training/Capstone-1/RealEstateApi
2025-06-12 15:20:09.550 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5009/swagger/index.html - null null
2025-06-12 15:20:09.644 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5009/swagger/index.html - 200 null text/html;charset=utf-8 95.0477ms
2025-06-12 15:20:09.849 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5009/swagger/v1/swagger.json - null null
2025-06-12 15:20:10.032 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5009/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 184.1368ms
2025-06-12 15:20:46.507 +05:30 [INF] Application is shutting down...
2025-06-12 15:20:56.329 +05:30 [INF] User profile is available. Using '/Users/muckesh/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2025-06-12 15:20:56.470 +05:30 [INF] Now listening on: http://localhost:5009
2025-06-12 15:20:56.474 +05:30 [INF] Application started. Press Ctrl+C to shut down.
2025-06-12 15:20:56.475 +05:30 [INF] Hosting environment: Development
2025-06-12 15:20:56.475 +05:30 [INF] Content root path: /Users/muckesh/Muckesh/Presidio/Genspark-Training/Capstone-1/RealEstateApi
2025-06-12 15:20:57.569 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5009/swagger/index.html - null null
2025-06-12 15:20:57.672 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5009/swagger/index.html - 200 null text/html;charset=utf-8 104.4324ms
2025-06-12 15:20:57.768 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5009/swagger/v1/swagger.json - null null
2025-06-12 15:20:57.960 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5009/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 192.2009ms
2025-06-12 15:21:14.756 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5009/api/v1/Agents/register-agent - application/json 151
2025-06-12 15:21:14.789 +05:30 [WRN] Failed to determine the https port for redirect.
2025-06-12 15:21:14.836 +05:30 [INF] Executing endpoint 'RealEstateApi.Controllers.AgentsController.RegisterAgent (RealEstateApi)'
2025-06-12 15:21:14.873 +05:30 [INF] Route matched with {action = "RegisterAgent", controller = "Agents"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[RealEstateApi.Models.DTOs.AuthResponseDto]] RegisterAgent(RealEstateApi.Models.DTOs.RegisterAgentDto) on controller RealEstateApi.Controllers.AgentsController (RealEstateApi).
2025-06-12 15:21:16.322 +05:30 [INF] Executed DbCommand (25ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."Email", u."IsDeleted", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role"
FROM "Users" AS u
WHERE NOT (u."IsDeleted")
2025-06-12 15:21:16.464 +05:30 [INF] Executed action RealEstateApi.Controllers.AgentsController.RegisterAgent (RealEstateApi) in 1586.5987ms
2025-06-12 15:21:16.465 +05:30 [INF] Executed endpoint 'RealEstateApi.Controllers.AgentsController.RegisterAgent (RealEstateApi)'
2025-06-12 15:21:16.469 +05:30 [ERR] An unhandled exception has occurred while executing the request.
System.Exception: User already exists with the given email.
   at RealEstateApi.Controllers.AgentsController.RegisterAgent(RegisterAgentDto agentDto) in /Users/muckesh/Muckesh/Presidio/Genspark-Training/Capstone-1/RealEstateApi/Controllers/AgentsController.cs:line 38
   at lambda_method5(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at RealEstateApi.Middlewares.TokenBlacklistMiddleware.Invoke(HttpContext context) in /Users/muckesh/Muckesh/Presidio/Genspark-Training/Capstone-1/RealEstateApi/Middlewares/TokenBlacklistMiddleware.cs:line 32
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Program.<>c.<<<Main>$>b__0_7>d.MoveNext() in /Users/muckesh/Muckesh/Presidio/Genspark-Training/Capstone-1/RealEstateApi/Program.cs:line 173
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.RateLimiting.RateLimitingMiddleware.InvokeInternal(HttpContext context, EnableRateLimitingAttribute enableRateLimitingAttribute)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-06-12 15:21:16.509 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5009/api/v1/Agents/register-agent - 500 null text/plain; charset=utf-8 1752.627ms
2025-06-12 15:23:11.206 +05:30 [INF] Application is shutting down...
2025-06-12 15:23:20.591 +05:30 [INF] User profile is available. Using '/Users/muckesh/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2025-06-12 15:23:20.731 +05:30 [INF] Now listening on: http://localhost:5009
2025-06-12 15:23:20.734 +05:30 [INF] Application started. Press Ctrl+C to shut down.
2025-06-12 15:23:20.734 +05:30 [INF] Hosting environment: Development
2025-06-12 15:23:20.734 +05:30 [INF] Content root path: /Users/muckesh/Muckesh/Presidio/Genspark-Training/Capstone-1/RealEstateApi
2025-06-12 15:23:33.960 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5009/swagger/index.html - null null
2025-06-12 15:23:34.060 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5009/swagger/index.html - 200 null text/html;charset=utf-8 101.4831ms
2025-06-12 15:23:34.141 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5009/swagger/v1/swagger.json - null null
2025-06-12 15:23:34.317 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5009/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 176.2367ms
2025-06-12 15:24:49.484 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5009/api/v1/Buyers/register-buyer - application/json 122
2025-06-12 15:24:49.521 +05:30 [WRN] Failed to determine the https port for redirect.
2025-06-12 15:24:49.560 +05:30 [INF] Executing endpoint 'RealEstateApi.Controllers.BuyersController.RegisterBuyer (RealEstateApi)'
2025-06-12 15:24:49.587 +05:30 [INF] Route matched with {action = "RegisterBuyer", controller = "Buyers"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[RealEstateApi.Models.DTOs.AuthResponseDto]] RegisterBuyer(RealEstateApi.Models.DTOs.RegisterBuyerDto) on controller RealEstateApi.Controllers.BuyersController (RealEstateApi).
2025-06-12 15:24:50.914 +05:30 [INF] Executed DbCommand (23ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."Email", u."IsDeleted", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role"
FROM "Users" AS u
WHERE NOT (u."IsDeleted")
2025-06-12 15:24:51.497 +05:30 [INF] Executed DbCommand (18ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime), @p2='?', @p3='?' (DbType = Boolean), @p4='?', @p5='?', @p6='?', @p7='?' (DbType = DateTime), @p8='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Users" ("Id", "CreatedAt", "Email", "IsDeleted", "Name", "PasswordHash", "RefreshToken", "RefreshTokenExpiryTime", "Role")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
2025-06-12 15:24:51.556 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?', @p3='?', @p4='?', @p5='?', @p6='?' (DbType = DateTime), @p7='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AuditLogs" ("Id", "ActionType", "NewValues", "OldValues", "PrimaryKey", "TableName", "Timestamp", "UserId")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
2025-06-12 15:24:51.587 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Double), @p2='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Buyers" ("Id", "Budget", "PreferredLocation")
VALUES (@p0, @p1, @p2);
2025-06-12 15:24:51.595 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?', @p3='?', @p4='?', @p5='?', @p6='?' (DbType = DateTime), @p7='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AuditLogs" ("Id", "ActionType", "NewValues", "OldValues", "PrimaryKey", "TableName", "Timestamp", "UserId")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
2025-06-12 15:24:51.631 +05:30 [INF] Executing OkObjectResult, writing value of type 'RealEstateApi.Models.DTOs.AuthResponseDto'.
2025-06-12 15:24:51.648 +05:30 [INF] Executed action RealEstateApi.Controllers.BuyersController.RegisterBuyer (RealEstateApi) in 2056.4902ms
2025-06-12 15:24:51.648 +05:30 [INF] Executed endpoint 'RealEstateApi.Controllers.BuyersController.RegisterBuyer (RealEstateApi)'
2025-06-12 15:24:51.658 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5009/api/v1/Buyers/register-buyer - 200 null application/json; charset=utf-8 2173.2709ms
2025-06-12 15:25:04.013 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5009/api/v1/Buyers - null null
2025-06-12 15:25:04.017 +05:30 [INF] Executing endpoint 'RealEstateApi.Controllers.BuyersController.GetBuyers (RealEstateApi)'
2025-06-12 15:25:04.024 +05:30 [INF] Route matched with {action = "GetBuyers", controller = "Buyers"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[RealEstateApi.Models.Buyer]]] GetBuyers() on controller RealEstateApi.Controllers.BuyersController (RealEstateApi).
2025-06-12 15:25:04.162 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT b."Id", b."Budget", b."PreferredLocation", u."Id", u."CreatedAt", u."Email", u."IsDeleted", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role", i."Id", i."BuyerId", i."CreatedAt", i."ListingId", i."Message"
FROM "Buyers" AS b
INNER JOIN "Users" AS u ON b."Id" = u."Id"
LEFT JOIN "Inquiries" AS i ON b."Id" = i."BuyerId"
WHERE NOT (u."IsDeleted")
ORDER BY b."Id", u."Id"
2025-06-12 15:25:04.171 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[RealEstateApi.Models.Buyer, RealEstateApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-12 15:25:04.195 +05:30 [INF] Executed action RealEstateApi.Controllers.BuyersController.GetBuyers (RealEstateApi) in 170.3243ms
2025-06-12 15:25:04.195 +05:30 [INF] Executed endpoint 'RealEstateApi.Controllers.BuyersController.GetBuyers (RealEstateApi)'
2025-06-12 15:25:04.196 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5009/api/v1/Buyers - 200 null application/json; charset=utf-8 182.2428ms
2025-06-12 15:25:45.815 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5009/api/v1/Buyers/register-buyer - application/json 122
2025-06-12 15:25:45.819 +05:30 [INF] Executing endpoint 'RealEstateApi.Controllers.BuyersController.RegisterBuyer (RealEstateApi)'
2025-06-12 15:25:45.819 +05:30 [INF] Route matched with {action = "RegisterBuyer", controller = "Buyers"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[RealEstateApi.Models.DTOs.AuthResponseDto]] RegisterBuyer(RealEstateApi.Models.DTOs.RegisterBuyerDto) on controller RealEstateApi.Controllers.BuyersController (RealEstateApi).
2025-06-12 15:25:45.893 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."Email", u."IsDeleted", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role"
FROM "Users" AS u
WHERE NOT (u."IsDeleted")
2025-06-12 15:25:45.895 +05:30 [INF] Executed action RealEstateApi.Controllers.BuyersController.RegisterBuyer (RealEstateApi) in 75.7584ms
2025-06-12 15:25:45.896 +05:30 [INF] Executed endpoint 'RealEstateApi.Controllers.BuyersController.RegisterBuyer (RealEstateApi)'
2025-06-12 15:25:45.896 +05:30 [ERR] An unhandled exception has occurred while executing the request.
System.Exception: User already exists with the given email.
   at RealEstateApi.Controllers.BuyersController.RegisterBuyer(RegisterBuyerDto buyerDto) in /Users/muckesh/Muckesh/Presidio/Genspark-Training/Capstone-1/RealEstateApi/Controllers/BuyersController.cs:line 37
   at lambda_method5(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at RealEstateApi.Middlewares.TokenBlacklistMiddleware.Invoke(HttpContext context) in /Users/muckesh/Muckesh/Presidio/Genspark-Training/Capstone-1/RealEstateApi/Middlewares/TokenBlacklistMiddleware.cs:line 32
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Program.<>c.<<<Main>$>b__0_7>d.MoveNext() in /Users/muckesh/Muckesh/Presidio/Genspark-Training/Capstone-1/RealEstateApi/Program.cs:line 173
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.RateLimiting.RateLimitingMiddleware.InvokeInternal(HttpContext context, EnableRateLimitingAttribute enableRateLimitingAttribute)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-06-12 15:25:45.917 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5009/api/v1/Buyers/register-buyer - 500 null text/plain; charset=utf-8 102.0878ms
2025-06-12 18:22:46.967 +05:30 [INF] Application is shutting down...
2025-06-12 18:22:56.745 +05:30 [INF] User profile is available. Using '/Users/muckesh/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2025-06-12 18:22:56.858 +05:30 [INF] Now listening on: http://localhost:5009
2025-06-12 18:22:56.860 +05:30 [INF] Application started. Press Ctrl+C to shut down.
2025-06-12 18:22:56.861 +05:30 [INF] Hosting environment: Development
2025-06-12 18:22:56.861 +05:30 [INF] Content root path: /Users/muckesh/Muckesh/Presidio/Genspark-Training/Capstone-1/RealEstateApi
2025-06-12 18:22:58.363 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5009/swagger/index.html - null null
2025-06-12 18:22:58.445 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5009/swagger/index.html - 200 null text/html;charset=utf-8 83.2917ms
2025-06-12 18:22:58.542 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5009/swagger/v1/swagger.json - null null
2025-06-12 18:22:58.717 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5009/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 174.8578ms
2025-06-12 18:23:47.258 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5009/api/v1/Auth/login - application/json 58
2025-06-12 18:23:47.295 +05:30 [WRN] Failed to determine the https port for redirect.
2025-06-12 18:23:47.338 +05:30 [INF] Executing endpoint 'RealEstateApi.Controllers.AuthController.Login (RealEstateApi)'
2025-06-12 18:23:47.364 +05:30 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[RealEstateApi.Models.DTOs.AuthResponseDto]] Login(RealEstateApi.Models.DTOs.LoginDto) on controller RealEstateApi.Controllers.AuthController (RealEstateApi).
2025-06-12 18:23:48.605 +05:30 [INF] Executed DbCommand (21ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."Email", u."IsDeleted", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role"
FROM "Users" AS u
WHERE NOT (u."IsDeleted")
2025-06-12 18:23:49.053 +05:30 [INF] Executed DbCommand (11ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."Email", u."IsDeleted", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role"
FROM "Users" AS u
WHERE NOT (u."IsDeleted") AND u."Id" = @__id_0
LIMIT 2
2025-06-12 18:23:49.141 +05:30 [INF] Executed DbCommand (5ms) [Parameters=[@p2='?' (DbType = Guid), @p0='?', @p1='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Users" SET "RefreshToken" = @p0, "RefreshTokenExpiryTime" = @p1
WHERE "Id" = @p2;
2025-06-12 18:23:49.212 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?', @p3='?', @p4='?', @p5='?', @p6='?' (DbType = DateTime), @p7='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AuditLogs" ("Id", "ActionType", "NewValues", "OldValues", "PrimaryKey", "TableName", "Timestamp", "UserId")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
2025-06-12 18:23:49.221 +05:30 [INF] Executing OkObjectResult, writing value of type 'RealEstateApi.Models.DTOs.AuthResponseDto'.
2025-06-12 18:23:49.235 +05:30 [INF] Executed action RealEstateApi.Controllers.AuthController.Login (RealEstateApi) in 1867.1703ms
2025-06-12 18:23:49.235 +05:30 [INF] Executed endpoint 'RealEstateApi.Controllers.AuthController.Login (RealEstateApi)'
2025-06-12 18:23:49.251 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5009/api/v1/Auth/login - 200 null application/json; charset=utf-8 1992.4679ms
2025-06-12 18:24:08.792 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5009/api/v1/Auth/me - null null
2025-06-12 18:24:08.813 +05:30 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-06-12 18:24:08.817 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2025-06-12 18:24:08.817 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5009/api/v1/Auth/me - 401 0 null 25.4031ms
2025-06-12 18:25:01.910 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5009/api/v1/Auth/me - null null
2025-06-12 18:25:01.963 +05:30 [INF] Executing endpoint 'RealEstateApi.Controllers.AuthController.GetCurrentUser (RealEstateApi)'
2025-06-12 18:25:01.967 +05:30 [INF] Route matched with {action = "GetCurrentUser", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[RealEstateApi.Models.User]] GetCurrentUser() on controller RealEstateApi.Controllers.AuthController (RealEstateApi).
2025-06-12 18:25:01.987 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."Email", u."IsDeleted", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role"
FROM "Users" AS u
WHERE NOT (u."IsDeleted") AND u."Id" = @__id_0
LIMIT 2
2025-06-12 18:25:01.987 +05:30 [INF] Executing OkObjectResult, writing value of type 'RealEstateApi.Models.User'.
2025-06-12 18:25:02.008 +05:30 [INF] Executed action RealEstateApi.Controllers.AuthController.GetCurrentUser (RealEstateApi) in 41.423ms
2025-06-12 18:25:02.009 +05:30 [INF] Executed endpoint 'RealEstateApi.Controllers.AuthController.GetCurrentUser (RealEstateApi)'
2025-06-12 18:25:02.009 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5009/api/v1/Auth/me - 200 null application/json; charset=utf-8 99.2355ms
2025-06-12 18:58:29.088 +05:30 [INF] Application is shutting down...
2025-06-12 18:58:39.020 +05:30 [INF] User profile is available. Using '/Users/muckesh/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2025-06-12 18:58:39.141 +05:30 [INF] Now listening on: http://localhost:5009
2025-06-12 18:58:39.144 +05:30 [INF] Application started. Press Ctrl+C to shut down.
2025-06-12 18:58:39.145 +05:30 [INF] Hosting environment: Development
2025-06-12 18:58:39.145 +05:30 [INF] Content root path: /Users/muckesh/Muckesh/Presidio/Genspark-Training/Capstone-1/RealEstateApi
2025-06-12 18:58:44.094 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5009/swagger/index.html - null null
2025-06-12 18:58:44.172 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5009/swagger/index.html - 200 null text/html;charset=utf-8 79.3901ms
2025-06-12 18:58:44.357 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5009/swagger/v1/swagger.json - null null
2025-06-12 18:58:44.516 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5009/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 159.7432ms
2025-06-12 18:58:54.722 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5009/api/v1/Auth/me - null null
2025-06-12 18:58:54.761 +05:30 [WRN] Failed to determine the https port for redirect.
2025-06-12 18:58:54.803 +05:30 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-06-12 18:58:54.806 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2025-06-12 18:58:54.806 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5009/api/v1/Auth/me - 401 0 null 84.1088ms
2025-06-12 18:59:23.125 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5009/api/v1/Auth/login - application/json 58
2025-06-12 18:59:23.140 +05:30 [INF] Executing endpoint 'RealEstateApi.Controllers.AuthController.Login (RealEstateApi)'
2025-06-12 18:59:23.168 +05:30 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[RealEstateApi.Models.DTOs.AuthResponseDto]] Login(RealEstateApi.Models.DTOs.LoginDto) on controller RealEstateApi.Controllers.AuthController (RealEstateApi).
2025-06-12 18:59:24.365 +05:30 [INF] Executed DbCommand (21ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."Email", u."IsDeleted", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role"
FROM "Users" AS u
WHERE NOT (u."IsDeleted")
2025-06-12 18:59:24.838 +05:30 [INF] Executed DbCommand (11ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."Email", u."IsDeleted", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role"
FROM "Users" AS u
WHERE NOT (u."IsDeleted") AND u."Id" = @__id_0
LIMIT 2
2025-06-12 18:59:24.935 +05:30 [INF] Executed DbCommand (4ms) [Parameters=[@p2='?' (DbType = Guid), @p0='?', @p1='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Users" SET "RefreshToken" = @p0, "RefreshTokenExpiryTime" = @p1
WHERE "Id" = @p2;
2025-06-12 18:59:25.011 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?', @p3='?', @p4='?', @p5='?', @p6='?' (DbType = DateTime), @p7='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AuditLogs" ("Id", "ActionType", "NewValues", "OldValues", "PrimaryKey", "TableName", "Timestamp", "UserId")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
2025-06-12 18:59:25.020 +05:30 [INF] Executing OkObjectResult, writing value of type 'RealEstateApi.Models.DTOs.AuthResponseDto'.
2025-06-12 18:59:25.035 +05:30 [INF] Executed action RealEstateApi.Controllers.AuthController.Login (RealEstateApi) in 1863.1787ms
2025-06-12 18:59:25.035 +05:30 [INF] Executed endpoint 'RealEstateApi.Controllers.AuthController.Login (RealEstateApi)'
2025-06-12 18:59:25.044 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5009/api/v1/Auth/login - 200 null application/json; charset=utf-8 1918.7989ms
2025-06-12 18:59:47.536 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5009/api/v1/Auth/me - null null
2025-06-12 18:59:47.588 +05:30 [INF] Executing endpoint 'RealEstateApi.Controllers.AuthController.GetCurrentUser (RealEstateApi)'
2025-06-12 18:59:47.592 +05:30 [INF] Route matched with {action = "GetCurrentUser", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[RealEstateApi.Models.User]] GetCurrentUser() on controller RealEstateApi.Controllers.AuthController (RealEstateApi).
2025-06-12 18:59:47.611 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."Email", u."IsDeleted", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role"
FROM "Users" AS u
WHERE NOT (u."IsDeleted") AND u."Id" = @__id_0
LIMIT 2
2025-06-12 18:59:47.612 +05:30 [INF] Executing OkObjectResult, writing value of type 'RealEstateApi.Models.User'.
2025-06-12 18:59:47.632 +05:30 [INF] Executed action RealEstateApi.Controllers.AuthController.GetCurrentUser (RealEstateApi) in 39.4463ms
2025-06-12 18:59:47.632 +05:30 [INF] Executed endpoint 'RealEstateApi.Controllers.AuthController.GetCurrentUser (RealEstateApi)'
2025-06-12 18:59:47.632 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5009/api/v1/Auth/me - 200 null application/json; charset=utf-8 95.6815ms
2025-06-12 20:26:50.711 +05:30 [INF] Application is shutting down...
2025-06-12 20:27:00.560 +05:30 [INF] User profile is available. Using '/Users/muckesh/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2025-06-12 20:27:00.681 +05:30 [INF] Now listening on: http://localhost:5009
2025-06-12 20:27:00.683 +05:30 [INF] Application started. Press Ctrl+C to shut down.
2025-06-12 20:27:00.684 +05:30 [INF] Hosting environment: Development
2025-06-12 20:27:00.684 +05:30 [INF] Content root path: /Users/muckesh/Muckesh/Presidio/Genspark-Training/Capstone-1/RealEstateApi
2025-06-12 20:27:07.224 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5009/swagger/index.html - null null
2025-06-12 20:27:07.303 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5009/swagger/index.html - 200 null text/html;charset=utf-8 79.6899ms
2025-06-12 20:27:07.490 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5009/swagger/v1/swagger.json - null null
2025-06-12 20:27:07.655 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5009/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 166.4ms
2025-06-12 20:27:29.331 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5009/api/v1/Auth/login - application/json 58
2025-06-12 20:27:29.361 +05:30 [WRN] Failed to determine the https port for redirect.
2025-06-12 20:27:29.404 +05:30 [INF] Executing endpoint 'RealEstateApi.Controllers.AuthController.Login (RealEstateApi)'
2025-06-12 20:27:29.429 +05:30 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[RealEstateApi.Models.DTOs.AuthResponseDto]] Login(RealEstateApi.Models.DTOs.LoginDto) on controller RealEstateApi.Controllers.AuthController (RealEstateApi).
2025-06-12 20:27:30.739 +05:30 [INF] Executed DbCommand (22ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."Email", u."IsDeleted", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role"
FROM "Users" AS u
WHERE NOT (u."IsDeleted")
2025-06-12 20:27:31.220 +05:30 [INF] Executed DbCommand (11ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."Email", u."IsDeleted", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role"
FROM "Users" AS u
WHERE NOT (u."IsDeleted") AND u."Id" = @__id_0
LIMIT 2
2025-06-12 20:27:31.319 +05:30 [INF] Executed DbCommand (6ms) [Parameters=[@p2='?' (DbType = Guid), @p0='?', @p1='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Users" SET "RefreshToken" = @p0, "RefreshTokenExpiryTime" = @p1
WHERE "Id" = @p2;
2025-06-12 20:27:31.394 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?', @p3='?', @p4='?', @p5='?', @p6='?' (DbType = DateTime), @p7='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AuditLogs" ("Id", "ActionType", "NewValues", "OldValues", "PrimaryKey", "TableName", "Timestamp", "UserId")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
2025-06-12 20:27:31.405 +05:30 [INF] Executing OkObjectResult, writing value of type 'RealEstateApi.Models.DTOs.AuthResponseDto'.
2025-06-12 20:27:31.419 +05:30 [INF] Executed action RealEstateApi.Controllers.AuthController.Login (RealEstateApi) in 1986.5224ms
2025-06-12 20:27:31.419 +05:30 [INF] Executed endpoint 'RealEstateApi.Controllers.AuthController.Login (RealEstateApi)'
2025-06-12 20:27:31.428 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5009/api/v1/Auth/login - 200 null application/json; charset=utf-8 2096.5001ms
2025-06-12 20:28:47.022 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5009/api/v1/PropertyListings/create-listing - application/json 175
2025-06-12 20:28:47.064 +05:30 [INF] Executing endpoint 'RealEstateApi.Controllers.PropertyListingsController.CreateListing (RealEstateApi)'
2025-06-12 20:28:47.068 +05:30 [INF] Route matched with {action = "CreateListing", controller = "PropertyListings"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateListing(RealEstateApi.Models.DTOs.CreatePropertyListingDto) on controller RealEstateApi.Controllers.PropertyListingsController (RealEstateApi).
2025-06-12 20:28:47.202 +05:30 [WRN] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2025-06-12 20:28:47.232 +05:30 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."AgentId", p."Bathrooms", p."Bedrooms", p."CreatedAt", p."Description", p."IsDeleted", p."Location", p."Price", p."SquareFeet", p."Title", a."Id", a."AgencyName", a."LicenseNumber", a."Phone", p1."Id", p1."DeletedAt", p1."FileName", p1."FileUrl", p1."IsDeleted", p1."PropertyListingId", i."Id", i."BuyerId", i."CreatedAt", i."ListingId", i."Message"
FROM "PropertyListings" AS p
INNER JOIN "Agents" AS a ON p."AgentId" = a."Id"
LEFT JOIN (
    SELECT p0."Id", p0."DeletedAt", p0."FileName", p0."FileUrl", p0."IsDeleted", p0."PropertyListingId"
    FROM "PropertyImages" AS p0
    WHERE NOT (p0."IsDeleted")
) AS p1 ON p."Id" = p1."PropertyListingId"
LEFT JOIN "Inquiries" AS i ON p."Id" = i."ListingId"
WHERE NOT (p."IsDeleted")
ORDER BY p."Id", a."Id", p1."Id"
2025-06-12 20:28:47.283 +05:30 [INF] Executed DbCommand (5ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (DbType = DateTime), @p5='?', @p6='?' (DbType = Boolean), @p7='?', @p8='?' (DbType = Double), @p9='?' (DbType = Int32), @p10='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "PropertyListings" ("Id", "AgentId", "Bathrooms", "Bedrooms", "CreatedAt", "Description", "IsDeleted", "Location", "Price", "SquareFeet", "Title")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10);
2025-06-12 20:28:47.292 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?', @p3='?', @p4='?', @p5='?', @p6='?' (DbType = DateTime), @p7='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AuditLogs" ("Id", "ActionType", "NewValues", "OldValues", "PrimaryKey", "TableName", "Timestamp", "UserId")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
2025-06-12 20:28:47.294 +05:30 [INF] Executing CreatedResult, writing value of type 'RealEstateApi.Models.PropertyListing'.
2025-06-12 20:28:47.312 +05:30 [INF] Executed action RealEstateApi.Controllers.PropertyListingsController.CreateListing (RealEstateApi) in 243.4402ms
2025-06-12 20:28:47.312 +05:30 [INF] Executed endpoint 'RealEstateApi.Controllers.PropertyListingsController.CreateListing (RealEstateApi)'
2025-06-12 20:28:47.312 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5009/api/v1/PropertyListings/create-listing - 201 null application/json; charset=utf-8 290.5946ms
2025-06-12 20:28:57.276 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5009/api/v1/PropertyListings/create-listing - application/json 175
2025-06-12 20:28:57.281 +05:30 [INF] Executing endpoint 'RealEstateApi.Controllers.PropertyListingsController.CreateListing (RealEstateApi)'
2025-06-12 20:28:57.281 +05:30 [INF] Route matched with {action = "CreateListing", controller = "PropertyListings"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateListing(RealEstateApi.Models.DTOs.CreatePropertyListingDto) on controller RealEstateApi.Controllers.PropertyListingsController (RealEstateApi).
2025-06-12 20:28:57.348 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."AgentId", p."Bathrooms", p."Bedrooms", p."CreatedAt", p."Description", p."IsDeleted", p."Location", p."Price", p."SquareFeet", p."Title", a."Id", a."AgencyName", a."LicenseNumber", a."Phone", p1."Id", p1."DeletedAt", p1."FileName", p1."FileUrl", p1."IsDeleted", p1."PropertyListingId", i."Id", i."BuyerId", i."CreatedAt", i."ListingId", i."Message"
FROM "PropertyListings" AS p
INNER JOIN "Agents" AS a ON p."AgentId" = a."Id"
LEFT JOIN (
    SELECT p0."Id", p0."DeletedAt", p0."FileName", p0."FileUrl", p0."IsDeleted", p0."PropertyListingId"
    FROM "PropertyImages" AS p0
    WHERE NOT (p0."IsDeleted")
) AS p1 ON p."Id" = p1."PropertyListingId"
LEFT JOIN "Inquiries" AS i ON p."Id" = i."ListingId"
WHERE NOT (p."IsDeleted")
ORDER BY p."Id", a."Id", p1."Id"
2025-06-12 20:28:57.370 +05:30 [INF] Executing BadRequestObjectResult, writing value of type 'System.String'.
2025-06-12 20:28:57.370 +05:30 [INF] Executed action RealEstateApi.Controllers.PropertyListingsController.CreateListing (RealEstateApi) in 89ms
2025-06-12 20:28:57.370 +05:30 [INF] Executed endpoint 'RealEstateApi.Controllers.PropertyListingsController.CreateListing (RealEstateApi)'
2025-06-12 20:28:57.370 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5009/api/v1/PropertyListings/create-listing - 400 null text/plain; charset=utf-8 94.689ms
2025-06-12 20:29:26.776 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5009/api/v1/PropertyListings/upload-image - multipart/form-data; boundary=----WebKitFormBoundary5DhctBlPx1mHBeHJ 920429
2025-06-12 20:29:26.783 +05:30 [INF] Executing endpoint 'RealEstateApi.Controllers.PropertyListingsController.UploadImage (RealEstateApi)'
2025-06-12 20:29:26.789 +05:30 [INF] Route matched with {action = "UploadImage", controller = "PropertyListings"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UploadImage(RealEstateApi.Models.DTOs.AddPropertyImageDto) on controller RealEstateApi.Controllers.PropertyListingsController (RealEstateApi).
2025-06-12 20:29:26.836 +05:30 [WRN] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2025-06-12 20:29:26.859 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."AgentId", s."Bathrooms", s."Bedrooms", s."CreatedAt", s."Description", s."IsDeleted", s."Location", s."Price", s."SquareFeet", s."Title", s."Id0", s."AgencyName", s."LicenseNumber", s."Phone", p1."Id", p1."DeletedAt", p1."FileName", p1."FileUrl", p1."IsDeleted", p1."PropertyListingId", i."Id", i."BuyerId", i."CreatedAt", i."ListingId", i."Message"
FROM (
    SELECT p."Id", p."AgentId", p."Bathrooms", p."Bedrooms", p."CreatedAt", p."Description", p."IsDeleted", p."Location", p."Price", p."SquareFeet", p."Title", a."Id" AS "Id0", a."AgencyName", a."LicenseNumber", a."Phone"
    FROM "PropertyListings" AS p
    INNER JOIN "Agents" AS a ON p."AgentId" = a."Id"
    WHERE NOT (p."IsDeleted") AND p."Id" = @__id_0
    LIMIT 1
) AS s
LEFT JOIN (
    SELECT p0."Id", p0."DeletedAt", p0."FileName", p0."FileUrl", p0."IsDeleted", p0."PropertyListingId"
    FROM "PropertyImages" AS p0
    WHERE NOT (p0."IsDeleted")
) AS p1 ON s."Id" = p1."PropertyListingId"
LEFT JOIN "Inquiries" AS i ON s."Id" = i."ListingId"
ORDER BY s."Id", s."Id0", p1."Id"
2025-06-12 20:29:26.893 +05:30 [INF] Executed DbCommand (4ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime), @p2='?', @p3='?', @p4='?' (DbType = Boolean), @p5='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "PropertyImages" ("Id", "DeletedAt", "FileName", "FileUrl", "IsDeleted", "PropertyListingId")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2025-06-12 20:29:26.896 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?', @p3='?', @p4='?', @p5='?', @p6='?' (DbType = DateTime), @p7='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AuditLogs" ("Id", "ActionType", "NewValues", "OldValues", "PrimaryKey", "TableName", "Timestamp", "UserId")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
2025-06-12 20:29:26.897 +05:30 [INF] Executing OkObjectResult, writing value of type 'RealEstateApi.Models.PropertyImage'.
2025-06-12 20:29:26.901 +05:30 [INF] Executed action RealEstateApi.Controllers.PropertyListingsController.UploadImage (RealEstateApi) in 112.1761ms
2025-06-12 20:29:26.901 +05:30 [INF] Executed endpoint 'RealEstateApi.Controllers.PropertyListingsController.UploadImage (RealEstateApi)'
2025-06-12 20:29:26.903 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5009/api/v1/PropertyListings/upload-image - 200 null application/json; charset=utf-8 126.92ms
2025-06-12 20:29:59.666 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5009/api/v1/PropertyImages/file/ec3e2212-23f7-4a42-a61b-e91561b2f2a3 - null null
2025-06-12 20:29:59.666 +05:30 [INF] Executing endpoint 'RealEstateApi.Controllers.PropertyImagesController.GetImageFile (RealEstateApi)'
2025-06-12 20:29:59.686 +05:30 [INF] Route matched with {action = "GetImageFile", controller = "PropertyImages"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetImageFile(System.Guid) on controller RealEstateApi.Controllers.PropertyImagesController (RealEstateApi).
2025-06-12 20:29:59.701 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."DeletedAt", p."FileName", p."FileUrl", p."IsDeleted", p."PropertyListingId", p0."Id", p0."AgentId", p0."Bathrooms", p0."Bedrooms", p0."CreatedAt", p0."Description", p0."IsDeleted", p0."Location", p0."Price", p0."SquareFeet", p0."Title"
FROM "PropertyImages" AS p
INNER JOIN "PropertyListings" AS p0 ON p."PropertyListingId" = p0."Id"
WHERE NOT (p."IsDeleted") AND p."Id" = @__id_0
LIMIT 2
2025-06-12 20:29:59.706 +05:30 [INF] Executing FileContentResult, sending file with download name 'cd6b9390-b380-4859-8fb8-6752ed9b3323.jpg' ...
2025-06-12 20:29:59.725 +05:30 [INF] Executed action RealEstateApi.Controllers.PropertyImagesController.GetImageFile (RealEstateApi) in 39.3425ms
2025-06-12 20:29:59.725 +05:30 [INF] Executed endpoint 'RealEstateApi.Controllers.PropertyImagesController.GetImageFile (RealEstateApi)'
2025-06-12 20:29:59.726 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5009/api/v1/PropertyImages/file/ec3e2212-23f7-4a42-a61b-e91561b2f2a3 - 200 920097 image/jpeg 60.1674ms
2025-06-12 20:30:23.616 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5009/api/v1/PropertyImages/file/ec3e2212-23f7-4a42-a61b-e91561b2f2a3 - application/json 58
2025-06-12 20:30:23.620 +05:30 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '6/11/2025 8:16:23PM', Current time (UTC): '6/12/2025 3:00:23PM'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-06-12 20:30:23.632 +05:30 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '6/11/2025 8:16:23PM', Current time (UTC): '6/12/2025 3:00:23PM'.
2025-06-12 20:30:23.632 +05:30 [INF] Executing endpoint 'RealEstateApi.Controllers.PropertyImagesController.GetImageFile (RealEstateApi)'
2025-06-12 20:30:23.632 +05:30 [INF] Route matched with {action = "GetImageFile", controller = "PropertyImages"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetImageFile(System.Guid) on controller RealEstateApi.Controllers.PropertyImagesController (RealEstateApi).
2025-06-12 20:30:23.634 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."DeletedAt", p."FileName", p."FileUrl", p."IsDeleted", p."PropertyListingId", p0."Id", p0."AgentId", p0."Bathrooms", p0."Bedrooms", p0."CreatedAt", p0."Description", p0."IsDeleted", p0."Location", p0."Price", p0."SquareFeet", p0."Title"
FROM "PropertyImages" AS p
INNER JOIN "PropertyListings" AS p0 ON p."PropertyListingId" = p0."Id"
WHERE NOT (p."IsDeleted") AND p."Id" = @__id_0
LIMIT 2
2025-06-12 20:30:23.636 +05:30 [INF] Executing FileContentResult, sending file with download name 'cd6b9390-b380-4859-8fb8-6752ed9b3323.jpg' ...
2025-06-12 20:30:23.661 +05:30 [INF] Executed action RealEstateApi.Controllers.PropertyImagesController.GetImageFile (RealEstateApi) in 28.9763ms
2025-06-12 20:30:23.661 +05:30 [INF] Executed endpoint 'RealEstateApi.Controllers.PropertyImagesController.GetImageFile (RealEstateApi)'
2025-06-12 20:30:23.661 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5009/api/v1/PropertyImages/file/ec3e2212-23f7-4a42-a61b-e91561b2f2a3 - 200 920097 image/jpeg 45.4827ms
2025-06-12 20:31:12.641 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5009/api/v1/PropertyImages/file/ec1e2212-23f7-4a42-a61b-e91561b2f2a3 - application/json 58
2025-06-12 20:31:12.644 +05:30 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '6/11/2025 8:16:23PM', Current time (UTC): '6/12/2025 3:01:12PM'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-06-12 20:31:12.645 +05:30 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '6/11/2025 8:16:23PM', Current time (UTC): '6/12/2025 3:01:12PM'.
2025-06-12 20:31:12.645 +05:30 [INF] Executing endpoint 'RealEstateApi.Controllers.PropertyImagesController.GetImageFile (RealEstateApi)'
2025-06-12 20:31:12.645 +05:30 [INF] Route matched with {action = "GetImageFile", controller = "PropertyImages"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetImageFile(System.Guid) on controller RealEstateApi.Controllers.PropertyImagesController (RealEstateApi).
2025-06-12 20:31:12.649 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."DeletedAt", p."FileName", p."FileUrl", p."IsDeleted", p."PropertyListingId", p0."Id", p0."AgentId", p0."Bathrooms", p0."Bedrooms", p0."CreatedAt", p0."Description", p0."IsDeleted", p0."Location", p0."Price", p0."SquareFeet", p0."Title"
FROM "PropertyImages" AS p
INNER JOIN "PropertyListings" AS p0 ON p."PropertyListingId" = p0."Id"
WHERE NOT (p."IsDeleted") AND p."Id" = @__id_0
LIMIT 2
2025-06-12 20:31:12.650 +05:30 [INF] Executing BadRequestObjectResult, writing value of type '<>f__AnonymousType3`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-06-12 20:31:12.660 +05:30 [INF] Executed action RealEstateApi.Controllers.PropertyImagesController.GetImageFile (RealEstateApi) in 14.496ms
2025-06-12 20:31:12.660 +05:30 [INF] Executed endpoint 'RealEstateApi.Controllers.PropertyImagesController.GetImageFile (RealEstateApi)'
2025-06-12 20:31:12.660 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5009/api/v1/PropertyImages/file/ec1e2212-23f7-4a42-a61b-e91561b2f2a3 - 400 null application/json; charset=utf-8 18.5326ms
2025-06-12 20:55:49.890 +05:30 [INF] Application is shutting down...
2025-06-12 20:55:59.177 +05:30 [INF] User profile is available. Using '/Users/muckesh/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2025-06-12 20:55:59.320 +05:30 [INF] Now listening on: http://localhost:5009
2025-06-12 20:55:59.323 +05:30 [INF] Application started. Press Ctrl+C to shut down.
2025-06-12 20:55:59.324 +05:30 [INF] Hosting environment: Development
2025-06-12 20:55:59.324 +05:30 [INF] Content root path: /Users/muckesh/Muckesh/Presidio/Genspark-Training/Capstone-1/RealEstateApi
2025-06-12 20:56:03.123 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5009/swagger/index.html - null null
2025-06-12 20:56:03.205 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5009/swagger/index.html - 200 null text/html;charset=utf-8 83.0895ms
2025-06-12 20:56:03.402 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5009/swagger/v1/swagger.json - null null
2025-06-12 20:56:03.563 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5009/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 161.6055ms
2025-06-12 20:56:18.122 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5009/api/v1/PropertyImages/urls/ec3e2212-23f7-4a42-a61b-e91561b2f2a3 - null null
2025-06-12 20:56:18.152 +05:30 [WRN] Failed to determine the https port for redirect.
2025-06-12 20:56:18.194 +05:30 [INF] Executing endpoint 'RealEstateApi.Controllers.PropertyImagesController.GetListingImageUrls (RealEstateApi)'
2025-06-12 20:56:18.220 +05:30 [INF] Route matched with {action = "GetListingImageUrls", controller = "PropertyImages"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListingImageUrls(System.Guid) on controller RealEstateApi.Controllers.PropertyImagesController (RealEstateApi).
2025-06-12 20:56:19.386 +05:30 [WRN] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2025-06-12 20:56:19.677 +05:30 [INF] Executed DbCommand (54ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."AgentId", s."Bathrooms", s."Bedrooms", s."CreatedAt", s."Description", s."IsDeleted", s."Location", s."Price", s."SquareFeet", s."Title", s."Id0", s."AgencyName", s."LicenseNumber", s."Phone", p1."Id", p1."DeletedAt", p1."FileName", p1."FileUrl", p1."IsDeleted", p1."PropertyListingId", i."Id", i."BuyerId", i."CreatedAt", i."ListingId", i."Message"
FROM (
    SELECT p."Id", p."AgentId", p."Bathrooms", p."Bedrooms", p."CreatedAt", p."Description", p."IsDeleted", p."Location", p."Price", p."SquareFeet", p."Title", a."Id" AS "Id0", a."AgencyName", a."LicenseNumber", a."Phone"
    FROM "PropertyListings" AS p
    INNER JOIN "Agents" AS a ON p."AgentId" = a."Id"
    WHERE NOT (p."IsDeleted") AND p."Id" = @__id_0
    LIMIT 1
) AS s
LEFT JOIN (
    SELECT p0."Id", p0."DeletedAt", p0."FileName", p0."FileUrl", p0."IsDeleted", p0."PropertyListingId"
    FROM "PropertyImages" AS p0
    WHERE NOT (p0."IsDeleted")
) AS p1 ON s."Id" = p1."PropertyListingId"
LEFT JOIN "Inquiries" AS i ON s."Id" = i."ListingId"
ORDER BY s."Id", s."Id0", p1."Id"
2025-06-12 20:56:19.705 +05:30 [INF] Executing BadRequestObjectResult, writing value of type '<>f__AnonymousType3`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-06-12 20:56:19.735 +05:30 [INF] Executed action RealEstateApi.Controllers.PropertyImagesController.GetListingImageUrls (RealEstateApi) in 1512.0572ms
2025-06-12 20:56:19.736 +05:30 [INF] Executed endpoint 'RealEstateApi.Controllers.PropertyImagesController.GetListingImageUrls (RealEstateApi)'
2025-06-12 20:56:19.744 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5009/api/v1/PropertyImages/urls/ec3e2212-23f7-4a42-a61b-e91561b2f2a3 - 400 null application/json; charset=utf-8 1622.5599ms
2025-06-12 20:56:30.527 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5009/api/v1/PropertyListings - null null
2025-06-12 20:56:30.533 +05:30 [INF] Executing endpoint 'RealEstateApi.Controllers.PropertyListingsController.SearchListings (RealEstateApi)'
2025-06-12 20:56:30.540 +05:30 [INF] Route matched with {action = "SearchListings", controller = "PropertyListings"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SearchListings(RealEstateApi.Models.DTOs.PropertyListingQueryParametersDto) on controller RealEstateApi.Controllers.PropertyListingsController (RealEstateApi).
2025-06-12 20:56:30.580 +05:30 [WRN] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2025-06-12 20:56:30.608 +05:30 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."AgentId", p."Bathrooms", p."Bedrooms", p."CreatedAt", p."Description", p."IsDeleted", p."Location", p."Price", p."SquareFeet", p."Title", a."Id", a."AgencyName", a."LicenseNumber", a."Phone", p1."Id", p1."DeletedAt", p1."FileName", p1."FileUrl", p1."IsDeleted", p1."PropertyListingId", i."Id", i."BuyerId", i."CreatedAt", i."ListingId", i."Message"
FROM "PropertyListings" AS p
INNER JOIN "Agents" AS a ON p."AgentId" = a."Id"
LEFT JOIN (
    SELECT p0."Id", p0."DeletedAt", p0."FileName", p0."FileUrl", p0."IsDeleted", p0."PropertyListingId"
    FROM "PropertyImages" AS p0
    WHERE NOT (p0."IsDeleted")
) AS p1 ON p."Id" = p1."PropertyListingId"
LEFT JOIN "Inquiries" AS i ON p."Id" = i."ListingId"
WHERE NOT (p."IsDeleted")
ORDER BY p."Id", a."Id", p1."Id"
2025-06-12 20:56:30.726 +05:30 [INF] Executing OkObjectResult, writing value of type 'RealEstateApi.Models.DTOs.PagedResult`1[[RealEstateApi.Models.PropertyListing, RealEstateApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-12 20:56:30.762 +05:30 [INF] Executed action RealEstateApi.Controllers.PropertyListingsController.SearchListings (RealEstateApi) in 221.7655ms
2025-06-12 20:56:30.762 +05:30 [INF] Executed endpoint 'RealEstateApi.Controllers.PropertyListingsController.SearchListings (RealEstateApi)'
2025-06-12 20:56:30.762 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5009/api/v1/PropertyListings - 200 null application/json; charset=utf-8 235.633ms
2025-06-12 20:56:49.534 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5009/api/v1/PropertyImages/urls/019764a6-9145-7345-9060-b63156d5ee3b - null null
2025-06-12 20:56:49.538 +05:30 [INF] Executing endpoint 'RealEstateApi.Controllers.PropertyImagesController.GetListingImageUrls (RealEstateApi)'
2025-06-12 20:56:49.552 +05:30 [INF] Route matched with {action = "GetListingImageUrls", controller = "PropertyImages"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListingImageUrls(System.Guid) on controller RealEstateApi.Controllers.PropertyImagesController (RealEstateApi).
2025-06-12 20:56:49.623 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."AgentId", s."Bathrooms", s."Bedrooms", s."CreatedAt", s."Description", s."IsDeleted", s."Location", s."Price", s."SquareFeet", s."Title", s."Id0", s."AgencyName", s."LicenseNumber", s."Phone", p1."Id", p1."DeletedAt", p1."FileName", p1."FileUrl", p1."IsDeleted", p1."PropertyListingId", i."Id", i."BuyerId", i."CreatedAt", i."ListingId", i."Message"
FROM (
    SELECT p."Id", p."AgentId", p."Bathrooms", p."Bedrooms", p."CreatedAt", p."Description", p."IsDeleted", p."Location", p."Price", p."SquareFeet", p."Title", a."Id" AS "Id0", a."AgencyName", a."LicenseNumber", a."Phone"
    FROM "PropertyListings" AS p
    INNER JOIN "Agents" AS a ON p."AgentId" = a."Id"
    WHERE NOT (p."IsDeleted") AND p."Id" = @__id_0
    LIMIT 1
) AS s
LEFT JOIN (
    SELECT p0."Id", p0."DeletedAt", p0."FileName", p0."FileUrl", p0."IsDeleted", p0."PropertyListingId"
    FROM "PropertyImages" AS p0
    WHERE NOT (p0."IsDeleted")
) AS p1 ON s."Id" = p1."PropertyListingId"
LEFT JOIN "Inquiries" AS i ON s."Id" = i."ListingId"
ORDER BY s."Id", s."Id0", p1."Id"
2025-06-12 20:56:49.639 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."DeletedAt", p."FileName", p."FileUrl", p."IsDeleted", p."PropertyListingId", p0."Id", p0."AgentId", p0."Bathrooms", p0."Bedrooms", p0."CreatedAt", p0."Description", p0."IsDeleted", p0."Location", p0."Price", p0."SquareFeet", p0."Title"
FROM "PropertyImages" AS p
INNER JOIN "PropertyListings" AS p0 ON p."PropertyListingId" = p0."Id"
WHERE NOT (p."IsDeleted")
2025-06-12 20:56:49.640 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+WhereSelectListIterator`2[[RealEstateApi.Models.PropertyImage, RealEstateApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-06-12 20:56:49.641 +05:30 [INF] Executed action RealEstateApi.Controllers.PropertyImagesController.GetListingImageUrls (RealEstateApi) in 88.7974ms
2025-06-12 20:56:49.641 +05:30 [INF] Executed endpoint 'RealEstateApi.Controllers.PropertyImagesController.GetListingImageUrls (RealEstateApi)'
2025-06-12 20:56:49.641 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5009/api/v1/PropertyImages/urls/019764a6-9145-7345-9060-b63156d5ee3b - 200 null application/json; charset=utf-8 106.9947ms
2025-06-12 21:07:40.631 +05:30 [INF] Application is shutting down...
2025-06-12 21:07:49.752 +05:30 [INF] User profile is available. Using '/Users/muckesh/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2025-06-12 21:07:49.872 +05:30 [INF] Now listening on: http://localhost:5009
2025-06-12 21:07:49.875 +05:30 [INF] Application started. Press Ctrl+C to shut down.
2025-06-12 21:07:49.876 +05:30 [INF] Hosting environment: Development
2025-06-12 21:07:49.876 +05:30 [INF] Content root path: /Users/muckesh/Muckesh/Presidio/Genspark-Training/Capstone-1/RealEstateApi
2025-06-12 21:07:51.786 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5009/swagger/index.html - null null
2025-06-12 21:07:51.863 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5009/swagger/index.html - 200 null text/html;charset=utf-8 78.1832ms
2025-06-12 21:07:52.031 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5009/swagger/v1/swagger.json - null null
2025-06-12 21:07:52.190 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5009/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 159.8278ms
2025-06-12 21:08:07.501 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5009/api/v1/PropertyListings - null null
2025-06-12 21:08:07.528 +05:30 [WRN] Failed to determine the https port for redirect.
2025-06-12 21:08:07.580 +05:30 [INF] Executing endpoint 'RealEstateApi.Controllers.PropertyListingsController.SearchListings (RealEstateApi)'
2025-06-12 21:08:07.616 +05:30 [INF] Route matched with {action = "SearchListings", controller = "PropertyListings"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SearchListings(RealEstateApi.Models.DTOs.PropertyListingQueryParametersDto) on controller RealEstateApi.Controllers.PropertyListingsController (RealEstateApi).
2025-06-12 21:08:08.663 +05:30 [WRN] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2025-06-12 21:08:08.895 +05:30 [INF] Executed DbCommand (20ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."AgentId", p."Bathrooms", p."Bedrooms", p."CreatedAt", p."Description", p."IsDeleted", p."Location", p."Price", p."SquareFeet", p."Title", a."Id", a."AgencyName", a."LicenseNumber", a."Phone", p1."Id", p1."DeletedAt", p1."FileName", p1."FileUrl", p1."IsDeleted", p1."PropertyListingId", i."Id", i."BuyerId", i."CreatedAt", i."ListingId", i."Message"
FROM "PropertyListings" AS p
INNER JOIN "Agents" AS a ON p."AgentId" = a."Id"
LEFT JOIN (
    SELECT p0."Id", p0."DeletedAt", p0."FileName", p0."FileUrl", p0."IsDeleted", p0."PropertyListingId"
    FROM "PropertyImages" AS p0
    WHERE NOT (p0."IsDeleted")
) AS p1 ON p."Id" = p1."PropertyListingId"
LEFT JOIN "Inquiries" AS i ON p."Id" = i."ListingId"
WHERE NOT (p."IsDeleted")
ORDER BY p."Id", a."Id", p1."Id"
2025-06-12 21:08:09.063 +05:30 [INF] Executing OkObjectResult, writing value of type 'RealEstateApi.Models.DTOs.PagedResult`1[[RealEstateApi.Models.PropertyListing, RealEstateApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-12 21:08:09.119 +05:30 [INF] Executed action RealEstateApi.Controllers.PropertyListingsController.SearchListings (RealEstateApi) in 1499.9877ms
2025-06-12 21:08:09.120 +05:30 [INF] Executed endpoint 'RealEstateApi.Controllers.PropertyListingsController.SearchListings (RealEstateApi)'
2025-06-12 21:08:09.129 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5009/api/v1/PropertyListings - 200 null application/json; charset=utf-8 1627.6278ms
2025-06-12 21:08:29.729 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5009/api/v1/PropertyImages/urls/019764a6-9145-7345-9060-b63156d5ee3b - null null
2025-06-12 21:08:29.736 +05:30 [INF] Executing endpoint 'RealEstateApi.Controllers.PropertyImagesController.GetListingImageUrls (RealEstateApi)'
2025-06-12 21:08:29.743 +05:30 [INF] Route matched with {action = "GetListingImageUrls", controller = "PropertyImages"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListingImageUrls(System.Guid) on controller RealEstateApi.Controllers.PropertyImagesController (RealEstateApi).
2025-06-12 21:08:29.783 +05:30 [WRN] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2025-06-12 21:08:29.831 +05:30 [INF] Executed DbCommand (10ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."AgentId", s."Bathrooms", s."Bedrooms", s."CreatedAt", s."Description", s."IsDeleted", s."Location", s."Price", s."SquareFeet", s."Title", s."Id0", s."AgencyName", s."LicenseNumber", s."Phone", p1."Id", p1."DeletedAt", p1."FileName", p1."FileUrl", p1."IsDeleted", p1."PropertyListingId", i."Id", i."BuyerId", i."CreatedAt", i."ListingId", i."Message"
FROM (
    SELECT p."Id", p."AgentId", p."Bathrooms", p."Bedrooms", p."CreatedAt", p."Description", p."IsDeleted", p."Location", p."Price", p."SquareFeet", p."Title", a."Id" AS "Id0", a."AgencyName", a."LicenseNumber", a."Phone"
    FROM "PropertyListings" AS p
    INNER JOIN "Agents" AS a ON p."AgentId" = a."Id"
    WHERE NOT (p."IsDeleted") AND p."Id" = @__id_0
    LIMIT 1
) AS s
LEFT JOIN (
    SELECT p0."Id", p0."DeletedAt", p0."FileName", p0."FileUrl", p0."IsDeleted", p0."PropertyListingId"
    FROM "PropertyImages" AS p0
    WHERE NOT (p0."IsDeleted")
) AS p1 ON s."Id" = p1."PropertyListingId"
LEFT JOIN "Inquiries" AS i ON s."Id" = i."ListingId"
ORDER BY s."Id", s."Id0", p1."Id"
2025-06-12 21:08:29.847 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."DeletedAt", p."FileName", p."FileUrl", p."IsDeleted", p."PropertyListingId", p0."Id", p0."AgentId", p0."Bathrooms", p0."Bedrooms", p0."CreatedAt", p0."Description", p0."IsDeleted", p0."Location", p0."Price", p0."SquareFeet", p0."Title"
FROM "PropertyImages" AS p
INNER JOIN "PropertyListings" AS p0 ON p."PropertyListingId" = p0."Id"
WHERE NOT (p."IsDeleted")
2025-06-12 21:08:29.848 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+SelectListIterator`2[[RealEstateApi.Models.PropertyImage, RealEstateApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-06-12 21:08:29.849 +05:30 [INF] Executed action RealEstateApi.Controllers.PropertyImagesController.GetListingImageUrls (RealEstateApi) in 106.1651ms
2025-06-12 21:08:29.849 +05:30 [INF] Executed endpoint 'RealEstateApi.Controllers.PropertyImagesController.GetListingImageUrls (RealEstateApi)'
2025-06-12 21:08:29.850 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5009/api/v1/PropertyImages/urls/019764a6-9145-7345-9060-b63156d5ee3b - 200 null application/json; charset=utf-8 121.2248ms
2025-06-12 21:08:44.944 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5009/property-images/019764a6-9145-7345-9060-b63156d5ee3b/cd6b9390-b380-4859-8fb8-6752ed9b3323.jpg - null null
2025-06-12 21:08:44.979 +05:30 [INF] Sending file. Request path: '/property-images/019764a6-9145-7345-9060-b63156d5ee3b/cd6b9390-b380-4859-8fb8-6752ed9b3323.jpg'. Physical path: '/Users/muckesh/Muckesh/Presidio/Genspark-Training/Capstone-1/RealEstateApi/wwwroot/property-images/019764a6-9145-7345-9060-b63156d5ee3b/cd6b9390-b380-4859-8fb8-6752ed9b3323.jpg'
2025-06-12 21:08:44.994 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5009/property-images/019764a6-9145-7345-9060-b63156d5ee3b/cd6b9390-b380-4859-8fb8-6752ed9b3323.jpg - 200 920097 image/jpeg 49.6525ms
2025-06-12 21:08:44.996 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5009/favicon.ico - null null
2025-06-12 21:08:45.005 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5009/favicon.ico - 404 0 null 9.6339ms
2025-06-12 21:08:45.006 +05:30 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5009/favicon.ico, Response status code: 404
2025-06-12 21:09:14.612 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5009/api/v1/PropertyImages/urls/019764a6-9145-7345-9060-b63156d5ee3b - application/json 58
2025-06-12 21:09:14.658 +05:30 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '6/11/2025 8:16:23PM', Current time (UTC): '6/12/2025 3:39:14PM'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-06-12 21:09:14.667 +05:30 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '6/11/2025 8:16:23PM', Current time (UTC): '6/12/2025 3:39:14PM'.
2025-06-12 21:09:14.668 +05:30 [INF] Executing endpoint 'RealEstateApi.Controllers.PropertyImagesController.GetListingImageUrls (RealEstateApi)'
2025-06-12 21:09:14.669 +05:30 [INF] Route matched with {action = "GetListingImageUrls", controller = "PropertyImages"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListingImageUrls(System.Guid) on controller RealEstateApi.Controllers.PropertyImagesController (RealEstateApi).
2025-06-12 21:09:14.743 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."AgentId", s."Bathrooms", s."Bedrooms", s."CreatedAt", s."Description", s."IsDeleted", s."Location", s."Price", s."SquareFeet", s."Title", s."Id0", s."AgencyName", s."LicenseNumber", s."Phone", p1."Id", p1."DeletedAt", p1."FileName", p1."FileUrl", p1."IsDeleted", p1."PropertyListingId", i."Id", i."BuyerId", i."CreatedAt", i."ListingId", i."Message"
FROM (
    SELECT p."Id", p."AgentId", p."Bathrooms", p."Bedrooms", p."CreatedAt", p."Description", p."IsDeleted", p."Location", p."Price", p."SquareFeet", p."Title", a."Id" AS "Id0", a."AgencyName", a."LicenseNumber", a."Phone"
    FROM "PropertyListings" AS p
    INNER JOIN "Agents" AS a ON p."AgentId" = a."Id"
    WHERE NOT (p."IsDeleted") AND p."Id" = @__id_0
    LIMIT 1
) AS s
LEFT JOIN (
    SELECT p0."Id", p0."DeletedAt", p0."FileName", p0."FileUrl", p0."IsDeleted", p0."PropertyListingId"
    FROM "PropertyImages" AS p0
    WHERE NOT (p0."IsDeleted")
) AS p1 ON s."Id" = p1."PropertyListingId"
LEFT JOIN "Inquiries" AS i ON s."Id" = i."ListingId"
ORDER BY s."Id", s."Id0", p1."Id"
2025-06-12 21:09:14.745 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."DeletedAt", p."FileName", p."FileUrl", p."IsDeleted", p."PropertyListingId", p0."Id", p0."AgentId", p0."Bathrooms", p0."Bedrooms", p0."CreatedAt", p0."Description", p0."IsDeleted", p0."Location", p0."Price", p0."SquareFeet", p0."Title"
FROM "PropertyImages" AS p
INNER JOIN "PropertyListings" AS p0 ON p."PropertyListingId" = p0."Id"
WHERE NOT (p."IsDeleted")
2025-06-12 21:09:14.746 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+SelectListIterator`2[[RealEstateApi.Models.PropertyImage, RealEstateApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-06-12 21:09:14.746 +05:30 [INF] Executed action RealEstateApi.Controllers.PropertyImagesController.GetListingImageUrls (RealEstateApi) in 77.1325ms
2025-06-12 21:09:14.746 +05:30 [INF] Executed endpoint 'RealEstateApi.Controllers.PropertyImagesController.GetListingImageUrls (RealEstateApi)'
2025-06-12 21:09:14.746 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5009/api/v1/PropertyImages/urls/019764a6-9145-7345-9060-b63156d5ee3b - 200 null application/json; charset=utf-8 133.8153ms
2025-06-12 21:09:26.996 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5009/property-images/019764a6-9145-7345-9060-b63156d5ee3b/cd6b9390-b380-4859-8fb8-6752ed9b3323.jpg - null null
2025-06-12 21:09:27.030 +05:30 [INF] Sending file. Request path: '/property-images/019764a6-9145-7345-9060-b63156d5ee3b/cd6b9390-b380-4859-8fb8-6752ed9b3323.jpg'. Physical path: '/Users/muckesh/Muckesh/Presidio/Genspark-Training/Capstone-1/RealEstateApi/wwwroot/property-images/019764a6-9145-7345-9060-b63156d5ee3b/cd6b9390-b380-4859-8fb8-6752ed9b3323.jpg'
2025-06-12 21:09:27.030 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5009/property-images/019764a6-9145-7345-9060-b63156d5ee3b/cd6b9390-b380-4859-8fb8-6752ed9b3323.jpg - 200 920097 image/jpeg 34.1013ms
2025-06-12 21:09:27.187 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5009/favicon.ico - null null
2025-06-12 21:09:27.188 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5009/favicon.ico - 404 0 null 0.5272ms
2025-06-12 21:09:27.188 +05:30 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5009/favicon.ico, Response status code: 404
2025-06-12 21:10:31.308 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5009/api/v1/PropertyListings/upload-image - multipart/form-data; boundary=----WebKitFormBoundaryX6LQo0IXxwAsRDBn 1885
2025-06-12 21:10:31.314 +05:30 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Agent)
2025-06-12 21:10:31.318 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2025-06-12 21:10:31.318 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5009/api/v1/PropertyListings/upload-image - 401 0 null 10.1145ms
2025-06-12 21:11:02.736 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5009/api/v1/Auth/login - application/json 58
2025-06-12 21:11:02.737 +05:30 [INF] Executing endpoint 'RealEstateApi.Controllers.AuthController.Login (RealEstateApi)'
2025-06-12 21:11:02.742 +05:30 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[RealEstateApi.Models.DTOs.AuthResponseDto]] Login(RealEstateApi.Models.DTOs.LoginDto) on controller RealEstateApi.Controllers.AuthController (RealEstateApi).
2025-06-12 21:11:02.773 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."Email", u."IsDeleted", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role"
FROM "Users" AS u
WHERE NOT (u."IsDeleted")
2025-06-12 21:11:03.087 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."Email", u."IsDeleted", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role"
FROM "Users" AS u
WHERE NOT (u."IsDeleted") AND u."Id" = @__id_0
LIMIT 2
2025-06-12 21:11:03.171 +05:30 [INF] Executed DbCommand (5ms) [Parameters=[@p2='?' (DbType = Guid), @p0='?', @p1='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Users" SET "RefreshToken" = @p0, "RefreshTokenExpiryTime" = @p1
WHERE "Id" = @p2;
2025-06-12 21:11:03.229 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?', @p3='?', @p4='?', @p5='?', @p6='?' (DbType = DateTime), @p7='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AuditLogs" ("Id", "ActionType", "NewValues", "OldValues", "PrimaryKey", "TableName", "Timestamp", "UserId")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
2025-06-12 21:11:03.231 +05:30 [INF] Executing OkObjectResult, writing value of type 'RealEstateApi.Models.DTOs.AuthResponseDto'.
2025-06-12 21:11:03.232 +05:30 [INF] Executed action RealEstateApi.Controllers.AuthController.Login (RealEstateApi) in 490.0906ms
2025-06-12 21:11:03.232 +05:30 [INF] Executed endpoint 'RealEstateApi.Controllers.AuthController.Login (RealEstateApi)'
2025-06-12 21:11:03.232 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5009/api/v1/Auth/login - 200 null application/json; charset=utf-8 495.9691ms
2025-06-12 21:11:25.634 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5009/api/v1/PropertyListings/upload-image - multipart/form-data; boundary=----WebKitFormBoundaryx8jH1XWYh6AVAchw 1885
2025-06-12 21:11:25.658 +05:30 [INF] Executing endpoint 'RealEstateApi.Controllers.PropertyListingsController.UploadImage (RealEstateApi)'
2025-06-12 21:11:25.661 +05:30 [INF] Route matched with {action = "UploadImage", controller = "PropertyListings"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UploadImage(RealEstateApi.Models.DTOs.AddPropertyImageDto) on controller RealEstateApi.Controllers.PropertyListingsController (RealEstateApi).
2025-06-12 21:11:25.677 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."AgentId", s."Bathrooms", s."Bedrooms", s."CreatedAt", s."Description", s."IsDeleted", s."Location", s."Price", s."SquareFeet", s."Title", s."Id0", s."AgencyName", s."LicenseNumber", s."Phone", p1."Id", p1."DeletedAt", p1."FileName", p1."FileUrl", p1."IsDeleted", p1."PropertyListingId", i."Id", i."BuyerId", i."CreatedAt", i."ListingId", i."Message"
FROM (
    SELECT p."Id", p."AgentId", p."Bathrooms", p."Bedrooms", p."CreatedAt", p."Description", p."IsDeleted", p."Location", p."Price", p."SquareFeet", p."Title", a."Id" AS "Id0", a."AgencyName", a."LicenseNumber", a."Phone"
    FROM "PropertyListings" AS p
    INNER JOIN "Agents" AS a ON p."AgentId" = a."Id"
    WHERE NOT (p."IsDeleted") AND p."Id" = @__id_0
    LIMIT 1
) AS s
LEFT JOIN (
    SELECT p0."Id", p0."DeletedAt", p0."FileName", p0."FileUrl", p0."IsDeleted", p0."PropertyListingId"
    FROM "PropertyImages" AS p0
    WHERE NOT (p0."IsDeleted")
) AS p1 ON s."Id" = p1."PropertyListingId"
LEFT JOIN "Inquiries" AS i ON s."Id" = i."ListingId"
ORDER BY s."Id", s."Id0", p1."Id"
2025-06-12 21:11:25.679 +05:30 [INF] Executing ObjectResult, writing value of type 'System.String'.
2025-06-12 21:11:25.679 +05:30 [INF] Executed action RealEstateApi.Controllers.PropertyListingsController.UploadImage (RealEstateApi) in 17.9765ms
2025-06-12 21:11:25.679 +05:30 [INF] Executed endpoint 'RealEstateApi.Controllers.PropertyListingsController.UploadImage (RealEstateApi)'
2025-06-12 21:11:25.680 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5009/api/v1/PropertyListings/upload-image - 500 null text/plain; charset=utf-8 45.6547ms
2025-06-12 21:11:34.287 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5009/api/v1/PropertyListings/upload-image - multipart/form-data; boundary=----WebKitFormBoundarys0AEgQnUq0W3daaS 920429
2025-06-12 21:11:34.295 +05:30 [INF] Executing endpoint 'RealEstateApi.Controllers.PropertyListingsController.UploadImage (RealEstateApi)'
2025-06-12 21:11:34.296 +05:30 [INF] Route matched with {action = "UploadImage", controller = "PropertyListings"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UploadImage(RealEstateApi.Models.DTOs.AddPropertyImageDto) on controller RealEstateApi.Controllers.PropertyListingsController (RealEstateApi).
2025-06-12 21:11:34.317 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."AgentId", s."Bathrooms", s."Bedrooms", s."CreatedAt", s."Description", s."IsDeleted", s."Location", s."Price", s."SquareFeet", s."Title", s."Id0", s."AgencyName", s."LicenseNumber", s."Phone", p1."Id", p1."DeletedAt", p1."FileName", p1."FileUrl", p1."IsDeleted", p1."PropertyListingId", i."Id", i."BuyerId", i."CreatedAt", i."ListingId", i."Message"
FROM (
    SELECT p."Id", p."AgentId", p."Bathrooms", p."Bedrooms", p."CreatedAt", p."Description", p."IsDeleted", p."Location", p."Price", p."SquareFeet", p."Title", a."Id" AS "Id0", a."AgencyName", a."LicenseNumber", a."Phone"
    FROM "PropertyListings" AS p
    INNER JOIN "Agents" AS a ON p."AgentId" = a."Id"
    WHERE NOT (p."IsDeleted") AND p."Id" = @__id_0
    LIMIT 1
) AS s
LEFT JOIN (
    SELECT p0."Id", p0."DeletedAt", p0."FileName", p0."FileUrl", p0."IsDeleted", p0."PropertyListingId"
    FROM "PropertyImages" AS p0
    WHERE NOT (p0."IsDeleted")
) AS p1 ON s."Id" = p1."PropertyListingId"
LEFT JOIN "Inquiries" AS i ON s."Id" = i."ListingId"
ORDER BY s."Id", s."Id0", p1."Id"
2025-06-12 21:11:34.355 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime), @p2='?', @p3='?', @p4='?' (DbType = Boolean), @p5='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "PropertyImages" ("Id", "DeletedAt", "FileName", "FileUrl", "IsDeleted", "PropertyListingId")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2025-06-12 21:11:34.358 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?', @p3='?', @p4='?', @p5='?', @p6='?' (DbType = DateTime), @p7='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AuditLogs" ("Id", "ActionType", "NewValues", "OldValues", "PrimaryKey", "TableName", "Timestamp", "UserId")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
2025-06-12 21:11:34.358 +05:30 [INF] Executing OkObjectResult, writing value of type 'RealEstateApi.Models.PropertyImage'.
2025-06-12 21:11:34.359 +05:30 [INF] Executed action RealEstateApi.Controllers.PropertyListingsController.UploadImage (RealEstateApi) in 62.9347ms
2025-06-12 21:11:34.359 +05:30 [INF] Executed endpoint 'RealEstateApi.Controllers.PropertyListingsController.UploadImage (RealEstateApi)'
2025-06-12 21:11:34.360 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5009/api/v1/PropertyListings/upload-image - 200 null application/json; charset=utf-8 73.1438ms
2025-06-12 21:11:43.176 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5009/api/v1/PropertyImages/urls/019764a6-9145-7345-9060-b63156d5ee3b - application/json 58
2025-06-12 21:11:43.177 +05:30 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '6/11/2025 8:16:23PM', Current time (UTC): '6/12/2025 3:41:43PM'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-06-12 21:11:43.178 +05:30 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '6/11/2025 8:16:23PM', Current time (UTC): '6/12/2025 3:41:43PM'.
2025-06-12 21:11:43.178 +05:30 [INF] Executing endpoint 'RealEstateApi.Controllers.PropertyImagesController.GetListingImageUrls (RealEstateApi)'
2025-06-12 21:11:43.178 +05:30 [INF] Route matched with {action = "GetListingImageUrls", controller = "PropertyImages"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListingImageUrls(System.Guid) on controller RealEstateApi.Controllers.PropertyImagesController (RealEstateApi).
2025-06-12 21:11:43.181 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."AgentId", s."Bathrooms", s."Bedrooms", s."CreatedAt", s."Description", s."IsDeleted", s."Location", s."Price", s."SquareFeet", s."Title", s."Id0", s."AgencyName", s."LicenseNumber", s."Phone", p1."Id", p1."DeletedAt", p1."FileName", p1."FileUrl", p1."IsDeleted", p1."PropertyListingId", i."Id", i."BuyerId", i."CreatedAt", i."ListingId", i."Message"
FROM (
    SELECT p."Id", p."AgentId", p."Bathrooms", p."Bedrooms", p."CreatedAt", p."Description", p."IsDeleted", p."Location", p."Price", p."SquareFeet", p."Title", a."Id" AS "Id0", a."AgencyName", a."LicenseNumber", a."Phone"
    FROM "PropertyListings" AS p
    INNER JOIN "Agents" AS a ON p."AgentId" = a."Id"
    WHERE NOT (p."IsDeleted") AND p."Id" = @__id_0
    LIMIT 1
) AS s
LEFT JOIN (
    SELECT p0."Id", p0."DeletedAt", p0."FileName", p0."FileUrl", p0."IsDeleted", p0."PropertyListingId"
    FROM "PropertyImages" AS p0
    WHERE NOT (p0."IsDeleted")
) AS p1 ON s."Id" = p1."PropertyListingId"
LEFT JOIN "Inquiries" AS i ON s."Id" = i."ListingId"
ORDER BY s."Id", s."Id0", p1."Id"
2025-06-12 21:11:43.182 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."DeletedAt", p."FileName", p."FileUrl", p."IsDeleted", p."PropertyListingId", p0."Id", p0."AgentId", p0."Bathrooms", p0."Bedrooms", p0."CreatedAt", p0."Description", p0."IsDeleted", p0."Location", p0."Price", p0."SquareFeet", p0."Title"
FROM "PropertyImages" AS p
INNER JOIN "PropertyListings" AS p0 ON p."PropertyListingId" = p0."Id"
WHERE NOT (p."IsDeleted")
2025-06-12 21:11:43.182 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+SelectListIterator`2[[RealEstateApi.Models.PropertyImage, RealEstateApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-06-12 21:11:43.182 +05:30 [INF] Executed action RealEstateApi.Controllers.PropertyImagesController.GetListingImageUrls (RealEstateApi) in 4.3606ms
2025-06-12 21:11:43.182 +05:30 [INF] Executed endpoint 'RealEstateApi.Controllers.PropertyImagesController.GetListingImageUrls (RealEstateApi)'
2025-06-12 21:11:43.182 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5009/api/v1/PropertyImages/urls/019764a6-9145-7345-9060-b63156d5ee3b - 200 null application/json; charset=utf-8 6.614ms
2025-06-12 21:24:38.631 +05:30 [INF] Application is shutting down...
2025-06-12 21:24:50.855 +05:30 [INF] User profile is available. Using '/Users/muckesh/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2025-06-12 21:24:50.975 +05:30 [INF] Now listening on: http://localhost:5009
2025-06-12 21:24:50.978 +05:30 [INF] Application started. Press Ctrl+C to shut down.
2025-06-12 21:24:50.979 +05:30 [INF] Hosting environment: Development
2025-06-12 21:24:50.979 +05:30 [INF] Content root path: /Users/muckesh/Muckesh/Presidio/Genspark-Training/Capstone-1/RealEstateApi
2025-06-12 21:25:00.614 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5009/swagger/index.html - null null
2025-06-12 21:25:00.692 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5009/swagger/index.html - 200 null text/html;charset=utf-8 78.9365ms
2025-06-12 21:25:00.870 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5009/swagger/v1/swagger.json - null null
2025-06-12 21:25:01.036 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5009/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 166.7836ms
2025-06-12 21:25:12.174 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5009/api/v1/PropertyImages/019764a6-9145-7345-9060-b63156d5ee3b/images-binary - null null
2025-06-12 21:25:12.214 +05:30 [WRN] Failed to determine the https port for redirect.
2025-06-12 21:25:12.258 +05:30 [INF] Executing endpoint 'RealEstateApi.Controllers.PropertyImagesController.GetListingImagesAsFiles (RealEstateApi)'
2025-06-12 21:25:12.287 +05:30 [INF] Route matched with {action = "GetListingImagesAsFiles", controller = "PropertyImages"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListingImagesAsFiles(System.Guid) on controller RealEstateApi.Controllers.PropertyImagesController (RealEstateApi).
2025-06-12 21:25:13.372 +05:30 [WRN] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2025-06-12 21:25:13.651 +05:30 [INF] Executed DbCommand (51ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."AgentId", s."Bathrooms", s."Bedrooms", s."CreatedAt", s."Description", s."IsDeleted", s."Location", s."Price", s."SquareFeet", s."Title", s."Id0", s."AgencyName", s."LicenseNumber", s."Phone", p1."Id", p1."DeletedAt", p1."FileName", p1."FileUrl", p1."IsDeleted", p1."PropertyListingId", i."Id", i."BuyerId", i."CreatedAt", i."ListingId", i."Message"
FROM (
    SELECT p."Id", p."AgentId", p."Bathrooms", p."Bedrooms", p."CreatedAt", p."Description", p."IsDeleted", p."Location", p."Price", p."SquareFeet", p."Title", a."Id" AS "Id0", a."AgencyName", a."LicenseNumber", a."Phone"
    FROM "PropertyListings" AS p
    INNER JOIN "Agents" AS a ON p."AgentId" = a."Id"
    WHERE NOT (p."IsDeleted") AND p."Id" = @__id_0
    LIMIT 1
) AS s
LEFT JOIN (
    SELECT p0."Id", p0."DeletedAt", p0."FileName", p0."FileUrl", p0."IsDeleted", p0."PropertyListingId"
    FROM "PropertyImages" AS p0
    WHERE NOT (p0."IsDeleted")
) AS p1 ON s."Id" = p1."PropertyListingId"
LEFT JOIN "Inquiries" AS i ON s."Id" = i."ListingId"
ORDER BY s."Id", s."Id0", p1."Id"
2025-06-12 21:25:13.812 +05:30 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."DeletedAt", p."FileName", p."FileUrl", p."IsDeleted", p."PropertyListingId", p0."Id", p0."AgentId", p0."Bathrooms", p0."Bedrooms", p0."CreatedAt", p0."Description", p0."IsDeleted", p0."Location", p0."Price", p0."SquareFeet", p0."Title"
FROM "PropertyImages" AS p
INNER JOIN "PropertyListings" AS p0 ON p."PropertyListingId" = p0."Id"
WHERE NOT (p."IsDeleted")
2025-06-12 21:25:13.827 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+SelectListIterator`2[[System.ValueTuple`3[[System.Byte[], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[<>f__AnonymousType4`3[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], RealEstateApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-12 21:25:13.887 +05:30 [INF] Executed action RealEstateApi.Controllers.PropertyImagesController.GetListingImagesAsFiles (RealEstateApi) in 1596.2809ms
2025-06-12 21:25:13.887 +05:30 [INF] Executed endpoint 'RealEstateApi.Controllers.PropertyImagesController.GetListingImagesAsFiles (RealEstateApi)'
2025-06-12 21:25:13.899 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5009/api/v1/PropertyImages/019764a6-9145-7345-9060-b63156d5ee3b/images-binary - 200 null application/json; charset=utf-8 1725.0488ms
2025-06-12 21:29:07.979 +05:30 [INF] Application is shutting down...
2025-06-12 21:29:16.813 +05:30 [INF] User profile is available. Using '/Users/muckesh/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2025-06-12 21:29:16.937 +05:30 [INF] Now listening on: http://localhost:5009
2025-06-12 21:29:16.940 +05:30 [INF] Application started. Press Ctrl+C to shut down.
2025-06-12 21:29:16.941 +05:30 [INF] Hosting environment: Development
2025-06-12 21:29:16.941 +05:30 [INF] Content root path: /Users/muckesh/Muckesh/Presidio/Genspark-Training/Capstone-1/RealEstateApi
2025-06-12 21:29:17.240 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5009/swagger/index.html - null null
2025-06-12 21:29:17.341 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5009/swagger/index.html - 200 null text/html;charset=utf-8 102.9624ms
2025-06-12 21:29:19.014 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5009/swagger/index.html - null null
2025-06-12 21:29:19.020 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5009/swagger/index.html - 200 null text/html;charset=utf-8 7.2378ms
2025-06-12 21:29:19.224 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5009/swagger/v1/swagger.json - null null
2025-06-12 21:29:19.384 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5009/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 159.3779ms
2025-06-12 21:34:18.828 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5009/api/v1/PropertyListings - null null
2025-06-12 21:34:18.864 +05:30 [WRN] Failed to determine the https port for redirect.
2025-06-12 21:34:18.899 +05:30 [INF] Executing endpoint 'RealEstateApi.Controllers.PropertyListingsController.SearchListings (RealEstateApi)'
2025-06-12 21:34:18.924 +05:30 [INF] Route matched with {action = "SearchListings", controller = "PropertyListings"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SearchListings(RealEstateApi.Models.DTOs.PropertyListingQueryParametersDto) on controller RealEstateApi.Controllers.PropertyListingsController (RealEstateApi).
2025-06-12 21:34:20.010 +05:30 [WRN] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2025-06-12 21:34:20.236 +05:30 [INF] Executed DbCommand (20ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."AgentId", p."Bathrooms", p."Bedrooms", p."CreatedAt", p."Description", p."IsDeleted", p."Location", p."Price", p."SquareFeet", p."Title", a."Id", a."AgencyName", a."LicenseNumber", a."Phone", p1."Id", p1."DeletedAt", p1."FileName", p1."FileUrl", p1."IsDeleted", p1."PropertyListingId", i."Id", i."BuyerId", i."CreatedAt", i."ListingId", i."Message"
FROM "PropertyListings" AS p
INNER JOIN "Agents" AS a ON p."AgentId" = a."Id"
LEFT JOIN (
    SELECT p0."Id", p0."DeletedAt", p0."FileName", p0."FileUrl", p0."IsDeleted", p0."PropertyListingId"
    FROM "PropertyImages" AS p0
    WHERE NOT (p0."IsDeleted")
) AS p1 ON p."Id" = p1."PropertyListingId"
LEFT JOIN "Inquiries" AS i ON p."Id" = i."ListingId"
WHERE NOT (p."IsDeleted")
ORDER BY p."Id", a."Id", p1."Id"
2025-06-12 21:34:20.409 +05:30 [INF] Executing OkObjectResult, writing value of type 'RealEstateApi.Models.DTOs.PagedResult`1[[RealEstateApi.Models.PropertyListing, RealEstateApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-12 21:34:20.467 +05:30 [INF] Executed action RealEstateApi.Controllers.PropertyListingsController.SearchListings (RealEstateApi) in 1539.968ms
2025-06-12 21:34:20.467 +05:30 [INF] Executed endpoint 'RealEstateApi.Controllers.PropertyListingsController.SearchListings (RealEstateApi)'
2025-06-12 21:34:20.476 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5009/api/v1/PropertyListings - 200 null application/json; charset=utf-8 1648.5263ms
2025-06-12 21:34:57.101 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5009/api/v1/PropertyListings/019764a6-9145-7345-9060-b63156d5ee3b - null null
2025-06-12 21:34:57.116 +05:30 [INF] Executing endpoint 'RealEstateApi.Controllers.PropertyListingsController.GetListingById (RealEstateApi)'
2025-06-12 21:34:57.121 +05:30 [INF] Route matched with {action = "GetListingById", controller = "PropertyListings"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListingById(System.Guid) on controller RealEstateApi.Controllers.PropertyListingsController (RealEstateApi).
2025-06-12 21:34:57.156 +05:30 [WRN] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2025-06-12 21:34:57.206 +05:30 [INF] Executed DbCommand (12ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."AgentId", s."Bathrooms", s."Bedrooms", s."CreatedAt", s."Description", s."IsDeleted", s."Location", s."Price", s."SquareFeet", s."Title", s."Id0", s."AgencyName", s."LicenseNumber", s."Phone", p1."Id", p1."DeletedAt", p1."FileName", p1."FileUrl", p1."IsDeleted", p1."PropertyListingId", i."Id", i."BuyerId", i."CreatedAt", i."ListingId", i."Message"
FROM (
    SELECT p."Id", p."AgentId", p."Bathrooms", p."Bedrooms", p."CreatedAt", p."Description", p."IsDeleted", p."Location", p."Price", p."SquareFeet", p."Title", a."Id" AS "Id0", a."AgencyName", a."LicenseNumber", a."Phone"
    FROM "PropertyListings" AS p
    INNER JOIN "Agents" AS a ON p."AgentId" = a."Id"
    WHERE NOT (p."IsDeleted") AND p."Id" = @__id_0
    LIMIT 1
) AS s
LEFT JOIN (
    SELECT p0."Id", p0."DeletedAt", p0."FileName", p0."FileUrl", p0."IsDeleted", p0."PropertyListingId"
    FROM "PropertyImages" AS p0
    WHERE NOT (p0."IsDeleted")
) AS p1 ON s."Id" = p1."PropertyListingId"
LEFT JOIN "Inquiries" AS i ON s."Id" = i."ListingId"
ORDER BY s."Id", s."Id0", p1."Id"
2025-06-12 21:34:57.210 +05:30 [INF] Executing OkObjectResult, writing value of type 'RealEstateApi.Models.PropertyListing'.
2025-06-12 21:34:57.211 +05:30 [INF] Executed action RealEstateApi.Controllers.PropertyListingsController.GetListingById (RealEstateApi) in 89.8112ms
2025-06-12 21:34:57.211 +05:30 [INF] Executed endpoint 'RealEstateApi.Controllers.PropertyListingsController.GetListingById (RealEstateApi)'
2025-06-12 21:34:57.212 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5009/api/v1/PropertyListings/019764a6-9145-7345-9060-b63156d5ee3b - 200 null application/json; charset=utf-8 110.8775ms
2025-06-12 21:35:22.316 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5009/api/v1/PropertyImages/file/019764a6-9145-7345-9060-b63156d5ee3b - null null
2025-06-12 21:35:22.331 +05:30 [INF] Executing endpoint 'RealEstateApi.Controllers.PropertyImagesController.GetImageFile (RealEstateApi)'
2025-06-12 21:35:22.336 +05:30 [INF] Route matched with {action = "GetImageFile", controller = "PropertyImages"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetImageFile(System.Guid) on controller RealEstateApi.Controllers.PropertyImagesController (RealEstateApi).
2025-06-12 21:35:22.414 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."DeletedAt", p."FileName", p."FileUrl", p."IsDeleted", p."PropertyListingId", p0."Id", p0."AgentId", p0."Bathrooms", p0."Bedrooms", p0."CreatedAt", p0."Description", p0."IsDeleted", p0."Location", p0."Price", p0."SquareFeet", p0."Title"
FROM "PropertyImages" AS p
INNER JOIN "PropertyListings" AS p0 ON p."PropertyListingId" = p0."Id"
WHERE NOT (p."IsDeleted") AND p."Id" = @__id_0
LIMIT 2
2025-06-12 21:35:22.416 +05:30 [INF] Executing BadRequestObjectResult, writing value of type '<>f__AnonymousType3`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-06-12 21:35:22.425 +05:30 [INF] Executed action RealEstateApi.Controllers.PropertyImagesController.GetImageFile (RealEstateApi) in 88.6866ms
2025-06-12 21:35:22.425 +05:30 [INF] Executed endpoint 'RealEstateApi.Controllers.PropertyImagesController.GetImageFile (RealEstateApi)'
2025-06-12 21:35:22.425 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5009/api/v1/PropertyImages/file/019764a6-9145-7345-9060-b63156d5ee3b - 400 null application/json; charset=utf-8 108.9098ms
2025-06-12 21:35:41.900 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5009/api/v1/PropertyImages/urls/019764a6-9145-7345-9060-b63156d5ee3b - null null
2025-06-12 21:35:41.902 +05:30 [INF] Executing endpoint 'RealEstateApi.Controllers.PropertyImagesController.GetListingImageUrls (RealEstateApi)'
2025-06-12 21:35:41.907 +05:30 [INF] Route matched with {action = "GetListingImageUrls", controller = "PropertyImages"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListingImageUrls(System.Guid) on controller RealEstateApi.Controllers.PropertyImagesController (RealEstateApi).
2025-06-12 21:35:41.917 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."AgentId", s."Bathrooms", s."Bedrooms", s."CreatedAt", s."Description", s."IsDeleted", s."Location", s."Price", s."SquareFeet", s."Title", s."Id0", s."AgencyName", s."LicenseNumber", s."Phone", p1."Id", p1."DeletedAt", p1."FileName", p1."FileUrl", p1."IsDeleted", p1."PropertyListingId", i."Id", i."BuyerId", i."CreatedAt", i."ListingId", i."Message"
FROM (
    SELECT p."Id", p."AgentId", p."Bathrooms", p."Bedrooms", p."CreatedAt", p."Description", p."IsDeleted", p."Location", p."Price", p."SquareFeet", p."Title", a."Id" AS "Id0", a."AgencyName", a."LicenseNumber", a."Phone"
    FROM "PropertyListings" AS p
    INNER JOIN "Agents" AS a ON p."AgentId" = a."Id"
    WHERE NOT (p."IsDeleted") AND p."Id" = @__id_0
    LIMIT 1
) AS s
LEFT JOIN (
    SELECT p0."Id", p0."DeletedAt", p0."FileName", p0."FileUrl", p0."IsDeleted", p0."PropertyListingId"
    FROM "PropertyImages" AS p0
    WHERE NOT (p0."IsDeleted")
) AS p1 ON s."Id" = p1."PropertyListingId"
LEFT JOIN "Inquiries" AS i ON s."Id" = i."ListingId"
ORDER BY s."Id", s."Id0", p1."Id"
2025-06-12 21:35:41.931 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."DeletedAt", p."FileName", p."FileUrl", p."IsDeleted", p."PropertyListingId", p0."Id", p0."AgentId", p0."Bathrooms", p0."Bedrooms", p0."CreatedAt", p0."Description", p0."IsDeleted", p0."Location", p0."Price", p0."SquareFeet", p0."Title"
FROM "PropertyImages" AS p
INNER JOIN "PropertyListings" AS p0 ON p."PropertyListingId" = p0."Id"
WHERE NOT (p."IsDeleted")
2025-06-12 21:35:41.933 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+SelectListIterator`2[[RealEstateApi.Models.PropertyImage, RealEstateApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-06-12 21:35:41.934 +05:30 [INF] Executed action RealEstateApi.Controllers.PropertyImagesController.GetListingImageUrls (RealEstateApi) in 26.5165ms
2025-06-12 21:35:41.934 +05:30 [INF] Executed endpoint 'RealEstateApi.Controllers.PropertyImagesController.GetListingImageUrls (RealEstateApi)'
2025-06-12 21:35:41.935 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5009/api/v1/PropertyImages/urls/019764a6-9145-7345-9060-b63156d5ee3b - 200 null application/json; charset=utf-8 34.0689ms
2025-06-12 21:36:05.679 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5009/api/v1/PropertyImages/019764a6-9145-7345-9060-b63156d5ee3b/images - null null
2025-06-12 21:36:05.679 +05:30 [INF] Executing endpoint 'RealEstateApi.Controllers.PropertyImagesController.GetImages (RealEstateApi)'
2025-06-12 21:36:05.697 +05:30 [INF] Route matched with {action = "GetImages", controller = "PropertyImages"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetImages(System.Guid) on controller RealEstateApi.Controllers.PropertyImagesController (RealEstateApi).
2025-06-12 21:36:05.701 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."AgentId", s."Bathrooms", s."Bedrooms", s."CreatedAt", s."Description", s."IsDeleted", s."Location", s."Price", s."SquareFeet", s."Title", s."Id0", s."AgencyName", s."LicenseNumber", s."Phone", p1."Id", p1."DeletedAt", p1."FileName", p1."FileUrl", p1."IsDeleted", p1."PropertyListingId", i."Id", i."BuyerId", i."CreatedAt", i."ListingId", i."Message"
FROM (
    SELECT p."Id", p."AgentId", p."Bathrooms", p."Bedrooms", p."CreatedAt", p."Description", p."IsDeleted", p."Location", p."Price", p."SquareFeet", p."Title", a."Id" AS "Id0", a."AgencyName", a."LicenseNumber", a."Phone"
    FROM "PropertyListings" AS p
    INNER JOIN "Agents" AS a ON p."AgentId" = a."Id"
    WHERE NOT (p."IsDeleted") AND p."Id" = @__id_0
    LIMIT 1
) AS s
LEFT JOIN (
    SELECT p0."Id", p0."DeletedAt", p0."FileName", p0."FileUrl", p0."IsDeleted", p0."PropertyListingId"
    FROM "PropertyImages" AS p0
    WHERE NOT (p0."IsDeleted")
) AS p1 ON s."Id" = p1."PropertyListingId"
LEFT JOIN "Inquiries" AS i ON s."Id" = i."ListingId"
ORDER BY s."Id", s."Id0", p1."Id"
2025-06-12 21:36:05.703 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."DeletedAt", p."FileName", p."FileUrl", p."IsDeleted", p."PropertyListingId", p0."Id", p0."AgentId", p0."Bathrooms", p0."Bedrooms", p0."CreatedAt", p0."Description", p0."IsDeleted", p0."Location", p0."Price", p0."SquareFeet", p0."Title"
FROM "PropertyImages" AS p
INNER JOIN "PropertyListings" AS p0 ON p."PropertyListingId" = p0."Id"
WHERE NOT (p."IsDeleted")
2025-06-12 21:36:05.704 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+WhereSelectListIterator`2[[RealEstateApi.Models.PropertyImage, RealEstateApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[<>f__AnonymousType1`2[[System.Guid, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], RealEstateApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-12 21:36:05.706 +05:30 [INF] Executed action RealEstateApi.Controllers.PropertyImagesController.GetImages (RealEstateApi) in 9.4136ms
2025-06-12 21:36:05.707 +05:30 [INF] Executed endpoint 'RealEstateApi.Controllers.PropertyImagesController.GetImages (RealEstateApi)'
2025-06-12 21:36:05.707 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5009/api/v1/PropertyImages/019764a6-9145-7345-9060-b63156d5ee3b/images - 200 null application/json; charset=utf-8 28.1117ms
2025-06-12 21:36:31.409 +05:30 [INF] Request starting HTTP/1.1 DELETE http://localhost:5009/api/v1/PropertyListings/019764a6-9145-7345-9060-b63156d5ee3b - null null
2025-06-12 21:36:31.429 +05:30 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Agent)
2025-06-12 21:36:31.432 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2025-06-12 21:36:31.432 +05:30 [INF] Request finished HTTP/1.1 DELETE http://localhost:5009/api/v1/PropertyListings/019764a6-9145-7345-9060-b63156d5ee3b - 401 0 null 23.2675ms
2025-06-12 21:37:03.544 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5009/api/v1/Auth/login - application/json 58
2025-06-12 21:37:03.545 +05:30 [INF] Executing endpoint 'RealEstateApi.Controllers.AuthController.Login (RealEstateApi)'
2025-06-12 21:37:03.563 +05:30 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[RealEstateApi.Models.DTOs.AuthResponseDto]] Login(RealEstateApi.Models.DTOs.LoginDto) on controller RealEstateApi.Controllers.AuthController (RealEstateApi).
2025-06-12 21:37:03.589 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."Email", u."IsDeleted", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role"
FROM "Users" AS u
WHERE NOT (u."IsDeleted")
2025-06-12 21:37:03.897 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."Email", u."IsDeleted", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role"
FROM "Users" AS u
WHERE NOT (u."IsDeleted") AND u."Id" = @__id_0
LIMIT 2
2025-06-12 21:37:03.978 +05:30 [INF] Executed DbCommand (4ms) [Parameters=[@p2='?' (DbType = Guid), @p0='?', @p1='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Users" SET "RefreshToken" = @p0, "RefreshTokenExpiryTime" = @p1
WHERE "Id" = @p2;
2025-06-12 21:37:04.040 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?', @p3='?', @p4='?', @p5='?', @p6='?' (DbType = DateTime), @p7='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AuditLogs" ("Id", "ActionType", "NewValues", "OldValues", "PrimaryKey", "TableName", "Timestamp", "UserId")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
2025-06-12 21:37:04.042 +05:30 [INF] Executing OkObjectResult, writing value of type 'RealEstateApi.Models.DTOs.AuthResponseDto'.
2025-06-12 21:37:04.044 +05:30 [INF] Executed action RealEstateApi.Controllers.AuthController.Login (RealEstateApi) in 479.8949ms
2025-06-12 21:37:04.044 +05:30 [INF] Executed endpoint 'RealEstateApi.Controllers.AuthController.Login (RealEstateApi)'
2025-06-12 21:37:04.044 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5009/api/v1/Auth/login - 200 null application/json; charset=utf-8 500.1298ms
2025-06-12 21:37:12.840 +05:30 [INF] Request starting HTTP/1.1 DELETE http://localhost:5009/api/v1/PropertyListings/019764a6-9145-7345-9060-b63156d5ee3b - null null
2025-06-12 21:37:12.842 +05:30 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Agent)
2025-06-12 21:37:12.843 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2025-06-12 21:37:12.843 +05:30 [INF] Request finished HTTP/1.1 DELETE http://localhost:5009/api/v1/PropertyListings/019764a6-9145-7345-9060-b63156d5ee3b - 401 0 null 2.9627ms
2025-06-12 21:37:53.149 +05:30 [INF] Request starting HTTP/1.1 DELETE http://localhost:5009/api/v1/PropertyListings/019764a6-9145-7345-9060-b63156d5ee3b - null null
2025-06-12 21:37:53.189 +05:30 [INF] Executing endpoint 'RealEstateApi.Controllers.PropertyListingsController.DeleteListing (RealEstateApi)'
2025-06-12 21:37:53.192 +05:30 [INF] Route matched with {action = "DeleteListing", controller = "PropertyListings"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[RealEstateApi.Models.PropertyListing]] DeleteListing(System.Guid) on controller RealEstateApi.Controllers.PropertyListingsController (RealEstateApi).
2025-06-12 21:37:53.196 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."AgentId", s."Bathrooms", s."Bedrooms", s."CreatedAt", s."Description", s."IsDeleted", s."Location", s."Price", s."SquareFeet", s."Title", s."Id0", s."AgencyName", s."LicenseNumber", s."Phone", p1."Id", p1."DeletedAt", p1."FileName", p1."FileUrl", p1."IsDeleted", p1."PropertyListingId", i."Id", i."BuyerId", i."CreatedAt", i."ListingId", i."Message"
FROM (
    SELECT p."Id", p."AgentId", p."Bathrooms", p."Bedrooms", p."CreatedAt", p."Description", p."IsDeleted", p."Location", p."Price", p."SquareFeet", p."Title", a."Id" AS "Id0", a."AgencyName", a."LicenseNumber", a."Phone"
    FROM "PropertyListings" AS p
    INNER JOIN "Agents" AS a ON p."AgentId" = a."Id"
    WHERE NOT (p."IsDeleted") AND p."Id" = @__id_0
    LIMIT 1
) AS s
LEFT JOIN (
    SELECT p0."Id", p0."DeletedAt", p0."FileName", p0."FileUrl", p0."IsDeleted", p0."PropertyListingId"
    FROM "PropertyImages" AS p0
    WHERE NOT (p0."IsDeleted")
) AS p1 ON s."Id" = p1."PropertyListingId"
LEFT JOIN "Inquiries" AS i ON s."Id" = i."ListingId"
ORDER BY s."Id", s."Id0", p1."Id"
2025-06-12 21:37:53.199 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."AgentId", s."Bathrooms", s."Bedrooms", s."CreatedAt", s."Description", s."IsDeleted", s."Location", s."Price", s."SquareFeet", s."Title", s."Id0", s."AgencyName", s."LicenseNumber", s."Phone", p1."Id", p1."DeletedAt", p1."FileName", p1."FileUrl", p1."IsDeleted", p1."PropertyListingId", i."Id", i."BuyerId", i."CreatedAt", i."ListingId", i."Message"
FROM (
    SELECT p."Id", p."AgentId", p."Bathrooms", p."Bedrooms", p."CreatedAt", p."Description", p."IsDeleted", p."Location", p."Price", p."SquareFeet", p."Title", a."Id" AS "Id0", a."AgencyName", a."LicenseNumber", a."Phone"
    FROM "PropertyListings" AS p
    INNER JOIN "Agents" AS a ON p."AgentId" = a."Id"
    WHERE NOT (p."IsDeleted") AND p."Id" = @__id_0
    LIMIT 1
) AS s
LEFT JOIN (
    SELECT p0."Id", p0."DeletedAt", p0."FileName", p0."FileUrl", p0."IsDeleted", p0."PropertyListingId"
    FROM "PropertyImages" AS p0
    WHERE NOT (p0."IsDeleted")
) AS p1 ON s."Id" = p1."PropertyListingId"
LEFT JOIN "Inquiries" AS i ON s."Id" = i."ListingId"
ORDER BY s."Id", s."Id0", p1."Id"
2025-06-12 21:37:53.201 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."AgentId", s."Bathrooms", s."Bedrooms", s."CreatedAt", s."Description", s."IsDeleted", s."Location", s."Price", s."SquareFeet", s."Title", s."Id0", s."AgencyName", s."LicenseNumber", s."Phone", p1."Id", p1."DeletedAt", p1."FileName", p1."FileUrl", p1."IsDeleted", p1."PropertyListingId", i."Id", i."BuyerId", i."CreatedAt", i."ListingId", i."Message"
FROM (
    SELECT p."Id", p."AgentId", p."Bathrooms", p."Bedrooms", p."CreatedAt", p."Description", p."IsDeleted", p."Location", p."Price", p."SquareFeet", p."Title", a."Id" AS "Id0", a."AgencyName", a."LicenseNumber", a."Phone"
    FROM "PropertyListings" AS p
    INNER JOIN "Agents" AS a ON p."AgentId" = a."Id"
    WHERE NOT (p."IsDeleted") AND p."Id" = @__id_0
    LIMIT 1
) AS s
LEFT JOIN (
    SELECT p0."Id", p0."DeletedAt", p0."FileName", p0."FileUrl", p0."IsDeleted", p0."PropertyListingId"
    FROM "PropertyImages" AS p0
    WHERE NOT (p0."IsDeleted")
) AS p1 ON s."Id" = p1."PropertyListingId"
LEFT JOIN "Inquiries" AS i ON s."Id" = i."ListingId"
ORDER BY s."Id", s."Id0", p1."Id"
2025-06-12 21:37:53.221 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@p1='?' (DbType = Guid), @p0='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
UPDATE "PropertyListings" SET "IsDeleted" = @p0
WHERE "Id" = @p1;
2025-06-12 21:37:53.226 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?', @p3='?', @p4='?', @p5='?', @p6='?' (DbType = DateTime), @p7='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AuditLogs" ("Id", "ActionType", "NewValues", "OldValues", "PrimaryKey", "TableName", "Timestamp", "UserId")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
2025-06-12 21:37:53.227 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."DeletedAt", p."FileName", p."FileUrl", p."IsDeleted", p."PropertyListingId", p0."Id", p0."AgentId", p0."Bathrooms", p0."Bedrooms", p0."CreatedAt", p0."Description", p0."IsDeleted", p0."Location", p0."Price", p0."SquareFeet", p0."Title"
FROM "PropertyImages" AS p
INNER JOIN "PropertyListings" AS p0 ON p."PropertyListingId" = p0."Id"
WHERE NOT (p."IsDeleted")
2025-06-12 21:37:53.228 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."DeletedAt", p."FileName", p."FileUrl", p."IsDeleted", p."PropertyListingId", p0."Id", p0."AgentId", p0."Bathrooms", p0."Bedrooms", p0."CreatedAt", p0."Description", p0."IsDeleted", p0."Location", p0."Price", p0."SquareFeet", p0."Title"
FROM "PropertyImages" AS p
INNER JOIN "PropertyListings" AS p0 ON p."PropertyListingId" = p0."Id"
WHERE NOT (p."IsDeleted") AND p."Id" = @__id_0
LIMIT 2
2025-06-12 21:37:53.231 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@p2='?' (DbType = Guid), @p0='?' (DbType = DateTime), @p1='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
UPDATE "PropertyImages" SET "DeletedAt" = @p0, "IsDeleted" = @p1
WHERE "Id" = @p2;
2025-06-12 21:37:53.233 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?', @p3='?', @p4='?', @p5='?', @p6='?' (DbType = DateTime), @p7='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AuditLogs" ("Id", "ActionType", "NewValues", "OldValues", "PrimaryKey", "TableName", "Timestamp", "UserId")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
2025-06-12 21:37:53.235 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."DeletedAt", p."FileName", p."FileUrl", p."IsDeleted", p."PropertyListingId", p0."Id", p0."AgentId", p0."Bathrooms", p0."Bedrooms", p0."CreatedAt", p0."Description", p0."IsDeleted", p0."Location", p0."Price", p0."SquareFeet", p0."Title"
FROM "PropertyImages" AS p
INNER JOIN "PropertyListings" AS p0 ON p."PropertyListingId" = p0."Id"
WHERE NOT (p."IsDeleted") AND p."Id" = @__id_0
LIMIT 2
2025-06-12 21:37:53.236 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@p2='?' (DbType = Guid), @p0='?' (DbType = DateTime), @p1='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
UPDATE "PropertyImages" SET "DeletedAt" = @p0, "IsDeleted" = @p1
WHERE "Id" = @p2;
2025-06-12 21:37:53.238 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?', @p3='?', @p4='?', @p5='?', @p6='?' (DbType = DateTime), @p7='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AuditLogs" ("Id", "ActionType", "NewValues", "OldValues", "PrimaryKey", "TableName", "Timestamp", "UserId")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
2025-06-12 21:37:53.238 +05:30 [INF] Executing OkObjectResult, writing value of type 'RealEstateApi.Models.PropertyListing'.
2025-06-12 21:37:53.239 +05:30 [INF] Executed action RealEstateApi.Controllers.PropertyListingsController.DeleteListing (RealEstateApi) in 46.1855ms
2025-06-12 21:37:53.239 +05:30 [INF] Executed endpoint 'RealEstateApi.Controllers.PropertyListingsController.DeleteListing (RealEstateApi)'
2025-06-12 21:37:53.239 +05:30 [INF] Request finished HTTP/1.1 DELETE http://localhost:5009/api/v1/PropertyListings/019764a6-9145-7345-9060-b63156d5ee3b - 200 null application/json; charset=utf-8 89.952ms
2025-06-12 21:38:20.286 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5009/api/v1/PropertyListings - null null
2025-06-12 21:38:20.287 +05:30 [INF] Executing endpoint 'RealEstateApi.Controllers.PropertyListingsController.SearchListings (RealEstateApi)'
2025-06-12 21:38:20.287 +05:30 [INF] Route matched with {action = "SearchListings", controller = "PropertyListings"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SearchListings(RealEstateApi.Models.DTOs.PropertyListingQueryParametersDto) on controller RealEstateApi.Controllers.PropertyListingsController (RealEstateApi).
2025-06-12 21:38:20.290 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."AgentId", p."Bathrooms", p."Bedrooms", p."CreatedAt", p."Description", p."IsDeleted", p."Location", p."Price", p."SquareFeet", p."Title", a."Id", a."AgencyName", a."LicenseNumber", a."Phone", p1."Id", p1."DeletedAt", p1."FileName", p1."FileUrl", p1."IsDeleted", p1."PropertyListingId", i."Id", i."BuyerId", i."CreatedAt", i."ListingId", i."Message"
FROM "PropertyListings" AS p
INNER JOIN "Agents" AS a ON p."AgentId" = a."Id"
LEFT JOIN (
    SELECT p0."Id", p0."DeletedAt", p0."FileName", p0."FileUrl", p0."IsDeleted", p0."PropertyListingId"
    FROM "PropertyImages" AS p0
    WHERE NOT (p0."IsDeleted")
) AS p1 ON p."Id" = p1."PropertyListingId"
LEFT JOIN "Inquiries" AS i ON p."Id" = i."ListingId"
WHERE NOT (p."IsDeleted")
ORDER BY p."Id", a."Id", p1."Id"
2025-06-12 21:38:20.291 +05:30 [INF] Executing OkObjectResult, writing value of type 'RealEstateApi.Models.DTOs.PagedResult`1[[RealEstateApi.Models.PropertyListing, RealEstateApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-12 21:38:20.291 +05:30 [INF] Executed action RealEstateApi.Controllers.PropertyListingsController.SearchListings (RealEstateApi) in 3.8745ms
2025-06-12 21:38:20.291 +05:30 [INF] Executed endpoint 'RealEstateApi.Controllers.PropertyListingsController.SearchListings (RealEstateApi)'
2025-06-12 21:38:20.291 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5009/api/v1/PropertyListings - 200 null application/json; charset=utf-8 5.7565ms
2025-06-12 21:39:45.318 +05:30 [INF] Request starting HTTP/1.1 DELETE http://localhost:5009/api/v1/PropertyImages/admin/images/cleanup - null null
2025-06-12 21:39:45.320 +05:30 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin)
2025-06-12 21:39:45.332 +05:30 [INF] AuthenticationScheme: Bearer was forbidden.
2025-06-12 21:39:45.332 +05:30 [INF] Request finished HTTP/1.1 DELETE http://localhost:5009/api/v1/PropertyImages/admin/images/cleanup - 403 0 null 14.3118ms
2025-06-12 21:40:05.360 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5009/api/v1/Auth/login - application/json 58
2025-06-12 21:40:05.361 +05:30 [INF] Executing endpoint 'RealEstateApi.Controllers.AuthController.Login (RealEstateApi)'
2025-06-12 21:40:05.361 +05:30 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[RealEstateApi.Models.DTOs.AuthResponseDto]] Login(RealEstateApi.Models.DTOs.LoginDto) on controller RealEstateApi.Controllers.AuthController (RealEstateApi).
2025-06-12 21:40:05.379 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."Email", u."IsDeleted", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role"
FROM "Users" AS u
WHERE NOT (u."IsDeleted")
2025-06-12 21:40:05.556 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."Email", u."IsDeleted", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role"
FROM "Users" AS u
WHERE NOT (u."IsDeleted") AND u."Id" = @__id_0
LIMIT 2
2025-06-12 21:40:05.559 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@p2='?' (DbType = Guid), @p0='?', @p1='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Users" SET "RefreshToken" = @p0, "RefreshTokenExpiryTime" = @p1
WHERE "Id" = @p2;
2025-06-12 21:40:05.560 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?', @p3='?', @p4='?', @p5='?', @p6='?' (DbType = DateTime), @p7='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AuditLogs" ("Id", "ActionType", "NewValues", "OldValues", "PrimaryKey", "TableName", "Timestamp", "UserId")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
2025-06-12 21:40:05.561 +05:30 [INF] Executing OkObjectResult, writing value of type 'RealEstateApi.Models.DTOs.AuthResponseDto'.
2025-06-12 21:40:05.561 +05:30 [INF] Executed action RealEstateApi.Controllers.AuthController.Login (RealEstateApi) in 199.5095ms
2025-06-12 21:40:05.561 +05:30 [INF] Executed endpoint 'RealEstateApi.Controllers.AuthController.Login (RealEstateApi)'
2025-06-12 21:40:05.561 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5009/api/v1/Auth/login - 200 null application/json; charset=utf-8 201.3525ms
2025-06-12 21:40:22.787 +05:30 [INF] Request starting HTTP/1.1 DELETE http://localhost:5009/api/v1/PropertyImages/admin/images/cleanup - null null
2025-06-12 21:40:22.788 +05:30 [INF] Executing endpoint 'RealEstateApi.Controllers.PropertyImagesController.CleanupOldDeletedImages (RealEstateApi)'
2025-06-12 21:40:22.792 +05:30 [INF] Route matched with {action = "CleanupOldDeletedImages", controller = "PropertyImages"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CleanupOldDeletedImages() on controller RealEstateApi.Controllers.PropertyImagesController (RealEstateApi).
2025-06-12 21:40:22.802 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."DeletedAt", p."FileName", p."FileUrl", p."IsDeleted", p."PropertyListingId"
FROM "PropertyImages" AS p
2025-06-12 21:40:22.805 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2025-06-12 21:40:22.806 +05:30 [INF] Executed action RealEstateApi.Controllers.PropertyImagesController.CleanupOldDeletedImages (RealEstateApi) in 13.5417ms
2025-06-12 21:40:22.806 +05:30 [INF] Executed endpoint 'RealEstateApi.Controllers.PropertyImagesController.CleanupOldDeletedImages (RealEstateApi)'
2025-06-12 21:40:22.806 +05:30 [INF] Request finished HTTP/1.1 DELETE http://localhost:5009/api/v1/PropertyImages/admin/images/cleanup - 200 null text/plain; charset=utf-8 18.4157ms
2025-06-12 21:40:45.632 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5009/api/v1/Auth/login - application/json 58
2025-06-12 21:40:45.633 +05:30 [INF] Executing endpoint 'RealEstateApi.Controllers.AuthController.Login (RealEstateApi)'
2025-06-12 21:40:45.633 +05:30 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[RealEstateApi.Models.DTOs.AuthResponseDto]] Login(RealEstateApi.Models.DTOs.LoginDto) on controller RealEstateApi.Controllers.AuthController (RealEstateApi).
2025-06-12 21:40:45.635 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."Email", u."IsDeleted", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role"
FROM "Users" AS u
WHERE NOT (u."IsDeleted")
2025-06-12 21:40:45.813 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."Email", u."IsDeleted", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role"
FROM "Users" AS u
WHERE NOT (u."IsDeleted") AND u."Id" = @__id_0
LIMIT 2
2025-06-12 21:40:45.815 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@p2='?' (DbType = Guid), @p0='?', @p1='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Users" SET "RefreshToken" = @p0, "RefreshTokenExpiryTime" = @p1
WHERE "Id" = @p2;
2025-06-12 21:40:45.817 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?', @p3='?', @p4='?', @p5='?', @p6='?' (DbType = DateTime), @p7='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AuditLogs" ("Id", "ActionType", "NewValues", "OldValues", "PrimaryKey", "TableName", "Timestamp", "UserId")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
2025-06-12 21:40:45.817 +05:30 [INF] Executing OkObjectResult, writing value of type 'RealEstateApi.Models.DTOs.AuthResponseDto'.
2025-06-12 21:40:45.817 +05:30 [INF] Executed action RealEstateApi.Controllers.AuthController.Login (RealEstateApi) in 184.7792ms
2025-06-12 21:40:45.817 +05:30 [INF] Executed endpoint 'RealEstateApi.Controllers.AuthController.Login (RealEstateApi)'
2025-06-12 21:40:45.818 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5009/api/v1/Auth/login - 200 null application/json; charset=utf-8 185.4658ms
2025-06-12 21:41:49.576 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5009/api/v1/PropertyListings/create-listing - application/json 174
2025-06-12 21:41:49.577 +05:30 [INF] Executing endpoint 'RealEstateApi.Controllers.PropertyListingsController.CreateListing (RealEstateApi)'
2025-06-12 21:41:49.584 +05:30 [INF] Route matched with {action = "CreateListing", controller = "PropertyListings"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateListing(RealEstateApi.Models.DTOs.CreatePropertyListingDto) on controller RealEstateApi.Controllers.PropertyListingsController (RealEstateApi).
2025-06-12 21:41:49.603 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."AgentId", p."Bathrooms", p."Bedrooms", p."CreatedAt", p."Description", p."IsDeleted", p."Location", p."Price", p."SquareFeet", p."Title", a."Id", a."AgencyName", a."LicenseNumber", a."Phone", p1."Id", p1."DeletedAt", p1."FileName", p1."FileUrl", p1."IsDeleted", p1."PropertyListingId", i."Id", i."BuyerId", i."CreatedAt", i."ListingId", i."Message"
FROM "PropertyListings" AS p
INNER JOIN "Agents" AS a ON p."AgentId" = a."Id"
LEFT JOIN (
    SELECT p0."Id", p0."DeletedAt", p0."FileName", p0."FileUrl", p0."IsDeleted", p0."PropertyListingId"
    FROM "PropertyImages" AS p0
    WHERE NOT (p0."IsDeleted")
) AS p1 ON p."Id" = p1."PropertyListingId"
LEFT JOIN "Inquiries" AS i ON p."Id" = i."ListingId"
WHERE NOT (p."IsDeleted")
ORDER BY p."Id", a."Id", p1."Id"
2025-06-12 21:41:49.615 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (DbType = DateTime), @p5='?', @p6='?' (DbType = Boolean), @p7='?', @p8='?' (DbType = Double), @p9='?' (DbType = Int32), @p10='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "PropertyListings" ("Id", "AgentId", "Bathrooms", "Bedrooms", "CreatedAt", "Description", "IsDeleted", "Location", "Price", "SquareFeet", "Title")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10);
2025-06-12 21:41:49.622 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?', @p3='?', @p4='?', @p5='?', @p6='?' (DbType = DateTime), @p7='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AuditLogs" ("Id", "ActionType", "NewValues", "OldValues", "PrimaryKey", "TableName", "Timestamp", "UserId")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
2025-06-12 21:41:49.622 +05:30 [INF] Executing CreatedResult, writing value of type 'RealEstateApi.Models.PropertyListing'.
2025-06-12 21:41:49.622 +05:30 [INF] Executed action RealEstateApi.Controllers.PropertyListingsController.CreateListing (RealEstateApi) in 38.5158ms
2025-06-12 21:41:49.622 +05:30 [INF] Executed endpoint 'RealEstateApi.Controllers.PropertyListingsController.CreateListing (RealEstateApi)'
2025-06-12 21:41:49.623 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5009/api/v1/PropertyListings/create-listing - 201 null application/json; charset=utf-8 46.0289ms
2025-06-12 21:42:26.715 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5009/api/v1/PropertyListings/upload-image - multipart/form-data; boundary=----WebKitFormBoundaryRFBdFpFh9L9O9W7L 920429
2025-06-12 21:42:26.717 +05:30 [INF] Executing endpoint 'RealEstateApi.Controllers.PropertyListingsController.UploadImage (RealEstateApi)'
2025-06-12 21:42:26.737 +05:30 [INF] Route matched with {action = "UploadImage", controller = "PropertyListings"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UploadImage(RealEstateApi.Models.DTOs.AddPropertyImageDto) on controller RealEstateApi.Controllers.PropertyListingsController (RealEstateApi).
2025-06-12 21:42:26.765 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."AgentId", s."Bathrooms", s."Bedrooms", s."CreatedAt", s."Description", s."IsDeleted", s."Location", s."Price", s."SquareFeet", s."Title", s."Id0", s."AgencyName", s."LicenseNumber", s."Phone", p1."Id", p1."DeletedAt", p1."FileName", p1."FileUrl", p1."IsDeleted", p1."PropertyListingId", i."Id", i."BuyerId", i."CreatedAt", i."ListingId", i."Message"
FROM (
    SELECT p."Id", p."AgentId", p."Bathrooms", p."Bedrooms", p."CreatedAt", p."Description", p."IsDeleted", p."Location", p."Price", p."SquareFeet", p."Title", a."Id" AS "Id0", a."AgencyName", a."LicenseNumber", a."Phone"
    FROM "PropertyListings" AS p
    INNER JOIN "Agents" AS a ON p."AgentId" = a."Id"
    WHERE NOT (p."IsDeleted") AND p."Id" = @__id_0
    LIMIT 1
) AS s
LEFT JOIN (
    SELECT p0."Id", p0."DeletedAt", p0."FileName", p0."FileUrl", p0."IsDeleted", p0."PropertyListingId"
    FROM "PropertyImages" AS p0
    WHERE NOT (p0."IsDeleted")
) AS p1 ON s."Id" = p1."PropertyListingId"
LEFT JOIN "Inquiries" AS i ON s."Id" = i."ListingId"
ORDER BY s."Id", s."Id0", p1."Id"
2025-06-12 21:42:26.775 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime), @p2='?', @p3='?', @p4='?' (DbType = Boolean), @p5='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "PropertyImages" ("Id", "DeletedAt", "FileName", "FileUrl", "IsDeleted", "PropertyListingId")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2025-06-12 21:42:26.776 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?', @p3='?', @p4='?', @p5='?', @p6='?' (DbType = DateTime), @p7='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AuditLogs" ("Id", "ActionType", "NewValues", "OldValues", "PrimaryKey", "TableName", "Timestamp", "UserId")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
2025-06-12 21:42:26.776 +05:30 [INF] Executing OkObjectResult, writing value of type 'RealEstateApi.Models.PropertyImage'.
2025-06-12 21:42:26.777 +05:30 [INF] Executed action RealEstateApi.Controllers.PropertyListingsController.UploadImage (RealEstateApi) in 39.9481ms
2025-06-12 21:42:26.777 +05:30 [INF] Executed endpoint 'RealEstateApi.Controllers.PropertyListingsController.UploadImage (RealEstateApi)'
2025-06-12 21:42:26.779 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5009/api/v1/PropertyListings/upload-image - 200 null application/json; charset=utf-8 63.8184ms
2025-06-12 22:24:58.690 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5009/api/v1/PropertyListings/upload-image - multipart/form-data; boundary=----WebKitFormBoundary4BxWxfl81ND15HKS 920429
2025-06-12 22:24:58.713 +05:30 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '6/12/2025 4:40:45PM', Current time (UTC): '6/12/2025 4:54:58PM'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-06-12 22:24:58.725 +05:30 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '6/12/2025 4:40:45PM', Current time (UTC): '6/12/2025 4:54:58PM'.
2025-06-12 22:24:58.726 +05:30 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Agent)
2025-06-12 22:24:58.727 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2025-06-12 22:24:58.727 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5009/api/v1/PropertyListings/upload-image - 401 0 null 37.1205ms
2025-06-12 22:41:24.631 +05:30 [INF] Application is shutting down...
2025-06-12 22:41:34.199 +05:30 [INF] User profile is available. Using '/Users/muckesh/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2025-06-12 22:41:34.333 +05:30 [INF] Now listening on: http://localhost:5009
2025-06-12 22:41:34.336 +05:30 [INF] Application started. Press Ctrl+C to shut down.
2025-06-12 22:41:34.337 +05:30 [INF] Hosting environment: Development
2025-06-12 22:41:34.337 +05:30 [INF] Content root path: /Users/muckesh/Muckesh/Presidio/Genspark-Training/Capstone-1/RealEstateApi
2025-06-12 22:41:57.268 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5009/api/v1/Auth/refresh - application/json 112
2025-06-12 22:41:57.311 +05:30 [WRN] Failed to determine the https port for redirect.
2025-06-12 22:41:57.401 +05:30 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '6/12/2025 4:40:45PM', Current time (UTC): '6/12/2025 5:11:57PM'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-06-12 22:41:57.415 +05:30 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '6/12/2025 4:40:45PM', Current time (UTC): '6/12/2025 5:11:57PM'.
2025-06-12 22:41:57.423 +05:30 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-06-12 22:41:57.428 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2025-06-12 22:41:57.434 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5009/api/v1/Auth/refresh - 401 0 null 167.8713ms
2025-06-12 22:42:41.637 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5009/api/v1/Auth/refresh - application/json 112
2025-06-12 22:42:41.645 +05:30 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '6/12/2025 4:40:45PM', Current time (UTC): '6/12/2025 5:12:41PM'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-06-12 22:42:41.645 +05:30 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '6/12/2025 4:40:45PM', Current time (UTC): '6/12/2025 5:12:41PM'.
2025-06-12 22:42:41.647 +05:30 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-06-12 22:42:41.648 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2025-06-12 22:42:41.649 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5009/api/v1/Auth/refresh - 401 0 null 11.7041ms
2025-06-12 22:42:51.019 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5009/api/v1/Auth/login - application/json 58
2025-06-12 22:42:51.022 +05:30 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '6/12/2025 4:40:45PM', Current time (UTC): '6/12/2025 5:12:51PM'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-06-12 22:42:51.022 +05:30 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '6/12/2025 4:40:45PM', Current time (UTC): '6/12/2025 5:12:51PM'.
2025-06-12 22:42:51.037 +05:30 [INF] Executing endpoint 'RealEstateApi.Controllers.AuthController.Login (RealEstateApi)'
2025-06-12 22:42:51.066 +05:30 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[RealEstateApi.Models.DTOs.AuthResponseDto]] Login(RealEstateApi.Models.DTOs.LoginDto) on controller RealEstateApi.Controllers.AuthController (RealEstateApi).
2025-06-12 22:42:52.319 +05:30 [INF] Executed DbCommand (22ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."Email", u."IsDeleted", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role"
FROM "Users" AS u
WHERE NOT (u."IsDeleted")
2025-06-12 22:42:52.764 +05:30 [INF] Executed DbCommand (10ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."Email", u."IsDeleted", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role"
FROM "Users" AS u
WHERE NOT (u."IsDeleted") AND u."Id" = @__id_0
LIMIT 2
2025-06-12 22:42:52.853 +05:30 [INF] Executed DbCommand (6ms) [Parameters=[@p2='?' (DbType = Guid), @p0='?', @p1='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Users" SET "RefreshToken" = @p0, "RefreshTokenExpiryTime" = @p1
WHERE "Id" = @p2;
2025-06-12 22:42:52.933 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?', @p3='?', @p4='?', @p5='?', @p6='?' (DbType = DateTime), @p7='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AuditLogs" ("Id", "ActionType", "NewValues", "OldValues", "PrimaryKey", "TableName", "Timestamp", "UserId")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
2025-06-12 22:42:52.939 +05:30 [INF] Executing OkObjectResult, writing value of type 'RealEstateApi.Models.DTOs.AuthResponseDto'.
2025-06-12 22:42:52.955 +05:30 [INF] Executed action RealEstateApi.Controllers.AuthController.Login (RealEstateApi) in 1886.107ms
2025-06-12 22:42:52.955 +05:30 [INF] Executed endpoint 'RealEstateApi.Controllers.AuthController.Login (RealEstateApi)'
2025-06-12 22:42:52.965 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5009/api/v1/Auth/login - 200 null application/json; charset=utf-8 1945.9074ms
2025-06-12 22:43:02.391 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5009/swagger/index.html - null null
2025-06-12 22:43:02.446 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5009/swagger/index.html - 200 null text/html;charset=utf-8 55.1826ms
2025-06-12 22:43:02.618 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5009/swagger/v1/swagger.json - null null
2025-06-12 22:43:02.745 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5009/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 126.5417ms
2025-06-12 22:43:20.393 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5009/api/v1/PropertyListings - null null
2025-06-12 22:43:20.406 +05:30 [INF] Executing endpoint 'RealEstateApi.Controllers.PropertyListingsController.SearchListings (RealEstateApi)'
2025-06-12 22:43:20.411 +05:30 [INF] Route matched with {action = "SearchListings", controller = "PropertyListings"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SearchListings(RealEstateApi.Models.DTOs.PropertyListingQueryParametersDto) on controller RealEstateApi.Controllers.PropertyListingsController (RealEstateApi).
2025-06-12 22:43:20.525 +05:30 [WRN] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2025-06-12 22:43:20.554 +05:30 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."AgentId", p."Bathrooms", p."Bedrooms", p."CreatedAt", p."Description", p."IsDeleted", p."Location", p."Price", p."SquareFeet", p."Title", a."Id", a."AgencyName", a."LicenseNumber", a."Phone", p1."Id", p1."DeletedAt", p1."FileName", p1."FileUrl", p1."IsDeleted", p1."PropertyListingId", i."Id", i."BuyerId", i."CreatedAt", i."ListingId", i."Message"
FROM "PropertyListings" AS p
INNER JOIN "Agents" AS a ON p."AgentId" = a."Id"
LEFT JOIN (
    SELECT p0."Id", p0."DeletedAt", p0."FileName", p0."FileUrl", p0."IsDeleted", p0."PropertyListingId"
    FROM "PropertyImages" AS p0
    WHERE NOT (p0."IsDeleted")
) AS p1 ON p."Id" = p1."PropertyListingId"
LEFT JOIN "Inquiries" AS i ON p."Id" = i."ListingId"
WHERE NOT (p."IsDeleted")
ORDER BY p."Id", a."Id", p1."Id"
2025-06-12 22:43:20.617 +05:30 [INF] Executing OkObjectResult, writing value of type 'RealEstateApi.Models.DTOs.PagedResult`1[[RealEstateApi.Models.PropertyListing, RealEstateApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-12 22:43:20.644 +05:30 [INF] Executed action RealEstateApi.Controllers.PropertyListingsController.SearchListings (RealEstateApi) in 233.225ms
2025-06-12 22:43:20.645 +05:30 [INF] Executed endpoint 'RealEstateApi.Controllers.PropertyListingsController.SearchListings (RealEstateApi)'
2025-06-12 22:43:20.645 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5009/api/v1/PropertyListings - 200 null application/json; charset=utf-8 252.6324ms
2025-06-12 22:44:58.341 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5009/api/v1/PropertyListings/create-listing - application/json 174
2025-06-12 22:44:58.342 +05:30 [INF] Executing endpoint 'RealEstateApi.Controllers.PropertyListingsController.CreateListing (RealEstateApi)'
2025-06-12 22:44:58.349 +05:30 [INF] Route matched with {action = "CreateListing", controller = "PropertyListings"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateListing(RealEstateApi.Models.DTOs.CreatePropertyListingDto) on controller RealEstateApi.Controllers.PropertyListingsController (RealEstateApi).
2025-06-12 22:44:58.429 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."AgentId", p."Bathrooms", p."Bedrooms", p."CreatedAt", p."Description", p."IsDeleted", p."Location", p."Price", p."SquareFeet", p."Title", a."Id", a."AgencyName", a."LicenseNumber", a."Phone", p1."Id", p1."DeletedAt", p1."FileName", p1."FileUrl", p1."IsDeleted", p1."PropertyListingId", i."Id", i."BuyerId", i."CreatedAt", i."ListingId", i."Message"
FROM "PropertyListings" AS p
INNER JOIN "Agents" AS a ON p."AgentId" = a."Id"
LEFT JOIN (
    SELECT p0."Id", p0."DeletedAt", p0."FileName", p0."FileUrl", p0."IsDeleted", p0."PropertyListingId"
    FROM "PropertyImages" AS p0
    WHERE NOT (p0."IsDeleted")
) AS p1 ON p."Id" = p1."PropertyListingId"
LEFT JOIN "Inquiries" AS i ON p."Id" = i."ListingId"
WHERE NOT (p."IsDeleted")
ORDER BY p."Id", a."Id", p1."Id"
2025-06-12 22:44:58.461 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (DbType = DateTime), @p5='?', @p6='?' (DbType = Boolean), @p7='?', @p8='?' (DbType = Double), @p9='?' (DbType = Int32), @p10='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "PropertyListings" ("Id", "AgentId", "Bathrooms", "Bedrooms", "CreatedAt", "Description", "IsDeleted", "Location", "Price", "SquareFeet", "Title")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10);
2025-06-12 22:44:58.470 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?', @p3='?', @p4='?', @p5='?', @p6='?' (DbType = DateTime), @p7='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AuditLogs" ("Id", "ActionType", "NewValues", "OldValues", "PrimaryKey", "TableName", "Timestamp", "UserId")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
2025-06-12 22:44:58.471 +05:30 [INF] Executing CreatedResult, writing value of type 'RealEstateApi.Models.PropertyListing'.
2025-06-12 22:44:58.472 +05:30 [INF] Executed action RealEstateApi.Controllers.PropertyListingsController.CreateListing (RealEstateApi) in 122.7877ms
2025-06-12 22:44:58.472 +05:30 [INF] Executed endpoint 'RealEstateApi.Controllers.PropertyListingsController.CreateListing (RealEstateApi)'
2025-06-12 22:44:58.472 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5009/api/v1/PropertyListings/create-listing - 201 null application/json; charset=utf-8 131.3906ms
2025-06-12 22:45:25.318 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5009/api/v1/PropertyListings/upload-image - multipart/form-data; boundary=----WebKitFormBoundaryLFRHUPIfXhwExIxw 920429
2025-06-12 22:45:25.335 +05:30 [INF] Executing endpoint 'RealEstateApi.Controllers.PropertyListingsController.UploadImage (RealEstateApi)'
2025-06-12 22:45:25.339 +05:30 [INF] Route matched with {action = "UploadImage", controller = "PropertyListings"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UploadImage(RealEstateApi.Models.DTOs.AddPropertyImageDto) on controller RealEstateApi.Controllers.PropertyListingsController (RealEstateApi).
2025-06-12 22:45:25.381 +05:30 [WRN] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2025-06-12 22:45:25.405 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."AgentId", s."Bathrooms", s."Bedrooms", s."CreatedAt", s."Description", s."IsDeleted", s."Location", s."Price", s."SquareFeet", s."Title", s."Id0", s."AgencyName", s."LicenseNumber", s."Phone", p1."Id", p1."DeletedAt", p1."FileName", p1."FileUrl", p1."IsDeleted", p1."PropertyListingId", i."Id", i."BuyerId", i."CreatedAt", i."ListingId", i."Message"
FROM (
    SELECT p."Id", p."AgentId", p."Bathrooms", p."Bedrooms", p."CreatedAt", p."Description", p."IsDeleted", p."Location", p."Price", p."SquareFeet", p."Title", a."Id" AS "Id0", a."AgencyName", a."LicenseNumber", a."Phone"
    FROM "PropertyListings" AS p
    INNER JOIN "Agents" AS a ON p."AgentId" = a."Id"
    WHERE NOT (p."IsDeleted") AND p."Id" = @__id_0
    LIMIT 1
) AS s
LEFT JOIN (
    SELECT p0."Id", p0."DeletedAt", p0."FileName", p0."FileUrl", p0."IsDeleted", p0."PropertyListingId"
    FROM "PropertyImages" AS p0
    WHERE NOT (p0."IsDeleted")
) AS p1 ON s."Id" = p1."PropertyListingId"
LEFT JOIN "Inquiries" AS i ON s."Id" = i."ListingId"
ORDER BY s."Id", s."Id0", p1."Id"
2025-06-12 22:45:25.419 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime), @p2='?', @p3='?', @p4='?' (DbType = Boolean), @p5='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "PropertyImages" ("Id", "DeletedAt", "FileName", "FileUrl", "IsDeleted", "PropertyListingId")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2025-06-12 22:45:25.421 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?', @p3='?', @p4='?', @p5='?', @p6='?' (DbType = DateTime), @p7='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AuditLogs" ("Id", "ActionType", "NewValues", "OldValues", "PrimaryKey", "TableName", "Timestamp", "UserId")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
2025-06-12 22:45:25.421 +05:30 [INF] Executing OkObjectResult, writing value of type 'RealEstateApi.Models.PropertyImage'.
2025-06-12 22:45:25.422 +05:30 [INF] Executed action RealEstateApi.Controllers.PropertyListingsController.UploadImage (RealEstateApi) in 82.8368ms
2025-06-12 22:45:25.422 +05:30 [INF] Executed endpoint 'RealEstateApi.Controllers.PropertyListingsController.UploadImage (RealEstateApi)'
2025-06-12 22:45:25.424 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5009/api/v1/PropertyListings/upload-image - 200 null application/json; charset=utf-8 106.5313ms
2025-06-12 22:45:40.799 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5009/api/v1/PropertyListings/upload-image - multipart/form-data; boundary=----WebKitFormBoundaryMnScrFJLBkaH1w0A 920429
2025-06-12 22:45:40.800 +05:30 [INF] Executing endpoint 'RealEstateApi.Controllers.PropertyListingsController.UploadImage (RealEstateApi)'
2025-06-12 22:45:40.801 +05:30 [INF] Route matched with {action = "UploadImage", controller = "PropertyListings"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UploadImage(RealEstateApi.Models.DTOs.AddPropertyImageDto) on controller RealEstateApi.Controllers.PropertyListingsController (RealEstateApi).
2025-06-12 22:45:40.811 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."AgentId", s."Bathrooms", s."Bedrooms", s."CreatedAt", s."Description", s."IsDeleted", s."Location", s."Price", s."SquareFeet", s."Title", s."Id0", s."AgencyName", s."LicenseNumber", s."Phone", p1."Id", p1."DeletedAt", p1."FileName", p1."FileUrl", p1."IsDeleted", p1."PropertyListingId", i."Id", i."BuyerId", i."CreatedAt", i."ListingId", i."Message"
FROM (
    SELECT p."Id", p."AgentId", p."Bathrooms", p."Bedrooms", p."CreatedAt", p."Description", p."IsDeleted", p."Location", p."Price", p."SquareFeet", p."Title", a."Id" AS "Id0", a."AgencyName", a."LicenseNumber", a."Phone"
    FROM "PropertyListings" AS p
    INNER JOIN "Agents" AS a ON p."AgentId" = a."Id"
    WHERE NOT (p."IsDeleted") AND p."Id" = @__id_0
    LIMIT 1
) AS s
LEFT JOIN (
    SELECT p0."Id", p0."DeletedAt", p0."FileName", p0."FileUrl", p0."IsDeleted", p0."PropertyListingId"
    FROM "PropertyImages" AS p0
    WHERE NOT (p0."IsDeleted")
) AS p1 ON s."Id" = p1."PropertyListingId"
LEFT JOIN "Inquiries" AS i ON s."Id" = i."ListingId"
ORDER BY s."Id", s."Id0", p1."Id"
2025-06-12 22:45:40.817 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime), @p2='?', @p3='?', @p4='?' (DbType = Boolean), @p5='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "PropertyImages" ("Id", "DeletedAt", "FileName", "FileUrl", "IsDeleted", "PropertyListingId")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2025-06-12 22:45:40.819 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?', @p3='?', @p4='?', @p5='?', @p6='?' (DbType = DateTime), @p7='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AuditLogs" ("Id", "ActionType", "NewValues", "OldValues", "PrimaryKey", "TableName", "Timestamp", "UserId")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
2025-06-12 22:45:40.819 +05:30 [INF] Executing OkObjectResult, writing value of type 'RealEstateApi.Models.PropertyImage'.
2025-06-12 22:45:40.819 +05:30 [INF] Executed action RealEstateApi.Controllers.PropertyListingsController.UploadImage (RealEstateApi) in 18.075ms
2025-06-12 22:45:40.819 +05:30 [INF] Executed endpoint 'RealEstateApi.Controllers.PropertyListingsController.UploadImage (RealEstateApi)'
2025-06-12 22:45:40.820 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5009/api/v1/PropertyListings/upload-image - 200 null application/json; charset=utf-8 21.2471ms
2025-06-12 22:47:04.286 +05:30 [INF] Application is shutting down...
2025-06-12 22:47:16.003 +05:30 [INF] User profile is available. Using '/Users/muckesh/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2025-06-12 22:47:16.172 +05:30 [INF] Now listening on: http://localhost:5009
2025-06-12 22:47:16.175 +05:30 [INF] Application started. Press Ctrl+C to shut down.
2025-06-12 22:47:16.176 +05:30 [INF] Hosting environment: Development
2025-06-12 22:47:16.176 +05:30 [INF] Content root path: /Users/muckesh/Muckesh/Presidio/Genspark-Training/Capstone-1/RealEstateApi
2025-06-12 22:47:32.436 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5009/api/v1/PropertyListings/create-listing - application/json 174
2025-06-12 22:47:32.476 +05:30 [WRN] Failed to determine the https port for redirect.
2025-06-12 22:47:32.563 +05:30 [INF] Executing endpoint 'RealEstateApi.Controllers.PropertyListingsController.CreateListing (RealEstateApi)'
2025-06-12 22:47:32.587 +05:30 [INF] Route matched with {action = "CreateListing", controller = "PropertyListings"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateListing(RealEstateApi.Models.DTOs.CreatePropertyListingDto) on controller RealEstateApi.Controllers.PropertyListingsController (RealEstateApi).
2025-06-12 22:47:33.681 +05:30 [WRN] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2025-06-12 22:47:33.911 +05:30 [INF] Executed DbCommand (21ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."AgentId", p."Bathrooms", p."Bedrooms", p."CreatedAt", p."Description", p."IsDeleted", p."Location", p."Price", p."SquareFeet", p."Title", a."Id", a."AgencyName", a."LicenseNumber", a."Phone", p1."Id", p1."DeletedAt", p1."FileName", p1."FileUrl", p1."IsDeleted", p1."PropertyListingId", i."Id", i."BuyerId", i."CreatedAt", i."ListingId", i."Message"
FROM "PropertyListings" AS p
INNER JOIN "Agents" AS a ON p."AgentId" = a."Id"
LEFT JOIN (
    SELECT p0."Id", p0."DeletedAt", p0."FileName", p0."FileUrl", p0."IsDeleted", p0."PropertyListingId"
    FROM "PropertyImages" AS p0
    WHERE NOT (p0."IsDeleted")
) AS p1 ON p."Id" = p1."PropertyListingId"
LEFT JOIN "Inquiries" AS i ON p."Id" = i."ListingId"
WHERE NOT (p."IsDeleted")
ORDER BY p."Id", a."Id", p1."Id"
2025-06-12 22:47:34.212 +05:30 [INF] Executed DbCommand (14ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (DbType = DateTime), @p5='?', @p6='?' (DbType = Boolean), @p7='?', @p8='?' (DbType = Double), @p9='?' (DbType = Int32), @p10='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "PropertyListings" ("Id", "AgentId", "Bathrooms", "Bedrooms", "CreatedAt", "Description", "IsDeleted", "Location", "Price", "SquareFeet", "Title")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10);
2025-06-12 22:47:34.284 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?', @p3='?', @p4='?', @p5='?', @p6='?' (DbType = DateTime), @p7='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AuditLogs" ("Id", "ActionType", "NewValues", "OldValues", "PrimaryKey", "TableName", "Timestamp", "UserId")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
2025-06-12 22:47:34.292 +05:30 [INF] Executing CreatedResult, writing value of type 'RealEstateApi.Models.PropertyListing'.
2025-06-12 22:47:34.333 +05:30 [INF] Executed action RealEstateApi.Controllers.PropertyListingsController.CreateListing (RealEstateApi) in 1742.779ms
2025-06-12 22:47:34.334 +05:30 [INF] Executed endpoint 'RealEstateApi.Controllers.PropertyListingsController.CreateListing (RealEstateApi)'
2025-06-12 22:47:34.344 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5009/api/v1/PropertyListings/create-listing - 201 null application/json; charset=utf-8 1909.1102ms
2025-06-12 22:47:58.121 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5009/api/v1/PropertyListings/upload-image - multipart/form-data; boundary=----WebKitFormBoundaryZPlq6XT1xVn3mBva 920429
2025-06-12 22:47:58.152 +05:30 [INF] Executing endpoint 'RealEstateApi.Controllers.PropertyListingsController.UploadImage (RealEstateApi)'
2025-06-12 22:47:58.158 +05:30 [INF] Route matched with {action = "UploadImage", controller = "PropertyListings"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UploadImage(RealEstateApi.Models.DTOs.AddPropertyImageDto) on controller RealEstateApi.Controllers.PropertyListingsController (RealEstateApi).
2025-06-12 22:47:58.231 +05:30 [WRN] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2025-06-12 22:47:58.265 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."AgentId", s."Bathrooms", s."Bedrooms", s."CreatedAt", s."Description", s."IsDeleted", s."Location", s."Price", s."SquareFeet", s."Title", s."Id0", s."AgencyName", s."LicenseNumber", s."Phone", p1."Id", p1."DeletedAt", p1."FileName", p1."FileUrl", p1."IsDeleted", p1."PropertyListingId", i."Id", i."BuyerId", i."CreatedAt", i."ListingId", i."Message"
FROM (
    SELECT p."Id", p."AgentId", p."Bathrooms", p."Bedrooms", p."CreatedAt", p."Description", p."IsDeleted", p."Location", p."Price", p."SquareFeet", p."Title", a."Id" AS "Id0", a."AgencyName", a."LicenseNumber", a."Phone"
    FROM "PropertyListings" AS p
    INNER JOIN "Agents" AS a ON p."AgentId" = a."Id"
    WHERE NOT (p."IsDeleted") AND p."Id" = @__id_0
    LIMIT 1
) AS s
LEFT JOIN (
    SELECT p0."Id", p0."DeletedAt", p0."FileName", p0."FileUrl", p0."IsDeleted", p0."PropertyListingId"
    FROM "PropertyImages" AS p0
    WHERE NOT (p0."IsDeleted")
) AS p1 ON s."Id" = p1."PropertyListingId"
LEFT JOIN "Inquiries" AS i ON s."Id" = i."ListingId"
ORDER BY s."Id", s."Id0", p1."Id"
2025-06-12 22:47:58.281 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime), @p2='?', @p3='?', @p4='?' (DbType = Boolean), @p5='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "PropertyImages" ("Id", "DeletedAt", "FileName", "FileUrl", "IsDeleted", "PropertyListingId")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2025-06-12 22:47:58.285 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?', @p3='?', @p4='?', @p5='?', @p6='?' (DbType = DateTime), @p7='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AuditLogs" ("Id", "ActionType", "NewValues", "OldValues", "PrimaryKey", "TableName", "Timestamp", "UserId")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
2025-06-12 22:47:58.286 +05:30 [INF] Executing OkObjectResult, writing value of type 'RealEstateApi.Models.PropertyImage'.
2025-06-12 22:47:58.287 +05:30 [INF] Executed action RealEstateApi.Controllers.PropertyListingsController.UploadImage (RealEstateApi) in 128.4925ms
2025-06-12 22:47:58.287 +05:30 [INF] Executed endpoint 'RealEstateApi.Controllers.PropertyListingsController.UploadImage (RealEstateApi)'
2025-06-12 22:47:58.290 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5009/api/v1/PropertyListings/upload-image - 200 null application/json; charset=utf-8 168.8406ms
2025-06-12 22:48:09.656 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5009/api/v1/PropertyListings/upload-image - multipart/form-data; boundary=----WebKitFormBoundaryYu1wxohubNS7rtHX 920429
2025-06-12 22:48:09.663 +05:30 [INF] Executing endpoint 'RealEstateApi.Controllers.PropertyListingsController.UploadImage (RealEstateApi)'
2025-06-12 22:48:09.663 +05:30 [INF] Route matched with {action = "UploadImage", controller = "PropertyListings"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UploadImage(RealEstateApi.Models.DTOs.AddPropertyImageDto) on controller RealEstateApi.Controllers.PropertyListingsController (RealEstateApi).
2025-06-12 22:48:09.738 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."AgentId", s."Bathrooms", s."Bedrooms", s."CreatedAt", s."Description", s."IsDeleted", s."Location", s."Price", s."SquareFeet", s."Title", s."Id0", s."AgencyName", s."LicenseNumber", s."Phone", p1."Id", p1."DeletedAt", p1."FileName", p1."FileUrl", p1."IsDeleted", p1."PropertyListingId", i."Id", i."BuyerId", i."CreatedAt", i."ListingId", i."Message"
FROM (
    SELECT p."Id", p."AgentId", p."Bathrooms", p."Bedrooms", p."CreatedAt", p."Description", p."IsDeleted", p."Location", p."Price", p."SquareFeet", p."Title", a."Id" AS "Id0", a."AgencyName", a."LicenseNumber", a."Phone"
    FROM "PropertyListings" AS p
    INNER JOIN "Agents" AS a ON p."AgentId" = a."Id"
    WHERE NOT (p."IsDeleted") AND p."Id" = @__id_0
    LIMIT 1
) AS s
LEFT JOIN (
    SELECT p0."Id", p0."DeletedAt", p0."FileName", p0."FileUrl", p0."IsDeleted", p0."PropertyListingId"
    FROM "PropertyImages" AS p0
    WHERE NOT (p0."IsDeleted")
) AS p1 ON s."Id" = p1."PropertyListingId"
LEFT JOIN "Inquiries" AS i ON s."Id" = i."ListingId"
ORDER BY s."Id", s."Id0", p1."Id"
2025-06-12 22:48:09.745 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime), @p2='?', @p3='?', @p4='?' (DbType = Boolean), @p5='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "PropertyImages" ("Id", "DeletedAt", "FileName", "FileUrl", "IsDeleted", "PropertyListingId")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2025-06-12 22:48:09.747 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?', @p3='?', @p4='?', @p5='?', @p6='?' (DbType = DateTime), @p7='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AuditLogs" ("Id", "ActionType", "NewValues", "OldValues", "PrimaryKey", "TableName", "Timestamp", "UserId")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
2025-06-12 22:48:09.747 +05:30 [INF] Executing OkObjectResult, writing value of type 'RealEstateApi.Models.PropertyImage'.
2025-06-12 22:48:09.747 +05:30 [INF] Executed action RealEstateApi.Controllers.PropertyListingsController.UploadImage (RealEstateApi) in 83.8558ms
2025-06-12 22:48:09.747 +05:30 [INF] Executed endpoint 'RealEstateApi.Controllers.PropertyListingsController.UploadImage (RealEstateApi)'
2025-06-12 22:48:09.749 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5009/api/v1/PropertyListings/upload-image - 200 null application/json; charset=utf-8 93.0042ms
2025-06-12 22:58:51.818 +05:30 [INF] Application is shutting down...
2025-06-12 23:00:28.668 +05:30 [INF] Executed DbCommand (20ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-06-12 23:00:28.896 +05:30 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE IF NOT EXISTS "__EFMigrationsHistory" (
    "MigrationId" character varying(150) NOT NULL,
    "ProductVersion" character varying(32) NOT NULL,
    CONSTRAINT "PK___EFMigrationsHistory" PRIMARY KEY ("MigrationId")
);
2025-06-12 23:00:28.904 +05:30 [INF] Acquiring an exclusive lock for migration application. See https://aka.ms/efcore-docs-migrations-lock for more information if this takes too long.
2025-06-12 23:00:28.907 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
LOCK TABLE "__EFMigrationsHistory" IN ACCESS EXCLUSIVE MODE
2025-06-12 23:00:28.908 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-06-12 23:00:28.922 +05:30 [INF] Applying migration '20250612173012_seedAdmin'.
2025-06-12 23:00:28.970 +05:30 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Users" ("Id", "CreatedAt", "Email", "IsDeleted", "Name", "PasswordHash", "RefreshToken", "RefreshTokenExpiryTime", "Role")
VALUES ('13d9e583-fe17-4577-81c9-d103ed995826', TIMESTAMPTZ '2025-06-12T17:30:11.155066Z', 'admin@gmail.com', FALSE, 'Admin', '$2a$11$whho9m6bdDoSEfOu43SBHeNn6MujqA0fyvmI..ga/DMiisZhJR5uW', NULL, NULL, 'Admin');
2025-06-12 23:00:28.971 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "__EFMigrationsHistory" ("MigrationId", "ProductVersion")
VALUES ('20250612173012_seedAdmin', '9.0.5');
2025-06-12 23:02:56.046 +05:30 [ERR] An error occurred using the connection to database 'RealEstateDb' on server 'tcp://localhost:5433'.
2025-06-12 23:15:45.370 +05:30 [ERR] An error occurred using the connection to database 'RealEstateDb' on server 'tcp://localhost:5433'.
2025-06-12 23:17:59.816 +05:30 [ERR] An error occurred using the connection to database 'RealEstateDb' on server 'tcp://localhost:5433'.
2025-06-12 23:19:40.853 +05:30 [ERR] An error occurred using the connection to database 'RealEstateDb' on server 'tcp://localhost:5433'.
2025-06-12 23:19:40.905 +05:30 [INF] No migrations were found in assembly 'RealEstateApi'. A migration needs to be added before the database can be updated.
2025-06-12 23:19:41.248 +05:30 [INF] Executed DbCommand (250ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE DATABASE "RealEstateDb";
2025-06-12 23:19:41.418 +05:30 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE IF NOT EXISTS "__EFMigrationsHistory" (
    "MigrationId" character varying(150) NOT NULL,
    "ProductVersion" character varying(32) NOT NULL,
    CONSTRAINT "PK___EFMigrationsHistory" PRIMARY KEY ("MigrationId")
);
2025-06-12 23:19:41.428 +05:30 [INF] Acquiring an exclusive lock for migration application. See https://aka.ms/efcore-docs-migrations-lock for more information if this takes too long.
2025-06-12 23:19:41.430 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
LOCK TABLE "__EFMigrationsHistory" IN ACCESS EXCLUSIVE MODE
2025-06-12 23:19:41.434 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-06-12 23:19:41.446 +05:30 [INF] No migrations were applied. The database is already up to date.
2025-06-12 23:20:00.006 +05:30 [INF] Executed DbCommand (19ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-06-12 23:21:08.510 +05:30 [INF] Executed DbCommand (21ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-06-12 23:22:07.713 +05:30 [INF] Executed DbCommand (20ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-06-12 23:22:07.964 +05:30 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE IF NOT EXISTS "__EFMigrationsHistory" (
    "MigrationId" character varying(150) NOT NULL,
    "ProductVersion" character varying(32) NOT NULL,
    CONSTRAINT "PK___EFMigrationsHistory" PRIMARY KEY ("MigrationId")
);
2025-06-12 23:22:07.972 +05:30 [INF] Acquiring an exclusive lock for migration application. See https://aka.ms/efcore-docs-migrations-lock for more information if this takes too long.
2025-06-12 23:22:07.973 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
LOCK TABLE "__EFMigrationsHistory" IN ACCESS EXCLUSIVE MODE
2025-06-12 23:22:07.974 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-06-12 23:22:07.982 +05:30 [INF] Applying migration '20250612175158_init'.
2025-06-12 23:22:08.012 +05:30 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "AuditLogs" (
    "Id" uuid NOT NULL,
    "TableName" text NOT NULL,
    "UserId" text,
    "ActionType" text NOT NULL,
    "OldValues" text,
    "NewValues" text,
    "PrimaryKey" text,
    "Timestamp" timestamp with time zone NOT NULL,
    CONSTRAINT "PK_AuditLogs" PRIMARY KEY ("Id")
);
2025-06-12 23:22:08.014 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "Users" (
    "Id" uuid NOT NULL,
    "Name" text NOT NULL,
    "Email" text NOT NULL,
    "PasswordHash" text NOT NULL,
    "Role" text NOT NULL,
    "CreatedAt" timestamp with time zone NOT NULL,
    "IsDeleted" boolean NOT NULL,
    "RefreshToken" text,
    "RefreshTokenExpiryTime" timestamp with time zone,
    CONSTRAINT "PK_Users" PRIMARY KEY ("Id")
);
2025-06-12 23:22:08.017 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "Agents" (
    "Id" uuid NOT NULL,
    "LicenseNumber" text NOT NULL,
    "AgencyName" text NOT NULL,
    "Phone" text NOT NULL,
    CONSTRAINT "PK_Agents" PRIMARY KEY ("Id"),
    CONSTRAINT "FK_Agents_Users_Id" FOREIGN KEY ("Id") REFERENCES "Users" ("Id") ON DELETE RESTRICT
);
2025-06-12 23:22:08.019 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "Buyers" (
    "Id" uuid NOT NULL,
    "PreferredLocation" text NOT NULL,
    "Budget" double precision NOT NULL,
    CONSTRAINT "PK_Buyers" PRIMARY KEY ("Id"),
    CONSTRAINT "FK_Buyers_Users_Id" FOREIGN KEY ("Id") REFERENCES "Users" ("Id") ON DELETE RESTRICT
);
2025-06-12 23:22:08.021 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "PropertyListings" (
    "Id" uuid NOT NULL,
    "Title" text NOT NULL,
    "Description" text NOT NULL,
    "Price" double precision NOT NULL,
    "Location" text NOT NULL,
    "Bedrooms" integer NOT NULL,
    "Bathrooms" integer NOT NULL,
    "SquareFeet" integer NOT NULL,
    "AgentId" uuid NOT NULL,
    "CreatedAt" timestamp with time zone NOT NULL,
    "IsDeleted" boolean NOT NULL,
    CONSTRAINT "PK_PropertyListings" PRIMARY KEY ("Id"),
    CONSTRAINT "FK_PropertyListings_Agents_AgentId" FOREIGN KEY ("AgentId") REFERENCES "Agents" ("Id") ON DELETE RESTRICT
);
2025-06-12 23:22:08.023 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "Inquiries" (
    "Id" uuid NOT NULL,
    "ListingId" uuid NOT NULL,
    "BuyerId" uuid NOT NULL,
    "Message" text NOT NULL,
    "CreatedAt" timestamp with time zone NOT NULL,
    CONSTRAINT "PK_Inquiries" PRIMARY KEY ("Id"),
    CONSTRAINT "FK_Inquiries_Buyers_BuyerId" FOREIGN KEY ("BuyerId") REFERENCES "Buyers" ("Id") ON DELETE RESTRICT,
    CONSTRAINT "FK_Inquiries_PropertyListings_ListingId" FOREIGN KEY ("ListingId") REFERENCES "PropertyListings" ("Id") ON DELETE RESTRICT
);
2025-06-12 23:22:08.026 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "PropertyImages" (
    "Id" uuid NOT NULL,
    "FileName" text NOT NULL,
    "FileUrl" text NOT NULL,
    "IsDeleted" boolean NOT NULL,
    "DeletedAt" timestamp with time zone,
    "PropertyListingId" uuid NOT NULL,
    CONSTRAINT "PK_PropertyImages" PRIMARY KEY ("Id"),
    CONSTRAINT "FK_PropertyImages_PropertyListings_PropertyListingId" FOREIGN KEY ("PropertyListingId") REFERENCES "PropertyListings" ("Id") ON DELETE RESTRICT
);
2025-06-12 23:22:08.027 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_Inquiries_BuyerId" ON "Inquiries" ("BuyerId");
2025-06-12 23:22:08.028 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_Inquiries_ListingId" ON "Inquiries" ("ListingId");
2025-06-12 23:22:08.030 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_PropertyImages_PropertyListingId" ON "PropertyImages" ("PropertyListingId");
2025-06-12 23:22:08.032 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_PropertyListings_AgentId" ON "PropertyListings" ("AgentId");
2025-06-12 23:22:08.033 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "__EFMigrationsHistory" ("MigrationId", "ProductVersion")
VALUES ('20250612175158_init', '9.0.5');
2025-06-12 23:22:46.427 +05:30 [INF] User profile is available. Using '/Users/muckesh/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2025-06-12 23:22:46.548 +05:30 [INF] Now listening on: http://localhost:5009
2025-06-12 23:22:46.551 +05:30 [INF] Application started. Press Ctrl+C to shut down.
2025-06-12 23:22:46.551 +05:30 [INF] Hosting environment: Development
2025-06-12 23:22:46.551 +05:30 [INF] Content root path: /Users/muckesh/Muckesh/Presidio/Genspark-Training/Capstone-1/RealEstateApi
2025-06-12 23:23:13.723 +05:30 [INF] Application is shutting down...
2025-06-12 23:23:17.801 +05:30 [INF] User profile is available. Using '/Users/muckesh/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2025-06-12 23:23:17.914 +05:30 [INF] Now listening on: http://localhost:5009
2025-06-12 23:23:17.916 +05:30 [INF] Application started. Press Ctrl+C to shut down.
2025-06-12 23:23:17.917 +05:30 [INF] Hosting environment: Development
2025-06-12 23:23:17.917 +05:30 [INF] Content root path: /Users/muckesh/Muckesh/Presidio/Genspark-Training/Capstone-1/RealEstateApi
2025-06-12 23:23:51.001 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5009/swagger/index.html - null null
2025-06-12 23:23:51.102 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5009/swagger/index.html - 200 null text/html;charset=utf-8 104.9888ms
2025-06-12 23:23:51.307 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5009/swagger/v1/swagger.json - null null
2025-06-12 23:23:51.486 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5009/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 178.6393ms
2025-06-12 23:23:52.615 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5009/swagger/index.html - null null
2025-06-12 23:23:52.617 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5009/swagger/index.html - 200 null text/html;charset=utf-8 1.5242ms
2025-06-12 23:23:52.677 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5009/swagger/v1/swagger.json - null null
2025-06-12 23:23:52.695 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5009/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 18.1228ms
2025-06-12 23:23:52.797 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5009/swagger/index.html - null null
2025-06-12 23:23:52.797 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5009/swagger/index.html - 200 null text/html;charset=utf-8 0.4588ms
2025-06-12 23:23:52.847 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5009/swagger/v1/swagger.json - null null
2025-06-12 23:23:52.863 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5009/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 16.0209ms
2025-06-12 23:24:19.386 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5009/api/v1/User/create-admin - application/json 77
2025-06-12 23:24:19.423 +05:30 [WRN] Failed to determine the https port for redirect.
2025-06-12 23:24:19.491 +05:30 [INF] Executing endpoint 'RealEstateApi.Controllers.UserController.CreateAdmin (RealEstateApi)'
2025-06-12 23:24:19.530 +05:30 [INF] Route matched with {action = "CreateAdmin", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateAdmin(RealEstateApi.Models.DTOs.CreateUserDto) on controller RealEstateApi.Controllers.UserController (RealEstateApi).
2025-06-12 23:24:20.791 +05:30 [INF] Executed DbCommand (21ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."Email", u."IsDeleted", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role"
FROM "Users" AS u
WHERE NOT (u."IsDeleted")
2025-06-12 23:24:20.816 +05:30 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."Email", u."IsDeleted", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role"
FROM "Users" AS u
WHERE NOT (u."IsDeleted")
2025-06-12 23:24:20.825 +05:30 [INF] Executing BadRequestObjectResult, writing value of type 'System.String'.
2025-06-12 23:24:20.832 +05:30 [INF] Executed action RealEstateApi.Controllers.UserController.CreateAdmin (RealEstateApi) in 1297.1478ms
2025-06-12 23:24:20.833 +05:30 [INF] Executed endpoint 'RealEstateApi.Controllers.UserController.CreateAdmin (RealEstateApi)'
2025-06-12 23:24:20.841 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5009/api/v1/User/create-admin - 400 null text/plain; charset=utf-8 1455.2423ms
2025-06-12 23:25:00.043 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5009/swagger/index.html - null null
2025-06-12 23:25:00.045 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5009/swagger/index.html - 200 null text/html;charset=utf-8 1.4478ms
2025-06-12 23:25:00.119 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5009/swagger/v1/swagger.json - null null
2025-06-12 23:25:00.136 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5009/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 17.319ms
2025-06-12 23:25:00.652 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5009/swagger/index.html - null null
2025-06-12 23:25:00.653 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5009/swagger/index.html - 200 null text/html;charset=utf-8 0.6103ms
2025-06-12 23:25:00.706 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5009/swagger/v1/swagger.json - null null
2025-06-12 23:25:00.715 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5009/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 9.2038ms
2025-06-12 23:25:00.843 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5009/swagger/index.html - null null
2025-06-12 23:25:00.844 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5009/swagger/index.html - 200 null text/html;charset=utf-8 0.4741ms
2025-06-12 23:25:00.902 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5009/swagger/v1/swagger.json - null null
2025-06-12 23:25:00.910 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5009/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 8.4433ms
2025-06-12 23:25:01.024 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5009/swagger/index.html - null null
2025-06-12 23:25:01.025 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5009/swagger/index.html - 200 null text/html;charset=utf-8 0.4264ms
2025-06-12 23:25:01.076 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5009/swagger/v1/swagger.json - null null
2025-06-12 23:25:01.085 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5009/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 9.1619ms
2025-06-12 23:25:04.891 +05:30 [INF] Application is shutting down...
2025-06-12 23:25:41.539 +05:30 [INF] User profile is available. Using '/Users/muckesh/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2025-06-12 23:25:41.664 +05:30 [INF] Now listening on: http://localhost:5009
2025-06-12 23:25:41.667 +05:30 [INF] Application started. Press Ctrl+C to shut down.
2025-06-12 23:25:41.668 +05:30 [INF] Hosting environment: Development
2025-06-12 23:25:41.668 +05:30 [INF] Content root path: /Users/muckesh/Muckesh/Presidio/Genspark-Training/Capstone-1/RealEstateApi
2025-06-12 23:26:13.668 +05:30 [INF] Application is shutting down...
2025-06-12 23:30:15.077 +05:30 [INF] User profile is available. Using '/Users/muckesh/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2025-06-12 23:30:15.260 +05:30 [INF] Now listening on: http://localhost:5009
2025-06-12 23:30:15.263 +05:30 [INF] Application started. Press Ctrl+C to shut down.
2025-06-12 23:30:15.264 +05:30 [INF] Hosting environment: Development
2025-06-12 23:30:15.264 +05:30 [INF] Content root path: /Users/muckesh/Muckesh/Presidio/Genspark-Training/Capstone-1/RealEstateApi
2025-06-12 23:30:41.300 +05:30 [INF] Application is shutting down...
2025-06-12 23:30:55.369 +05:30 [INF] User profile is available. Using '/Users/muckesh/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2025-06-12 23:30:55.507 +05:30 [INF] Now listening on: http://localhost:5009
2025-06-12 23:30:55.510 +05:30 [INF] Application started. Press Ctrl+C to shut down.
2025-06-12 23:30:55.511 +05:30 [INF] Hosting environment: Development
2025-06-12 23:30:55.511 +05:30 [INF] Content root path: /Users/muckesh/Muckesh/Presidio/Genspark-Training/Capstone-1/RealEstateApi
2025-06-12 23:31:21.683 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5009/swagger/index.html - null null
2025-06-12 23:31:21.778 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5009/swagger/index.html - 200 null text/html;charset=utf-8 96.4025ms
2025-06-12 23:31:21.835 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5009/swagger/v1/swagger.json - null null
2025-06-12 23:31:22.003 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5009/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 168.5403ms
2025-06-12 23:31:22.719 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5009/swagger/index.html - null null
2025-06-12 23:31:22.722 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5009/swagger/index.html - 200 null text/html;charset=utf-8 2.638ms
2025-06-12 23:31:22.773 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5009/swagger/v1/swagger.json - null null
2025-06-12 23:31:22.792 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5009/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 19.4546ms
2025-06-12 23:31:23.283 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5009/swagger/index.html - null null
2025-06-12 23:31:23.283 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5009/swagger/index.html - 200 null text/html;charset=utf-8 0.5274ms
2025-06-12 23:31:23.332 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5009/swagger/v1/swagger.json - null null
2025-06-12 23:31:23.348 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5009/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 16.2763ms
2025-06-12 23:31:23.458 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5009/swagger/index.html - null null
2025-06-12 23:31:23.459 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5009/swagger/index.html - 200 null text/html;charset=utf-8 0.4499ms
2025-06-12 23:31:23.505 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5009/swagger/v1/swagger.json - null null
2025-06-12 23:31:23.519 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5009/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 14.4552ms
2025-06-12 23:31:23.640 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5009/swagger/index.html - null null
2025-06-12 23:31:23.640 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5009/swagger/index.html - 200 null text/html;charset=utf-8 0.4198ms
2025-06-12 23:31:23.687 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5009/swagger/v1/swagger.json - null null
2025-06-12 23:31:23.699 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5009/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 12.045ms
2025-06-12 23:31:23.805 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5009/swagger/index.html - null null
2025-06-12 23:31:23.805 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5009/swagger/index.html - 200 null text/html;charset=utf-8 0.4488ms
2025-06-12 23:31:23.850 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5009/swagger/v1/swagger.json - null null
2025-06-12 23:31:23.862 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5009/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 11.9492ms
2025-06-12 23:31:23.984 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5009/swagger/index.html - null null
2025-06-12 23:31:23.985 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5009/swagger/index.html - 200 null text/html;charset=utf-8 0.4346ms
2025-06-12 23:31:24.035 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5009/swagger/v1/swagger.json - null null
2025-06-12 23:31:24.046 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5009/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 10.2103ms
2025-06-12 23:31:24.147 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5009/swagger/index.html - null null
2025-06-12 23:31:24.148 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5009/swagger/index.html - 200 null text/html;charset=utf-8 0.495ms
2025-06-12 23:31:24.197 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5009/swagger/v1/swagger.json - null null
2025-06-12 23:31:24.217 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5009/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 19.9572ms
2025-06-12 23:31:24.334 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5009/swagger/index.html - null null
2025-06-12 23:31:24.335 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5009/swagger/index.html - 200 null text/html;charset=utf-8 0.4506ms
2025-06-12 23:31:24.384 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5009/swagger/v1/swagger.json - null null
2025-06-12 23:31:24.393 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5009/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 9.3796ms
2025-06-12 23:31:24.497 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5009/swagger/index.html - null null
2025-06-12 23:31:24.497 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5009/swagger/index.html - 200 null text/html;charset=utf-8 0.3944ms
2025-06-12 23:31:24.542 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5009/swagger/v1/swagger.json - null null
2025-06-12 23:31:24.552 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5009/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 10.5868ms
2025-06-12 23:31:24.664 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5009/swagger/index.html - null null
2025-06-12 23:31:24.665 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5009/swagger/index.html - 200 null text/html;charset=utf-8 0.724ms
2025-06-12 23:31:24.725 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5009/swagger/v1/swagger.json - null null
2025-06-12 23:31:24.736 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5009/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 10.4791ms
2025-06-12 23:31:24.844 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5009/swagger/index.html - null null
2025-06-12 23:31:24.844 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5009/swagger/index.html - 200 null text/html;charset=utf-8 0.4505ms
2025-06-12 23:31:24.893 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5009/swagger/v1/swagger.json - null null
2025-06-12 23:31:24.908 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5009/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 14.9867ms
2025-06-12 23:31:25.039 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5009/swagger/index.html - null null
2025-06-12 23:31:25.040 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5009/swagger/index.html - 200 null text/html;charset=utf-8 0.4213ms
2025-06-12 23:31:25.088 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5009/swagger/v1/swagger.json - null null
2025-06-12 23:31:25.096 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5009/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 8.2283ms
2025-06-12 23:31:25.210 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5009/swagger/index.html - null null
2025-06-12 23:31:25.211 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5009/swagger/index.html - 200 null text/html;charset=utf-8 0.5123ms
2025-06-12 23:31:25.262 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5009/swagger/v1/swagger.json - null null
2025-06-12 23:31:25.269 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5009/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 7.1112ms
2025-06-12 23:31:25.399 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5009/swagger/index.html - null null
2025-06-12 23:31:25.400 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5009/swagger/index.html - 200 null text/html;charset=utf-8 0.6105ms
2025-06-12 23:31:25.455 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5009/swagger/v1/swagger.json - null null
2025-06-12 23:31:25.462 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5009/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 6.7659ms
2025-06-12 23:31:35.643 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5009/api/v1/User - null null
2025-06-12 23:31:35.669 +05:30 [WRN] Failed to determine the https port for redirect.
2025-06-12 23:31:35.742 +05:30 [INF] Executing endpoint 'RealEstateApi.Controllers.UserController.GetFilteredUsers (RealEstateApi)'
2025-06-12 23:31:35.766 +05:30 [INF] Route matched with {action = "GetFilteredUsers", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[RealEstateApi.Models.DTOs.PagedResult`1[RealEstateApi.Models.User]]] GetFilteredUsers(RealEstateApi.Models.DTOs.UserQueryDto) on controller RealEstateApi.Controllers.UserController (RealEstateApi).
2025-06-12 23:31:37.115 +05:30 [INF] Executed DbCommand (24ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."Email", u."IsDeleted", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role"
FROM "Users" AS u
WHERE NOT (u."IsDeleted")
2025-06-12 23:31:37.142 +05:30 [INF] Executing OkObjectResult, writing value of type 'RealEstateApi.Models.DTOs.PagedResult`1[[RealEstateApi.Models.User, RealEstateApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-12 23:31:37.189 +05:30 [INF] Executed action RealEstateApi.Controllers.UserController.GetFilteredUsers (RealEstateApi) in 1419.0778ms
2025-06-12 23:31:37.189 +05:30 [INF] Executed endpoint 'RealEstateApi.Controllers.UserController.GetFilteredUsers (RealEstateApi)'
2025-06-12 23:31:37.199 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5009/api/v1/User - 200 null application/json; charset=utf-8 1555.9776ms
2025-06-12 23:32:06.298 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5009/api/v1/User/create-admin - application/json 77
2025-06-12 23:32:06.302 +05:30 [INF] Executing endpoint 'RealEstateApi.Controllers.UserController.CreateAdmin (RealEstateApi)'
2025-06-12 23:32:06.309 +05:30 [INF] Route matched with {action = "CreateAdmin", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateAdmin(RealEstateApi.Models.DTOs.CreateUserDto) on controller RealEstateApi.Controllers.UserController (RealEstateApi).
2025-06-12 23:32:06.346 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."Email", u."IsDeleted", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role"
FROM "Users" AS u
WHERE NOT (u."IsDeleted")
2025-06-12 23:32:06.349 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."Email", u."IsDeleted", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role"
FROM "Users" AS u
WHERE NOT (u."IsDeleted")
2025-06-12 23:32:06.350 +05:30 [INF] Executing BadRequestObjectResult, writing value of type 'System.String'.
2025-06-12 23:32:06.351 +05:30 [INF] Executed action RealEstateApi.Controllers.UserController.CreateAdmin (RealEstateApi) in 41.3545ms
2025-06-12 23:32:06.351 +05:30 [INF] Executed endpoint 'RealEstateApi.Controllers.UserController.CreateAdmin (RealEstateApi)'
2025-06-12 23:32:06.351 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5009/api/v1/User/create-admin - 400 null text/plain; charset=utf-8 52.8706ms
2025-06-12 23:32:12.698 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5009/api/v1/User/create-admin - application/json 77
2025-06-12 23:32:12.700 +05:30 [INF] Executing endpoint 'RealEstateApi.Controllers.UserController.CreateAdmin (RealEstateApi)'
2025-06-12 23:32:12.701 +05:30 [INF] Route matched with {action = "CreateAdmin", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateAdmin(RealEstateApi.Models.DTOs.CreateUserDto) on controller RealEstateApi.Controllers.UserController (RealEstateApi).
2025-06-12 23:32:12.767 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."Email", u."IsDeleted", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role"
FROM "Users" AS u
WHERE NOT (u."IsDeleted")
2025-06-12 23:32:12.768 +05:30 [INF] Executing BadRequestObjectResult, writing value of type 'System.String'.
2025-06-12 23:32:12.768 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."Email", u."IsDeleted", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role"
FROM "Users" AS u
WHERE NOT (u."IsDeleted")
2025-06-12 23:32:12.768 +05:30 [INF] Executed action RealEstateApi.Controllers.UserController.CreateAdmin (RealEstateApi) in 67.8309ms
2025-06-12 23:32:12.769 +05:30 [INF] Executed endpoint 'RealEstateApi.Controllers.UserController.CreateAdmin (RealEstateApi)'
2025-06-12 23:32:12.769 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5009/api/v1/User/create-admin - 400 null text/plain; charset=utf-8 71.2332ms
2025-06-12 23:32:12.874 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5009/api/v1/User/create-admin - application/json 77
2025-06-12 23:32:12.874 +05:30 [INF] Executing endpoint 'RealEstateApi.Controllers.UserController.CreateAdmin (RealEstateApi)'
2025-06-12 23:32:12.874 +05:30 [INF] Route matched with {action = "CreateAdmin", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateAdmin(RealEstateApi.Models.DTOs.CreateUserDto) on controller RealEstateApi.Controllers.UserController (RealEstateApi).
2025-06-12 23:32:12.877 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."Email", u."IsDeleted", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role"
FROM "Users" AS u
WHERE NOT (u."IsDeleted")
2025-06-12 23:32:12.878 +05:30 [INF] Executing BadRequestObjectResult, writing value of type 'System.String'.
2025-06-12 23:32:12.878 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."Email", u."IsDeleted", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role"
FROM "Users" AS u
WHERE NOT (u."IsDeleted")
2025-06-12 23:32:12.878 +05:30 [INF] Executed action RealEstateApi.Controllers.UserController.CreateAdmin (RealEstateApi) in 3.3346ms
2025-06-12 23:32:12.878 +05:30 [INF] Executed endpoint 'RealEstateApi.Controllers.UserController.CreateAdmin (RealEstateApi)'
2025-06-12 23:32:12.878 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5009/api/v1/User/create-admin - 400 null text/plain; charset=utf-8 4.329ms
2025-06-12 23:32:13.092 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5009/api/v1/User/create-admin - application/json 77
2025-06-12 23:32:13.092 +05:30 [INF] Executing endpoint 'RealEstateApi.Controllers.UserController.CreateAdmin (RealEstateApi)'
2025-06-12 23:32:13.093 +05:30 [INF] Route matched with {action = "CreateAdmin", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateAdmin(RealEstateApi.Models.DTOs.CreateUserDto) on controller RealEstateApi.Controllers.UserController (RealEstateApi).
2025-06-12 23:32:13.095 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."Email", u."IsDeleted", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role"
FROM "Users" AS u
WHERE NOT (u."IsDeleted")
2025-06-12 23:32:13.096 +05:30 [INF] Executing BadRequestObjectResult, writing value of type 'System.String'.
2025-06-12 23:32:13.097 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."Email", u."IsDeleted", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role"
FROM "Users" AS u
WHERE NOT (u."IsDeleted")
2025-06-12 23:32:13.097 +05:30 [INF] Executed action RealEstateApi.Controllers.UserController.CreateAdmin (RealEstateApi) in 4.0098ms
2025-06-12 23:32:13.097 +05:30 [INF] Executed endpoint 'RealEstateApi.Controllers.UserController.CreateAdmin (RealEstateApi)'
2025-06-12 23:32:13.097 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5009/api/v1/User/create-admin - 400 null text/plain; charset=utf-8 4.6363ms
2025-06-12 23:32:13.300 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5009/api/v1/User/create-admin - application/json 77
2025-06-12 23:32:13.301 +05:30 [INF] Executing endpoint 'RealEstateApi.Controllers.UserController.CreateAdmin (RealEstateApi)'
2025-06-12 23:32:13.301 +05:30 [INF] Route matched with {action = "CreateAdmin", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateAdmin(RealEstateApi.Models.DTOs.CreateUserDto) on controller RealEstateApi.Controllers.UserController (RealEstateApi).
2025-06-12 23:32:13.303 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."Email", u."IsDeleted", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role"
FROM "Users" AS u
WHERE NOT (u."IsDeleted")
2025-06-12 23:32:13.304 +05:30 [INF] Executing BadRequestObjectResult, writing value of type 'System.String'.
2025-06-12 23:32:13.304 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."Email", u."IsDeleted", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role"
FROM "Users" AS u
WHERE NOT (u."IsDeleted")
2025-06-12 23:32:13.304 +05:30 [INF] Executed action RealEstateApi.Controllers.UserController.CreateAdmin (RealEstateApi) in 2.9739ms
2025-06-12 23:32:13.304 +05:30 [INF] Executed endpoint 'RealEstateApi.Controllers.UserController.CreateAdmin (RealEstateApi)'
2025-06-12 23:32:13.304 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5009/api/v1/User/create-admin - 400 null text/plain; charset=utf-8 3.5884ms
2025-06-12 23:32:13.481 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5009/api/v1/User/create-admin - application/json 77
2025-06-12 23:32:13.482 +05:30 [INF] Executing endpoint 'RealEstateApi.Controllers.UserController.CreateAdmin (RealEstateApi)'
2025-06-12 23:32:13.482 +05:30 [INF] Route matched with {action = "CreateAdmin", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateAdmin(RealEstateApi.Models.DTOs.CreateUserDto) on controller RealEstateApi.Controllers.UserController (RealEstateApi).
2025-06-12 23:32:13.484 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."Email", u."IsDeleted", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role"
FROM "Users" AS u
WHERE NOT (u."IsDeleted")
2025-06-12 23:32:13.485 +05:30 [INF] Executing BadRequestObjectResult, writing value of type 'System.String'.
2025-06-12 23:32:13.485 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."Email", u."IsDeleted", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role"
FROM "Users" AS u
WHERE NOT (u."IsDeleted")
2025-06-12 23:32:13.485 +05:30 [INF] Executed action RealEstateApi.Controllers.UserController.CreateAdmin (RealEstateApi) in 3.0395ms
2025-06-12 23:32:13.485 +05:30 [INF] Executed endpoint 'RealEstateApi.Controllers.UserController.CreateAdmin (RealEstateApi)'
2025-06-12 23:32:13.485 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5009/api/v1/User/create-admin - 400 null text/plain; charset=utf-8 3.6125ms
2025-06-12 23:32:13.650 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5009/api/v1/User/create-admin - application/json 77
2025-06-12 23:32:13.650 +05:30 [INF] Executing endpoint 'RealEstateApi.Controllers.UserController.CreateAdmin (RealEstateApi)'
2025-06-12 23:32:13.650 +05:30 [INF] Route matched with {action = "CreateAdmin", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateAdmin(RealEstateApi.Models.DTOs.CreateUserDto) on controller RealEstateApi.Controllers.UserController (RealEstateApi).
2025-06-12 23:32:13.652 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."Email", u."IsDeleted", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role"
FROM "Users" AS u
WHERE NOT (u."IsDeleted")
2025-06-12 23:32:13.653 +05:30 [INF] Executing BadRequestObjectResult, writing value of type 'System.String'.
2025-06-12 23:32:13.653 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."Email", u."IsDeleted", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role"
FROM "Users" AS u
WHERE NOT (u."IsDeleted")
2025-06-12 23:32:13.653 +05:30 [INF] Executed action RealEstateApi.Controllers.UserController.CreateAdmin (RealEstateApi) in 2.9462ms
2025-06-12 23:32:13.653 +05:30 [INF] Executed endpoint 'RealEstateApi.Controllers.UserController.CreateAdmin (RealEstateApi)'
2025-06-12 23:32:13.653 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5009/api/v1/User/create-admin - 400 null text/plain; charset=utf-8 3.6294ms
2025-06-12 23:32:28.805 +05:30 [INF] Application is shutting down...
2025-06-12 23:34:17.407 +05:30 [INF] Executed DbCommand (21ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-06-12 23:34:17.675 +05:30 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE IF NOT EXISTS "__EFMigrationsHistory" (
    "MigrationId" character varying(150) NOT NULL,
    "ProductVersion" character varying(32) NOT NULL,
    CONSTRAINT "PK___EFMigrationsHistory" PRIMARY KEY ("MigrationId")
);
2025-06-12 23:34:17.683 +05:30 [INF] Acquiring an exclusive lock for migration application. See https://aka.ms/efcore-docs-migrations-lock for more information if this takes too long.
2025-06-12 23:34:17.686 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
LOCK TABLE "__EFMigrationsHistory" IN ACCESS EXCLUSIVE MODE
2025-06-12 23:34:17.686 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-06-12 23:34:17.694 +05:30 [INF] Applying migration '20250612180343_init'.
2025-06-12 23:34:17.727 +05:30 [ERR] Failed executing DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "AuditLogs" (
    "Id" uuid NOT NULL,
    "TableName" text NOT NULL,
    "UserId" text,
    "ActionType" text NOT NULL,
    "OldValues" text,
    "NewValues" text,
    "PrimaryKey" text,
    "Timestamp" timestamp with time zone NOT NULL,
    CONSTRAINT "PK_AuditLogs" PRIMARY KEY ("Id")
);
2025-06-12 23:34:45.398 +05:30 [ERR] An error occurred using the connection to database 'RealEstateDb' on server 'tcp://localhost:5433'.
2025-06-12 23:34:45.890 +05:30 [INF] Executed DbCommand (244ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE DATABASE "RealEstateDb";
2025-06-12 23:34:45.993 +05:30 [INF] Executed DbCommand (12ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE IF NOT EXISTS "__EFMigrationsHistory" (
    "MigrationId" character varying(150) NOT NULL,
    "ProductVersion" character varying(32) NOT NULL,
    CONSTRAINT "PK___EFMigrationsHistory" PRIMARY KEY ("MigrationId")
);
2025-06-12 23:34:46.002 +05:30 [INF] Acquiring an exclusive lock for migration application. See https://aka.ms/efcore-docs-migrations-lock for more information if this takes too long.
2025-06-12 23:34:46.004 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
LOCK TABLE "__EFMigrationsHistory" IN ACCESS EXCLUSIVE MODE
2025-06-12 23:34:46.007 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-06-12 23:34:46.018 +05:30 [INF] Applying migration '20250612180343_init'.
2025-06-12 23:34:46.055 +05:30 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "AuditLogs" (
    "Id" uuid NOT NULL,
    "TableName" text NOT NULL,
    "UserId" text,
    "ActionType" text NOT NULL,
    "OldValues" text,
    "NewValues" text,
    "PrimaryKey" text,
    "Timestamp" timestamp with time zone NOT NULL,
    CONSTRAINT "PK_AuditLogs" PRIMARY KEY ("Id")
);
2025-06-12 23:34:46.057 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "Users" (
    "Id" uuid NOT NULL,
    "Name" text NOT NULL,
    "Email" text NOT NULL,
    "PasswordHash" text NOT NULL,
    "Role" text NOT NULL,
    "CreatedAt" timestamp with time zone NOT NULL,
    "IsDeleted" boolean NOT NULL,
    "RefreshToken" text,
    "RefreshTokenExpiryTime" timestamp with time zone,
    CONSTRAINT "PK_Users" PRIMARY KEY ("Id")
);
2025-06-12 23:34:46.062 +05:30 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "Agents" (
    "Id" uuid NOT NULL,
    "LicenseNumber" text NOT NULL,
    "AgencyName" text NOT NULL,
    "Phone" text NOT NULL,
    CONSTRAINT "PK_Agents" PRIMARY KEY ("Id"),
    CONSTRAINT "FK_Agents_Users_Id" FOREIGN KEY ("Id") REFERENCES "Users" ("Id") ON DELETE RESTRICT
);
2025-06-12 23:34:46.064 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "Buyers" (
    "Id" uuid NOT NULL,
    "PreferredLocation" text NOT NULL,
    "Budget" double precision NOT NULL,
    CONSTRAINT "PK_Buyers" PRIMARY KEY ("Id"),
    CONSTRAINT "FK_Buyers_Users_Id" FOREIGN KEY ("Id") REFERENCES "Users" ("Id") ON DELETE RESTRICT
);
2025-06-12 23:34:46.066 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "PropertyListings" (
    "Id" uuid NOT NULL,
    "Title" text NOT NULL,
    "Description" text NOT NULL,
    "Price" double precision NOT NULL,
    "Location" text NOT NULL,
    "Bedrooms" integer NOT NULL,
    "Bathrooms" integer NOT NULL,
    "SquareFeet" integer NOT NULL,
    "AgentId" uuid NOT NULL,
    "CreatedAt" timestamp with time zone NOT NULL,
    "IsDeleted" boolean NOT NULL,
    CONSTRAINT "PK_PropertyListings" PRIMARY KEY ("Id"),
    CONSTRAINT "FK_PropertyListings_Agents_AgentId" FOREIGN KEY ("AgentId") REFERENCES "Agents" ("Id") ON DELETE RESTRICT
);
2025-06-12 23:34:46.068 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "Inquiries" (
    "Id" uuid NOT NULL,
    "ListingId" uuid NOT NULL,
    "BuyerId" uuid NOT NULL,
    "Message" text NOT NULL,
    "CreatedAt" timestamp with time zone NOT NULL,
    CONSTRAINT "PK_Inquiries" PRIMARY KEY ("Id"),
    CONSTRAINT "FK_Inquiries_Buyers_BuyerId" FOREIGN KEY ("BuyerId") REFERENCES "Buyers" ("Id") ON DELETE RESTRICT,
    CONSTRAINT "FK_Inquiries_PropertyListings_ListingId" FOREIGN KEY ("ListingId") REFERENCES "PropertyListings" ("Id") ON DELETE RESTRICT
);
2025-06-12 23:34:46.071 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "PropertyImages" (
    "Id" uuid NOT NULL,
    "FileName" text NOT NULL,
    "FileUrl" text NOT NULL,
    "IsDeleted" boolean NOT NULL,
    "DeletedAt" timestamp with time zone,
    "PropertyListingId" uuid NOT NULL,
    CONSTRAINT "PK_PropertyImages" PRIMARY KEY ("Id"),
    CONSTRAINT "FK_PropertyImages_PropertyListings_PropertyListingId" FOREIGN KEY ("PropertyListingId") REFERENCES "PropertyListings" ("Id") ON DELETE RESTRICT
);
2025-06-12 23:34:46.074 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_Inquiries_BuyerId" ON "Inquiries" ("BuyerId");
2025-06-12 23:34:46.076 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_Inquiries_ListingId" ON "Inquiries" ("ListingId");
2025-06-12 23:34:46.077 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_PropertyImages_PropertyListingId" ON "PropertyImages" ("PropertyListingId");
2025-06-12 23:34:46.079 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_PropertyListings_AgentId" ON "PropertyListings" ("AgentId");
2025-06-12 23:34:46.083 +05:30 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "__EFMigrationsHistory" ("MigrationId", "ProductVersion")
VALUES ('20250612180343_init', '9.0.5');
2025-06-12 23:35:20.652 +05:30 [INF] User profile is available. Using '/Users/muckesh/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2025-06-12 23:35:20.770 +05:30 [INF] Now listening on: http://localhost:5009
2025-06-12 23:35:20.773 +05:30 [INF] Application started. Press Ctrl+C to shut down.
2025-06-12 23:35:20.773 +05:30 [INF] Hosting environment: Development
2025-06-12 23:35:20.773 +05:30 [INF] Content root path: /Users/muckesh/Muckesh/Presidio/Genspark-Training/Capstone-1/RealEstateApi
2025-06-12 23:39:24.790 +05:30 [INF] Application is shutting down...
2025-06-12 23:39:33.524 +05:30 [INF] User profile is available. Using '/Users/muckesh/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2025-06-12 23:39:33.627 +05:30 [INF] Now listening on: http://localhost:5009
2025-06-12 23:39:33.630 +05:30 [INF] Application started. Press Ctrl+C to shut down.
2025-06-12 23:39:33.631 +05:30 [INF] Hosting environment: Development
2025-06-12 23:39:33.631 +05:30 [INF] Content root path: /Users/muckesh/Muckesh/Presidio/Genspark-Training/Capstone-1/RealEstateApi
2025-06-12 23:39:57.058 +05:30 [INF] Application is shutting down...
2025-06-12 23:40:47.205 +05:30 [INF] User profile is available. Using '/Users/muckesh/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2025-06-12 23:40:47.315 +05:30 [INF] Now listening on: http://localhost:5009
2025-06-12 23:40:47.318 +05:30 [INF] Application started. Press Ctrl+C to shut down.
2025-06-12 23:40:47.319 +05:30 [INF] Hosting environment: Development
2025-06-12 23:40:47.319 +05:30 [INF] Content root path: /Users/muckesh/Muckesh/Presidio/Genspark-Training/Capstone-1/RealEstateApi
2025-06-12 23:42:50.004 +05:30 [INF] Application is shutting down...
2025-06-12 23:43:22.483 +05:30 [INF] User profile is available. Using '/Users/muckesh/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2025-06-12 23:43:22.603 +05:30 [INF] Now listening on: http://localhost:5009
2025-06-12 23:43:22.606 +05:30 [INF] Application started. Press Ctrl+C to shut down.
2025-06-12 23:43:22.607 +05:30 [INF] Hosting environment: Development
2025-06-12 23:43:22.607 +05:30 [INF] Content root path: /Users/muckesh/Muckesh/Presidio/Genspark-Training/Capstone-1/RealEstateApi
2025-06-12 23:44:02.365 +05:30 [INF] Application is shutting down...
2025-06-12 23:44:39.870 +05:30 [INF] User profile is available. Using '/Users/muckesh/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2025-06-12 23:44:39.996 +05:30 [INF] Now listening on: http://localhost:5009
2025-06-12 23:44:39.999 +05:30 [INF] Application started. Press Ctrl+C to shut down.
2025-06-12 23:44:40.000 +05:30 [INF] Hosting environment: Development
2025-06-12 23:44:40.000 +05:30 [INF] Content root path: /Users/muckesh/Muckesh/Presidio/Genspark-Training/Capstone-1/RealEstateApi
2025-06-12 23:51:44.197 +05:30 [INF] Application is shutting down...
2025-06-12 23:51:51.484 +05:30 [INF] User profile is available. Using '/Users/muckesh/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2025-06-12 23:51:51.594 +05:30 [INF] Now listening on: http://localhost:5009
2025-06-12 23:51:51.597 +05:30 [INF] Application started. Press Ctrl+C to shut down.
2025-06-12 23:51:51.597 +05:30 [INF] Hosting environment: Development
2025-06-12 23:51:51.597 +05:30 [INF] Content root path: /Users/muckesh/Muckesh/Presidio/Genspark-Training/Capstone-1/RealEstateApi
2025-06-12 23:51:55.629 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5009/swagger/index.html - null null
2025-06-12 23:51:55.730 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5009/swagger/index.html - 200 null text/html;charset=utf-8 104.3918ms
2025-06-12 23:51:55.905 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5009/swagger/v1/swagger.json - null null
2025-06-12 23:51:56.068 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5009/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 162.9743ms
2025-06-12 23:52:39.538 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5009/api/v1/User/create-admin - application/json 77
2025-06-12 23:52:39.569 +05:30 [WRN] Failed to determine the https port for redirect.
2025-06-12 23:52:39.627 +05:30 [INF] Executing endpoint 'RealEstateApi.Controllers.UserController.CreateAdmin (RealEstateApi)'
2025-06-12 23:52:39.658 +05:30 [INF] Route matched with {action = "CreateAdmin", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateAdmin(RealEstateApi.Models.DTOs.CreateUserDto) on controller RealEstateApi.Controllers.UserController (RealEstateApi).
2025-06-12 23:52:40.955 +05:30 [INF] Executed DbCommand (22ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."Email", u."IsDeleted", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role"
FROM "Users" AS u
WHERE NOT (u."IsDeleted")
2025-06-12 23:52:40.981 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."Email", u."IsDeleted", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role"
FROM "Users" AS u
WHERE NOT (u."IsDeleted")
2025-06-12 23:52:40.991 +05:30 [INF] Executing BadRequestObjectResult, writing value of type 'System.String'.
2025-06-12 23:52:40.998 +05:30 [INF] Executed action RealEstateApi.Controllers.UserController.CreateAdmin (RealEstateApi) in 1335.9734ms
2025-06-12 23:52:40.999 +05:30 [INF] Executed endpoint 'RealEstateApi.Controllers.UserController.CreateAdmin (RealEstateApi)'
2025-06-12 23:52:41.010 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5009/api/v1/User/create-admin - 400 null text/plain; charset=utf-8 1471.9829ms
2025-06-12 23:53:51.731 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5009/api/v1/User/create-admin - application/json 78
2025-06-12 23:53:51.736 +05:30 [INF] Executing endpoint 'RealEstateApi.Controllers.UserController.CreateAdmin (RealEstateApi)'
2025-06-12 23:53:51.736 +05:30 [INF] Route matched with {action = "CreateAdmin", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateAdmin(RealEstateApi.Models.DTOs.CreateUserDto) on controller RealEstateApi.Controllers.UserController (RealEstateApi).
2025-06-12 23:53:51.759 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."Email", u."IsDeleted", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role"
FROM "Users" AS u
WHERE NOT (u."IsDeleted")
2025-06-12 23:53:51.761 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."Email", u."IsDeleted", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role"
FROM "Users" AS u
WHERE NOT (u."IsDeleted")
2025-06-12 23:53:51.761 +05:30 [INF] Executing BadRequestObjectResult, writing value of type 'System.String'.
2025-06-12 23:53:51.761 +05:30 [INF] Executed action RealEstateApi.Controllers.UserController.CreateAdmin (RealEstateApi) in 24.7254ms
2025-06-12 23:53:51.761 +05:30 [INF] Executed endpoint 'RealEstateApi.Controllers.UserController.CreateAdmin (RealEstateApi)'
2025-06-12 23:53:51.762 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5009/api/v1/User/create-admin - 400 null text/plain; charset=utf-8 31.2881ms
2025-06-12 23:58:43.476 +05:30 [INF] Application is shutting down...
2025-06-12 23:58:50.571 +05:30 [INF] User profile is available. Using '/Users/muckesh/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2025-06-12 23:58:50.686 +05:30 [INF] Now listening on: http://localhost:5009
2025-06-12 23:58:50.689 +05:30 [INF] Application started. Press Ctrl+C to shut down.
2025-06-12 23:58:50.689 +05:30 [INF] Hosting environment: Development
2025-06-12 23:58:50.689 +05:30 [INF] Content root path: /Users/muckesh/Muckesh/Presidio/Genspark-Training/Capstone-1/RealEstateApi
2025-06-12 23:58:50.833 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5009/swagger/index.html - null null
2025-06-12 23:58:50.911 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5009/swagger/index.html - 200 null text/html;charset=utf-8 78.7704ms
2025-06-12 23:58:51.086 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5009/swagger/v1/swagger.json - null null
2025-06-12 23:58:51.245 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5009/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 161.2202ms
2025-06-12 23:59:25.886 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5009/api/v1/User/create-admin - application/json 79
2025-06-12 23:59:25.915 +05:30 [WRN] Failed to determine the https port for redirect.
2025-06-12 23:59:25.962 +05:30 [INF] Executing endpoint 'RealEstateApi.Controllers.UserController.CreateAdmin (RealEstateApi)'
2025-06-12 23:59:25.986 +05:30 [INF] Route matched with {action = "CreateAdmin", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateAdmin(RealEstateApi.Models.DTOs.CreateUserDto) on controller RealEstateApi.Controllers.UserController (RealEstateApi).
2025-06-12 23:59:27.219 +05:30 [INF] Executed DbCommand (22ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."Email", u."IsDeleted", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role"
FROM "Users" AS u
WHERE NOT (u."IsDeleted")
2025-06-12 23:59:27.247 +05:30 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."CreatedAt", u."Email", u."IsDeleted", u."Name", u."PasswordHash", u."RefreshToken", u."RefreshTokenExpiryTime", u."Role"
FROM "Users" AS u
WHERE NOT (u."IsDeleted")
2025-06-12 23:59:27.256 +05:30 [INF] Executing BadRequestObjectResult, writing value of type 'System.String'.
2025-06-12 23:59:27.262 +05:30 [INF] Executed action RealEstateApi.Controllers.UserController.CreateAdmin (RealEstateApi) in 1273.2991ms
2025-06-12 23:59:27.262 +05:30 [INF] Executed endpoint 'RealEstateApi.Controllers.UserController.CreateAdmin (RealEstateApi)'
2025-06-12 23:59:27.271 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5009/api/v1/User/create-admin - 400 null text/plain; charset=utf-8 1385.7722ms
