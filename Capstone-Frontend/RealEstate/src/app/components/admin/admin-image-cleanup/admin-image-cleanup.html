<div class="card">
  <div class="card-header">
    <h5 class="card-title mb-0">Image Cleanup</h5>
    <p class="card-subtitle text-muted">Remove deleted images older than 30 days</p>
  </div>
  
  <div class="card-body">
    <p class="card-text">This will permanently delete all images marked as deleted more than 30 days ago.</p>
    
    @if (cleanedCount) {
      <div *ngIf="resultMessage" class="alert alert-success mt-3">
      {{ resultMessage }}. - Images Deleted : {{cleanedCount}}
    </div>
    }@else {
      <div *ngIf="resultMessage" class="alert alert-success mt-3">
      No images available to cleanup
    </div>
    }
    
    <div *ngIf="errorMessage" class="alert alert-danger mt-3">
      {{ errorMessage }}
    </div>
  </div>
  
  <div class="card-footer">
    <button 
      class="btn btn-danger"
      (click)="runCleanup()"
      [disabled]="isCleaning">
      
      <span *ngIf="!isCleaning">Run Cleanup</span>
      <span *ngIf="isCleaning">
        <span class="spinner-border spinner-border-sm" role="status" aria-hidden="true"></span>
        Cleaning...
      </span>
    </button>
  </div>
</div>