2025-06-18 10:16:17.615 +05:30 [INF] User profile is available. Using '/Users/muckesh/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2025-06-18 10:16:17.835 +05:30 [WRN] Overriding address(es) 'http://localhost:5009'. Binding to endpoints defined via IConfiguration and/or UseKestrel() instead.
2025-06-18 10:16:17.848 +05:30 [INF] Now listening on: http://[::]:5009
2025-06-18 10:16:17.848 +05:30 [INF] Application started. Press Ctrl+C to shut down.
2025-06-18 10:16:17.848 +05:30 [INF] Hosting environment: Development
2025-06-18 10:16:17.848 +05:30 [INF] Content root path: /Users/muckesh/Muckesh/Presidio/Genspark-Training/Capstone-1/RealEstateApi
2025-06-18 10:17:09.542 +05:30 [INF] User profile is available. Using '/Users/muckesh/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2025-06-18 10:17:09.673 +05:30 [WRN] Overriding address(es) 'http://localhost:5009'. Binding to endpoints defined via IConfiguration and/or UseKestrel() instead.
2025-06-18 10:17:09.686 +05:30 [INF] Now listening on: http://[::]:5011
2025-06-18 10:17:09.686 +05:30 [INF] Application started. Press Ctrl+C to shut down.
2025-06-18 10:17:09.687 +05:30 [INF] Hosting environment: Development
2025-06-18 10:17:09.687 +05:30 [INF] Content root path: /Users/muckesh/Muckesh/Presidio/Genspark-Training/Capstone-1/RealEstateApi
2025-06-18 11:10:21.899 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5011/swagger/index.html - null null
2025-06-18 11:10:22.025 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5011/swagger/index.html - 200 null text/html;charset=utf-8 129.9029ms
2025-06-18 11:10:22.240 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5011/swagger/v1/swagger.json - null null
2025-06-18 11:10:22.409 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5011/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 170.0215ms
2025-06-18 11:10:39.746 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5011/api/v1/PropertyListings - null null
2025-06-18 11:10:39.779 +05:30 [WRN] Failed to determine the https port for redirect.
2025-06-18 11:10:39.855 +05:30 [INF] Executing endpoint 'RealEstateApi.Controllers.PropertyListingsController.SearchListings (RealEstateApi)'
2025-06-18 11:10:39.886 +05:30 [INF] Route matched with {action = "SearchListings", controller = "PropertyListings"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SearchListings(RealEstateApi.Models.DTOs.PropertyListingQueryParametersDto) on controller RealEstateApi.Controllers.PropertyListingsController (RealEstateApi).
2025-06-18 11:10:41.186 +05:30 [WRN] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2025-06-18 11:10:41.521 +05:30 [INF] Executed DbCommand (31ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."AgentId", p."Bathrooms", p."Bedrooms", p."CreatedAt", p."Description", p."IsDeleted", p."Location", p."Price", p."SquareFeet", p."Title", a."Id", a."AgencyName", a."LicenseNumber", a."Phone", p1."Id", p1."DeletedAt", p1."FileName", p1."FileUrl", p1."IsDeleted", p1."PropertyListingId", i."Id", i."BuyerId", i."CreatedAt", i."ListingId", i."Message"
FROM "PropertyListings" AS p
INNER JOIN "Agents" AS a ON p."AgentId" = a."Id"
LEFT JOIN (
    SELECT p0."Id", p0."DeletedAt", p0."FileName", p0."FileUrl", p0."IsDeleted", p0."PropertyListingId"
    FROM "PropertyImages" AS p0
    WHERE NOT (p0."IsDeleted")
) AS p1 ON p."Id" = p1."PropertyListingId"
LEFT JOIN "Inquiries" AS i ON p."Id" = i."ListingId"
WHERE NOT (p."IsDeleted")
ORDER BY p."Id", a."Id", p1."Id"
2025-06-18 11:10:41.725 +05:30 [INF] Executing OkObjectResult, writing value of type 'RealEstateApi.Models.DTOs.PagedResult`1[[RealEstateApi.Models.PropertyListing, RealEstateApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-18 11:10:41.809 +05:30 [INF] Executed action RealEstateApi.Controllers.PropertyListingsController.SearchListings (RealEstateApi) in 1919.5545ms
2025-06-18 11:10:41.810 +05:30 [INF] Executed endpoint 'RealEstateApi.Controllers.PropertyListingsController.SearchListings (RealEstateApi)'
2025-06-18 11:10:41.821 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5011/api/v1/PropertyListings - 200 null application/json; charset=utf-8 2075.1711ms
2025-06-18 11:12:05.004 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5011/api/v1/PropertyListings/01977d24-66b8-72f1-8aaf-dba04f1e049a - null null
2025-06-18 11:12:05.010 +05:30 [INF] Executing endpoint 'RealEstateApi.Controllers.PropertyListingsController.GetListingById (RealEstateApi)'
2025-06-18 11:12:05.017 +05:30 [INF] Route matched with {action = "GetListingById", controller = "PropertyListings"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListingById(System.Guid) on controller RealEstateApi.Controllers.PropertyListingsController (RealEstateApi).
2025-06-18 11:12:05.061 +05:30 [WRN] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2025-06-18 11:12:05.114 +05:30 [INF] Executed DbCommand (14ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."AgentId", s."Bathrooms", s."Bedrooms", s."CreatedAt", s."Description", s."IsDeleted", s."Location", s."Price", s."SquareFeet", s."Title", s."Id0", s."AgencyName", s."LicenseNumber", s."Phone", p1."Id", p1."DeletedAt", p1."FileName", p1."FileUrl", p1."IsDeleted", p1."PropertyListingId", i."Id", i."BuyerId", i."CreatedAt", i."ListingId", i."Message"
FROM (
    SELECT p."Id", p."AgentId", p."Bathrooms", p."Bedrooms", p."CreatedAt", p."Description", p."IsDeleted", p."Location", p."Price", p."SquareFeet", p."Title", a."Id" AS "Id0", a."AgencyName", a."LicenseNumber", a."Phone"
    FROM "PropertyListings" AS p
    INNER JOIN "Agents" AS a ON p."AgentId" = a."Id"
    WHERE NOT (p."IsDeleted") AND p."Id" = @__id_0
    LIMIT 1
) AS s
LEFT JOIN (
    SELECT p0."Id", p0."DeletedAt", p0."FileName", p0."FileUrl", p0."IsDeleted", p0."PropertyListingId"
    FROM "PropertyImages" AS p0
    WHERE NOT (p0."IsDeleted")
) AS p1 ON s."Id" = p1."PropertyListingId"
LEFT JOIN "Inquiries" AS i ON s."Id" = i."ListingId"
ORDER BY s."Id", s."Id0", p1."Id"
2025-06-18 11:12:05.119 +05:30 [INF] Executing OkObjectResult, writing value of type 'RealEstateApi.Models.PropertyListing'.
2025-06-18 11:12:05.120 +05:30 [INF] Executed action RealEstateApi.Controllers.PropertyListingsController.GetListingById (RealEstateApi) in 102.2995ms
2025-06-18 11:12:05.120 +05:30 [INF] Executed endpoint 'RealEstateApi.Controllers.PropertyListingsController.GetListingById (RealEstateApi)'
2025-06-18 11:12:05.120 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5011/api/v1/PropertyListings/01977d24-66b8-72f1-8aaf-dba04f1e049a - 200 null application/json; charset=utf-8 116.5081ms
2025-06-18 11:24:32.095 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5011/api/v1/PropertyListings/images/upload - multipart/form-data; boundary=----WebKitFormBoundarymPt9AwZBDvOUgU1r 920429
2025-06-18 11:24:32.145 +05:30 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '14/06/2025 9:24:45 AM', Current time (UTC): '18/06/2025 5:54:32 AM'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-06-18 11:24:32.178 +05:30 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '14/06/2025 9:24:45 AM', Current time (UTC): '18/06/2025 5:54:32 AM'.
2025-06-18 11:24:32.186 +05:30 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Agent)
2025-06-18 11:24:32.190 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2025-06-18 11:24:32.190 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5011/api/v1/PropertyListings/images/upload - 401 0 null 95.2805ms
2025-06-18 11:25:40.633 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5011/api/v1/PropertyListings/images/upload - multipart/form-data; boundary=----WebKitFormBoundaryBE5a9InnambZ08pS 920429
2025-06-18 11:25:40.654 +05:30 [INF] CORS policy execution failed.
2025-06-18 11:25:40.654 +05:30 [INF] Request origin http://localhost:5011 does not have permission to access the resource.
2025-06-18 11:25:40.654 +05:30 [INF] Executing endpoint 'RealEstateApi.Controllers.PropertyListingsController.UploadImage (RealEstateApi)'
2025-06-18 11:25:40.659 +05:30 [INF] Route matched with {action = "UploadImage", controller = "PropertyListings"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UploadImage(RealEstateApi.Models.DTOs.AddPropertyImageDto) on controller RealEstateApi.Controllers.PropertyListingsController (RealEstateApi).
2025-06-18 11:25:40.783 +05:30 [INF] Executed DbCommand (6ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."AgentId", s."Bathrooms", s."Bedrooms", s."CreatedAt", s."Description", s."IsDeleted", s."Location", s."Price", s."SquareFeet", s."Title", s."Id0", s."AgencyName", s."LicenseNumber", s."Phone", p1."Id", p1."DeletedAt", p1."FileName", p1."FileUrl", p1."IsDeleted", p1."PropertyListingId", i."Id", i."BuyerId", i."CreatedAt", i."ListingId", i."Message"
FROM (
    SELECT p."Id", p."AgentId", p."Bathrooms", p."Bedrooms", p."CreatedAt", p."Description", p."IsDeleted", p."Location", p."Price", p."SquareFeet", p."Title", a."Id" AS "Id0", a."AgencyName", a."LicenseNumber", a."Phone"
    FROM "PropertyListings" AS p
    INNER JOIN "Agents" AS a ON p."AgentId" = a."Id"
    WHERE NOT (p."IsDeleted") AND p."Id" = @__id_0
    LIMIT 1
) AS s
LEFT JOIN (
    SELECT p0."Id", p0."DeletedAt", p0."FileName", p0."FileUrl", p0."IsDeleted", p0."PropertyListingId"
    FROM "PropertyImages" AS p0
    WHERE NOT (p0."IsDeleted")
) AS p1 ON s."Id" = p1."PropertyListingId"
LEFT JOIN "Inquiries" AS i ON s."Id" = i."ListingId"
ORDER BY s."Id", s."Id0", p1."Id"
2025-06-18 11:25:40.940 +05:30 [INF] Executed DbCommand (19ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime), @p2='?', @p3='?', @p4='?' (DbType = Boolean), @p5='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "PropertyImages" ("Id", "DeletedAt", "FileName", "FileUrl", "IsDeleted", "PropertyListingId")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2025-06-18 11:25:40.994 +05:30 [INF] Executed DbCommand (7ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?', @p3='?', @p4='?', @p5='?', @p6='?' (DbType = DateTime), @p7='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AuditLogs" ("Id", "ActionType", "NewValues", "OldValues", "PrimaryKey", "TableName", "Timestamp", "UserId")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
2025-06-18 11:25:40.995 +05:30 [INF] Executing OkObjectResult, writing value of type 'RealEstateApi.Models.PropertyImage'.
2025-06-18 11:25:40.995 +05:30 [INF] Executed action RealEstateApi.Controllers.PropertyListingsController.UploadImage (RealEstateApi) in 336.1796ms
2025-06-18 11:25:40.995 +05:30 [INF] Executed endpoint 'RealEstateApi.Controllers.PropertyListingsController.UploadImage (RealEstateApi)'
2025-06-18 11:25:40.997 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5011/api/v1/PropertyListings/images/upload - 200 null application/json; charset=utf-8 364.2313ms
2025-06-18 11:25:48.953 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5011/api/v1/PropertyListings/images/upload - multipart/form-data; boundary=----WebKitFormBoundaryGVA8JVdGbwlaqCgz 920429
2025-06-18 11:25:48.962 +05:30 [INF] CORS policy execution failed.
2025-06-18 11:25:48.962 +05:30 [INF] Request origin http://localhost:5011 does not have permission to access the resource.
2025-06-18 11:25:48.962 +05:30 [INF] Executing endpoint 'RealEstateApi.Controllers.PropertyListingsController.UploadImage (RealEstateApi)'
2025-06-18 11:25:48.963 +05:30 [INF] Route matched with {action = "UploadImage", controller = "PropertyListings"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UploadImage(RealEstateApi.Models.DTOs.AddPropertyImageDto) on controller RealEstateApi.Controllers.PropertyListingsController (RealEstateApi).
2025-06-18 11:25:48.976 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."AgentId", s."Bathrooms", s."Bedrooms", s."CreatedAt", s."Description", s."IsDeleted", s."Location", s."Price", s."SquareFeet", s."Title", s."Id0", s."AgencyName", s."LicenseNumber", s."Phone", p1."Id", p1."DeletedAt", p1."FileName", p1."FileUrl", p1."IsDeleted", p1."PropertyListingId", i."Id", i."BuyerId", i."CreatedAt", i."ListingId", i."Message"
FROM (
    SELECT p."Id", p."AgentId", p."Bathrooms", p."Bedrooms", p."CreatedAt", p."Description", p."IsDeleted", p."Location", p."Price", p."SquareFeet", p."Title", a."Id" AS "Id0", a."AgencyName", a."LicenseNumber", a."Phone"
    FROM "PropertyListings" AS p
    INNER JOIN "Agents" AS a ON p."AgentId" = a."Id"
    WHERE NOT (p."IsDeleted") AND p."Id" = @__id_0
    LIMIT 1
) AS s
LEFT JOIN (
    SELECT p0."Id", p0."DeletedAt", p0."FileName", p0."FileUrl", p0."IsDeleted", p0."PropertyListingId"
    FROM "PropertyImages" AS p0
    WHERE NOT (p0."IsDeleted")
) AS p1 ON s."Id" = p1."PropertyListingId"
LEFT JOIN "Inquiries" AS i ON s."Id" = i."ListingId"
ORDER BY s."Id", s."Id0", p1."Id"
2025-06-18 11:25:48.981 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime), @p2='?', @p3='?', @p4='?' (DbType = Boolean), @p5='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "PropertyImages" ("Id", "DeletedAt", "FileName", "FileUrl", "IsDeleted", "PropertyListingId")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2025-06-18 11:25:48.983 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?', @p3='?', @p4='?', @p5='?', @p6='?' (DbType = DateTime), @p7='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AuditLogs" ("Id", "ActionType", "NewValues", "OldValues", "PrimaryKey", "TableName", "Timestamp", "UserId")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
2025-06-18 11:25:48.983 +05:30 [INF] Executing OkObjectResult, writing value of type 'RealEstateApi.Models.PropertyImage'.
2025-06-18 11:25:48.983 +05:30 [INF] Executed action RealEstateApi.Controllers.PropertyListingsController.UploadImage (RealEstateApi) in 20.4519ms
2025-06-18 11:25:48.983 +05:30 [INF] Executed endpoint 'RealEstateApi.Controllers.PropertyListingsController.UploadImage (RealEstateApi)'
2025-06-18 11:25:48.985 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5011/api/v1/PropertyListings/images/upload - 200 null application/json; charset=utf-8 32.1962ms
2025-06-18 11:25:50.371 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5011/api/v1/PropertyListings/images/upload - multipart/form-data; boundary=----WebKitFormBoundaryoQIkzT4dA2Nhga4v 920429
2025-06-18 11:25:50.373 +05:30 [INF] CORS policy execution failed.
2025-06-18 11:25:50.373 +05:30 [INF] Request origin http://localhost:5011 does not have permission to access the resource.
2025-06-18 11:25:50.373 +05:30 [INF] Executing endpoint 'RealEstateApi.Controllers.PropertyListingsController.UploadImage (RealEstateApi)'
2025-06-18 11:25:50.374 +05:30 [INF] Route matched with {action = "UploadImage", controller = "PropertyListings"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UploadImage(RealEstateApi.Models.DTOs.AddPropertyImageDto) on controller RealEstateApi.Controllers.PropertyListingsController (RealEstateApi).
2025-06-18 11:25:50.401 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."AgentId", s."Bathrooms", s."Bedrooms", s."CreatedAt", s."Description", s."IsDeleted", s."Location", s."Price", s."SquareFeet", s."Title", s."Id0", s."AgencyName", s."LicenseNumber", s."Phone", p1."Id", p1."DeletedAt", p1."FileName", p1."FileUrl", p1."IsDeleted", p1."PropertyListingId", i."Id", i."BuyerId", i."CreatedAt", i."ListingId", i."Message"
FROM (
    SELECT p."Id", p."AgentId", p."Bathrooms", p."Bedrooms", p."CreatedAt", p."Description", p."IsDeleted", p."Location", p."Price", p."SquareFeet", p."Title", a."Id" AS "Id0", a."AgencyName", a."LicenseNumber", a."Phone"
    FROM "PropertyListings" AS p
    INNER JOIN "Agents" AS a ON p."AgentId" = a."Id"
    WHERE NOT (p."IsDeleted") AND p."Id" = @__id_0
    LIMIT 1
) AS s
LEFT JOIN (
    SELECT p0."Id", p0."DeletedAt", p0."FileName", p0."FileUrl", p0."IsDeleted", p0."PropertyListingId"
    FROM "PropertyImages" AS p0
    WHERE NOT (p0."IsDeleted")
) AS p1 ON s."Id" = p1."PropertyListingId"
LEFT JOIN "Inquiries" AS i ON s."Id" = i."ListingId"
ORDER BY s."Id", s."Id0", p1."Id"
2025-06-18 11:25:50.405 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime), @p2='?', @p3='?', @p4='?' (DbType = Boolean), @p5='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "PropertyImages" ("Id", "DeletedAt", "FileName", "FileUrl", "IsDeleted", "PropertyListingId")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2025-06-18 11:25:50.407 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?', @p3='?', @p4='?', @p5='?', @p6='?' (DbType = DateTime), @p7='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AuditLogs" ("Id", "ActionType", "NewValues", "OldValues", "PrimaryKey", "TableName", "Timestamp", "UserId")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
2025-06-18 11:25:50.407 +05:30 [INF] Executing OkObjectResult, writing value of type 'RealEstateApi.Models.PropertyImage'.
2025-06-18 11:25:50.408 +05:30 [INF] Executed action RealEstateApi.Controllers.PropertyListingsController.UploadImage (RealEstateApi) in 33.932ms
2025-06-18 11:25:50.408 +05:30 [INF] Executed endpoint 'RealEstateApi.Controllers.PropertyListingsController.UploadImage (RealEstateApi)'
2025-06-18 11:25:50.409 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5011/api/v1/PropertyListings/images/upload - 200 null application/json; charset=utf-8 37.9766ms
2025-06-18 11:26:10.110 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5011/api/v1/PropertyListings/images/upload - multipart/form-data; boundary=----WebKitFormBoundarytvBVtVQcoDfi3ntq 920429
2025-06-18 11:26:10.112 +05:30 [INF] CORS policy execution failed.
2025-06-18 11:26:10.112 +05:30 [INF] Request origin http://localhost:5011 does not have permission to access the resource.
2025-06-18 11:26:10.113 +05:30 [INF] Executing endpoint 'RealEstateApi.Controllers.PropertyListingsController.UploadImage (RealEstateApi)'
2025-06-18 11:26:10.113 +05:30 [INF] Route matched with {action = "UploadImage", controller = "PropertyListings"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UploadImage(RealEstateApi.Models.DTOs.AddPropertyImageDto) on controller RealEstateApi.Controllers.PropertyListingsController (RealEstateApi).
2025-06-18 11:26:10.121 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."AgentId", s."Bathrooms", s."Bedrooms", s."CreatedAt", s."Description", s."IsDeleted", s."Location", s."Price", s."SquareFeet", s."Title", s."Id0", s."AgencyName", s."LicenseNumber", s."Phone", p1."Id", p1."DeletedAt", p1."FileName", p1."FileUrl", p1."IsDeleted", p1."PropertyListingId", i."Id", i."BuyerId", i."CreatedAt", i."ListingId", i."Message"
FROM (
    SELECT p."Id", p."AgentId", p."Bathrooms", p."Bedrooms", p."CreatedAt", p."Description", p."IsDeleted", p."Location", p."Price", p."SquareFeet", p."Title", a."Id" AS "Id0", a."AgencyName", a."LicenseNumber", a."Phone"
    FROM "PropertyListings" AS p
    INNER JOIN "Agents" AS a ON p."AgentId" = a."Id"
    WHERE NOT (p."IsDeleted") AND p."Id" = @__id_0
    LIMIT 1
) AS s
LEFT JOIN (
    SELECT p0."Id", p0."DeletedAt", p0."FileName", p0."FileUrl", p0."IsDeleted", p0."PropertyListingId"
    FROM "PropertyImages" AS p0
    WHERE NOT (p0."IsDeleted")
) AS p1 ON s."Id" = p1."PropertyListingId"
LEFT JOIN "Inquiries" AS i ON s."Id" = i."ListingId"
ORDER BY s."Id", s."Id0", p1."Id"
2025-06-18 11:26:10.125 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime), @p2='?', @p3='?', @p4='?' (DbType = Boolean), @p5='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "PropertyImages" ("Id", "DeletedAt", "FileName", "FileUrl", "IsDeleted", "PropertyListingId")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2025-06-18 11:26:10.127 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?', @p3='?', @p4='?', @p5='?', @p6='?' (DbType = DateTime), @p7='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AuditLogs" ("Id", "ActionType", "NewValues", "OldValues", "PrimaryKey", "TableName", "Timestamp", "UserId")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
2025-06-18 11:26:10.127 +05:30 [INF] Executing OkObjectResult, writing value of type 'RealEstateApi.Models.PropertyImage'.
2025-06-18 11:26:10.128 +05:30 [INF] Executed action RealEstateApi.Controllers.PropertyListingsController.UploadImage (RealEstateApi) in 14.3946ms
2025-06-18 11:26:10.128 +05:30 [INF] Executed endpoint 'RealEstateApi.Controllers.PropertyListingsController.UploadImage (RealEstateApi)'
2025-06-18 11:26:10.129 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5011/api/v1/PropertyListings/images/upload - 200 null application/json; charset=utf-8 19.3527ms
2025-06-18 11:26:44.875 +05:30 [INF] Request starting HTTP/1.1 DELETE http://localhost:5011/api/v1/PropertyImages/0197819b-f10b-714e-9884-64f6a08d5b8b - null null
2025-06-18 11:26:44.875 +05:30 [INF] CORS policy execution failed.
2025-06-18 11:26:44.876 +05:30 [INF] Request origin http://localhost:5011 does not have permission to access the resource.
2025-06-18 11:26:44.876 +05:30 [INF] Executing endpoint 'RealEstateApi.Controllers.PropertyImagesController.SoftDeletePropertyImage (RealEstateApi)'
2025-06-18 11:26:44.880 +05:30 [INF] Route matched with {action = "SoftDeletePropertyImage", controller = "PropertyImages"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SoftDeletePropertyImage(System.Guid) on controller RealEstateApi.Controllers.PropertyImagesController (RealEstateApi).
2025-06-18 11:26:44.913 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."DeletedAt", p."FileName", p."FileUrl", p."IsDeleted", p."PropertyListingId", p0."Id", p0."AgentId", p0."Bathrooms", p0."Bedrooms", p0."CreatedAt", p0."Description", p0."IsDeleted", p0."Location", p0."Price", p0."SquareFeet", p0."Title"
FROM "PropertyImages" AS p
INNER JOIN "PropertyListings" AS p0 ON p."PropertyListingId" = p0."Id"
WHERE NOT (p."IsDeleted") AND p."Id" = @__id_0
LIMIT 2
2025-06-18 11:26:44.916 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."AgentId", s."Bathrooms", s."Bedrooms", s."CreatedAt", s."Description", s."IsDeleted", s."Location", s."Price", s."SquareFeet", s."Title", s."Id0", s."AgencyName", s."LicenseNumber", s."Phone", p1."Id", p1."DeletedAt", p1."FileName", p1."FileUrl", p1."IsDeleted", p1."PropertyListingId", i."Id", i."BuyerId", i."CreatedAt", i."ListingId", i."Message"
FROM (
    SELECT p."Id", p."AgentId", p."Bathrooms", p."Bedrooms", p."CreatedAt", p."Description", p."IsDeleted", p."Location", p."Price", p."SquareFeet", p."Title", a."Id" AS "Id0", a."AgencyName", a."LicenseNumber", a."Phone"
    FROM "PropertyListings" AS p
    INNER JOIN "Agents" AS a ON p."AgentId" = a."Id"
    WHERE NOT (p."IsDeleted") AND p."Id" = @__id_0
    LIMIT 1
) AS s
LEFT JOIN (
    SELECT p0."Id", p0."DeletedAt", p0."FileName", p0."FileUrl", p0."IsDeleted", p0."PropertyListingId"
    FROM "PropertyImages" AS p0
    WHERE NOT (p0."IsDeleted")
) AS p1 ON s."Id" = p1."PropertyListingId"
LEFT JOIN "Inquiries" AS i ON s."Id" = i."ListingId"
ORDER BY s."Id", s."Id0", p1."Id"
2025-06-18 11:26:44.919 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."DeletedAt", p."FileName", p."FileUrl", p."IsDeleted", p."PropertyListingId", p0."Id", p0."AgentId", p0."Bathrooms", p0."Bedrooms", p0."CreatedAt", p0."Description", p0."IsDeleted", p0."Location", p0."Price", p0."SquareFeet", p0."Title"
FROM "PropertyImages" AS p
INNER JOIN "PropertyListings" AS p0 ON p."PropertyListingId" = p0."Id"
WHERE NOT (p."IsDeleted") AND p."Id" = @__id_0
LIMIT 2
2025-06-18 11:26:44.923 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."DeletedAt", p."FileName", p."FileUrl", p."IsDeleted", p."PropertyListingId", p0."Id", p0."AgentId", p0."Bathrooms", p0."Bedrooms", p0."CreatedAt", p0."Description", p0."IsDeleted", p0."Location", p0."Price", p0."SquareFeet", p0."Title"
FROM "PropertyImages" AS p
INNER JOIN "PropertyListings" AS p0 ON p."PropertyListingId" = p0."Id"
WHERE NOT (p."IsDeleted") AND p."Id" = @__id_0
LIMIT 2
2025-06-18 11:26:44.938 +05:30 [INF] Executed DbCommand (6ms) [Parameters=[@p2='?' (DbType = Guid), @p0='?' (DbType = DateTime), @p1='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
UPDATE "PropertyImages" SET "DeletedAt" = @p0, "IsDeleted" = @p1
WHERE "Id" = @p2;
2025-06-18 11:26:44.941 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?', @p3='?', @p4='?', @p5='?', @p6='?' (DbType = DateTime), @p7='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AuditLogs" ("Id", "ActionType", "NewValues", "OldValues", "PrimaryKey", "TableName", "Timestamp", "UserId")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
2025-06-18 11:26:44.942 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2025-06-18 11:26:44.942 +05:30 [INF] Executed action RealEstateApi.Controllers.PropertyImagesController.SoftDeletePropertyImage (RealEstateApi) in 62.1893ms
2025-06-18 11:26:44.942 +05:30 [INF] Executed endpoint 'RealEstateApi.Controllers.PropertyImagesController.SoftDeletePropertyImage (RealEstateApi)'
2025-06-18 11:26:44.942 +05:30 [INF] Request finished HTTP/1.1 DELETE http://localhost:5011/api/v1/PropertyImages/0197819b-f10b-714e-9884-64f6a08d5b8b - 200 null text/plain; charset=utf-8 67.7678ms
2025-06-18 11:28:27.572 +05:30 [INF] Request starting HTTP/1.1 DELETE http://localhost:5011/api/v1/PropertyImages/admin/images/cleanup - null null
2025-06-18 11:28:27.574 +05:30 [INF] Executing endpoint 'RealEstateApi.Controllers.PropertyImagesController.CleanupOldDeletedImages (RealEstateApi)'
2025-06-18 11:28:27.580 +05:30 [INF] Route matched with {action = "CleanupOldDeletedImages", controller = "PropertyImages"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CleanupOldDeletedImages() on controller RealEstateApi.Controllers.PropertyImagesController (RealEstateApi).
2025-06-18 11:28:27.600 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."DeletedAt", p."FileName", p."FileUrl", p."IsDeleted", p."PropertyListingId"
FROM "PropertyImages" AS p
2025-06-18 11:28:27.607 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2025-06-18 11:28:27.607 +05:30 [INF] Executed action RealEstateApi.Controllers.PropertyImagesController.CleanupOldDeletedImages (RealEstateApi) in 27.4872ms
2025-06-18 11:28:27.607 +05:30 [INF] Executed endpoint 'RealEstateApi.Controllers.PropertyImagesController.CleanupOldDeletedImages (RealEstateApi)'
2025-06-18 11:28:27.607 +05:30 [INF] Request finished HTTP/1.1 DELETE http://localhost:5011/api/v1/PropertyImages/admin/images/cleanup - 200 null text/plain; charset=utf-8 35.2773ms
2025-06-18 11:28:52.097 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5011/api/v1/PropertyListings/images/upload - multipart/form-data; boundary=----WebKitFormBoundary9TXGtGn3keYMoXd2 920429
2025-06-18 11:28:52.098 +05:30 [INF] CORS policy execution failed.
2025-06-18 11:28:52.098 +05:30 [INF] Request origin http://localhost:5011 does not have permission to access the resource.
2025-06-18 11:28:52.098 +05:30 [INF] Executing endpoint 'RealEstateApi.Controllers.PropertyListingsController.UploadImage (RealEstateApi)'
2025-06-18 11:28:52.098 +05:30 [INF] Route matched with {action = "UploadImage", controller = "PropertyListings"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UploadImage(RealEstateApi.Models.DTOs.AddPropertyImageDto) on controller RealEstateApi.Controllers.PropertyListingsController (RealEstateApi).
2025-06-18 11:28:52.113 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."AgentId", s."Bathrooms", s."Bedrooms", s."CreatedAt", s."Description", s."IsDeleted", s."Location", s."Price", s."SquareFeet", s."Title", s."Id0", s."AgencyName", s."LicenseNumber", s."Phone", p1."Id", p1."DeletedAt", p1."FileName", p1."FileUrl", p1."IsDeleted", p1."PropertyListingId", i."Id", i."BuyerId", i."CreatedAt", i."ListingId", i."Message"
FROM (
    SELECT p."Id", p."AgentId", p."Bathrooms", p."Bedrooms", p."CreatedAt", p."Description", p."IsDeleted", p."Location", p."Price", p."SquareFeet", p."Title", a."Id" AS "Id0", a."AgencyName", a."LicenseNumber", a."Phone"
    FROM "PropertyListings" AS p
    INNER JOIN "Agents" AS a ON p."AgentId" = a."Id"
    WHERE NOT (p."IsDeleted") AND p."Id" = @__id_0
    LIMIT 1
) AS s
LEFT JOIN (
    SELECT p0."Id", p0."DeletedAt", p0."FileName", p0."FileUrl", p0."IsDeleted", p0."PropertyListingId"
    FROM "PropertyImages" AS p0
    WHERE NOT (p0."IsDeleted")
) AS p1 ON s."Id" = p1."PropertyListingId"
LEFT JOIN "Inquiries" AS i ON s."Id" = i."ListingId"
ORDER BY s."Id", s."Id0", p1."Id"
2025-06-18 11:28:52.118 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime), @p2='?', @p3='?', @p4='?' (DbType = Boolean), @p5='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "PropertyImages" ("Id", "DeletedAt", "FileName", "FileUrl", "IsDeleted", "PropertyListingId")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2025-06-18 11:28:52.119 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?', @p3='?', @p4='?', @p5='?', @p6='?' (DbType = DateTime), @p7='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AuditLogs" ("Id", "ActionType", "NewValues", "OldValues", "PrimaryKey", "TableName", "Timestamp", "UserId")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
2025-06-18 11:28:52.120 +05:30 [INF] Executing OkObjectResult, writing value of type 'RealEstateApi.Models.PropertyImage'.
2025-06-18 11:28:52.120 +05:30 [INF] Executed action RealEstateApi.Controllers.PropertyListingsController.UploadImage (RealEstateApi) in 21.6624ms
2025-06-18 11:28:52.120 +05:30 [INF] Executed endpoint 'RealEstateApi.Controllers.PropertyListingsController.UploadImage (RealEstateApi)'
2025-06-18 11:28:52.122 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5011/api/v1/PropertyListings/images/upload - 200 null application/json; charset=utf-8 24.5138ms
2025-06-18 11:28:56.851 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5011/api/v1/PropertyListings/images/upload - multipart/form-data; boundary=----WebKitFormBoundary1k5FrA1MtvIHxWmB 920429
2025-06-18 11:28:56.852 +05:30 [INF] CORS policy execution failed.
2025-06-18 11:28:56.853 +05:30 [INF] Request origin http://localhost:5011 does not have permission to access the resource.
2025-06-18 11:28:56.853 +05:30 [INF] Executing endpoint 'RealEstateApi.Controllers.PropertyListingsController.UploadImage (RealEstateApi)'
2025-06-18 11:28:56.853 +05:30 [INF] Route matched with {action = "UploadImage", controller = "PropertyListings"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UploadImage(RealEstateApi.Models.DTOs.AddPropertyImageDto) on controller RealEstateApi.Controllers.PropertyListingsController (RealEstateApi).
2025-06-18 11:28:56.879 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."AgentId", s."Bathrooms", s."Bedrooms", s."CreatedAt", s."Description", s."IsDeleted", s."Location", s."Price", s."SquareFeet", s."Title", s."Id0", s."AgencyName", s."LicenseNumber", s."Phone", p1."Id", p1."DeletedAt", p1."FileName", p1."FileUrl", p1."IsDeleted", p1."PropertyListingId", i."Id", i."BuyerId", i."CreatedAt", i."ListingId", i."Message"
FROM (
    SELECT p."Id", p."AgentId", p."Bathrooms", p."Bedrooms", p."CreatedAt", p."Description", p."IsDeleted", p."Location", p."Price", p."SquareFeet", p."Title", a."Id" AS "Id0", a."AgencyName", a."LicenseNumber", a."Phone"
    FROM "PropertyListings" AS p
    INNER JOIN "Agents" AS a ON p."AgentId" = a."Id"
    WHERE NOT (p."IsDeleted") AND p."Id" = @__id_0
    LIMIT 1
) AS s
LEFT JOIN (
    SELECT p0."Id", p0."DeletedAt", p0."FileName", p0."FileUrl", p0."IsDeleted", p0."PropertyListingId"
    FROM "PropertyImages" AS p0
    WHERE NOT (p0."IsDeleted")
) AS p1 ON s."Id" = p1."PropertyListingId"
LEFT JOIN "Inquiries" AS i ON s."Id" = i."ListingId"
ORDER BY s."Id", s."Id0", p1."Id"
2025-06-18 11:28:56.884 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime), @p2='?', @p3='?', @p4='?' (DbType = Boolean), @p5='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "PropertyImages" ("Id", "DeletedAt", "FileName", "FileUrl", "IsDeleted", "PropertyListingId")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2025-06-18 11:28:56.885 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?', @p3='?', @p4='?', @p5='?', @p6='?' (DbType = DateTime), @p7='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AuditLogs" ("Id", "ActionType", "NewValues", "OldValues", "PrimaryKey", "TableName", "Timestamp", "UserId")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
2025-06-18 11:28:56.886 +05:30 [INF] Executing OkObjectResult, writing value of type 'RealEstateApi.Models.PropertyImage'.
2025-06-18 11:28:56.886 +05:30 [INF] Executed action RealEstateApi.Controllers.PropertyListingsController.UploadImage (RealEstateApi) in 32.9854ms
2025-06-18 11:28:56.886 +05:30 [INF] Executed endpoint 'RealEstateApi.Controllers.PropertyListingsController.UploadImage (RealEstateApi)'
2025-06-18 11:28:56.887 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5011/api/v1/PropertyListings/images/upload - 200 null application/json; charset=utf-8 35.9698ms
2025-06-18 11:29:31.297 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5011/api/v1/PropertyListings/01977d24-66b8-72f1-8aaf-dba04f1e049a - null null
2025-06-18 11:29:31.298 +05:30 [INF] Executing endpoint 'RealEstateApi.Controllers.PropertyListingsController.GetListingById (RealEstateApi)'
2025-06-18 11:29:31.298 +05:30 [INF] Route matched with {action = "GetListingById", controller = "PropertyListings"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetListingById(System.Guid) on controller RealEstateApi.Controllers.PropertyListingsController (RealEstateApi).
2025-06-18 11:29:31.302 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."AgentId", s."Bathrooms", s."Bedrooms", s."CreatedAt", s."Description", s."IsDeleted", s."Location", s."Price", s."SquareFeet", s."Title", s."Id0", s."AgencyName", s."LicenseNumber", s."Phone", p1."Id", p1."DeletedAt", p1."FileName", p1."FileUrl", p1."IsDeleted", p1."PropertyListingId", i."Id", i."BuyerId", i."CreatedAt", i."ListingId", i."Message"
FROM (
    SELECT p."Id", p."AgentId", p."Bathrooms", p."Bedrooms", p."CreatedAt", p."Description", p."IsDeleted", p."Location", p."Price", p."SquareFeet", p."Title", a."Id" AS "Id0", a."AgencyName", a."LicenseNumber", a."Phone"
    FROM "PropertyListings" AS p
    INNER JOIN "Agents" AS a ON p."AgentId" = a."Id"
    WHERE NOT (p."IsDeleted") AND p."Id" = @__id_0
    LIMIT 1
) AS s
LEFT JOIN (
    SELECT p0."Id", p0."DeletedAt", p0."FileName", p0."FileUrl", p0."IsDeleted", p0."PropertyListingId"
    FROM "PropertyImages" AS p0
    WHERE NOT (p0."IsDeleted")
) AS p1 ON s."Id" = p1."PropertyListingId"
LEFT JOIN "Inquiries" AS i ON s."Id" = i."ListingId"
ORDER BY s."Id", s."Id0", p1."Id"
2025-06-18 11:29:31.316 +05:30 [INF] Executing OkObjectResult, writing value of type 'RealEstateApi.Models.PropertyListing'.
2025-06-18 11:29:31.316 +05:30 [INF] Executed action RealEstateApi.Controllers.PropertyListingsController.GetListingById (RealEstateApi) in 17.1765ms
2025-06-18 11:29:31.316 +05:30 [INF] Executed endpoint 'RealEstateApi.Controllers.PropertyListingsController.GetListingById (RealEstateApi)'
2025-06-18 11:29:31.319 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5011/api/v1/PropertyListings/01977d24-66b8-72f1-8aaf-dba04f1e049a - 200 null application/json; charset=utf-8 21.7893ms
2025-06-18 11:30:23.719 +05:30 [INF] Request starting HTTP/1.1 DELETE http://localhost:5011/api/v1/PropertyImages/0197819e-7c72-7632-8840-adc70e3d115b - null null
2025-06-18 11:30:23.721 +05:30 [INF] CORS policy execution failed.
2025-06-18 11:30:23.721 +05:30 [INF] Request origin http://localhost:5011 does not have permission to access the resource.
2025-06-18 11:30:23.721 +05:30 [INF] Executing endpoint 'RealEstateApi.Controllers.PropertyImagesController.SoftDeletePropertyImage (RealEstateApi)'
2025-06-18 11:30:23.721 +05:30 [INF] Route matched with {action = "SoftDeletePropertyImage", controller = "PropertyImages"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SoftDeletePropertyImage(System.Guid) on controller RealEstateApi.Controllers.PropertyImagesController (RealEstateApi).
2025-06-18 11:30:23.724 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."DeletedAt", p."FileName", p."FileUrl", p."IsDeleted", p."PropertyListingId", p0."Id", p0."AgentId", p0."Bathrooms", p0."Bedrooms", p0."CreatedAt", p0."Description", p0."IsDeleted", p0."Location", p0."Price", p0."SquareFeet", p0."Title"
FROM "PropertyImages" AS p
INNER JOIN "PropertyListings" AS p0 ON p."PropertyListingId" = p0."Id"
WHERE NOT (p."IsDeleted") AND p."Id" = @__id_0
LIMIT 2
2025-06-18 11:30:23.743 +05:30 [INF] Executed DbCommand (17ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."AgentId", s."Bathrooms", s."Bedrooms", s."CreatedAt", s."Description", s."IsDeleted", s."Location", s."Price", s."SquareFeet", s."Title", s."Id0", s."AgencyName", s."LicenseNumber", s."Phone", p1."Id", p1."DeletedAt", p1."FileName", p1."FileUrl", p1."IsDeleted", p1."PropertyListingId", i."Id", i."BuyerId", i."CreatedAt", i."ListingId", i."Message"
FROM (
    SELECT p."Id", p."AgentId", p."Bathrooms", p."Bedrooms", p."CreatedAt", p."Description", p."IsDeleted", p."Location", p."Price", p."SquareFeet", p."Title", a."Id" AS "Id0", a."AgencyName", a."LicenseNumber", a."Phone"
    FROM "PropertyListings" AS p
    INNER JOIN "Agents" AS a ON p."AgentId" = a."Id"
    WHERE NOT (p."IsDeleted") AND p."Id" = @__id_0
    LIMIT 1
) AS s
LEFT JOIN (
    SELECT p0."Id", p0."DeletedAt", p0."FileName", p0."FileUrl", p0."IsDeleted", p0."PropertyListingId"
    FROM "PropertyImages" AS p0
    WHERE NOT (p0."IsDeleted")
) AS p1 ON s."Id" = p1."PropertyListingId"
LEFT JOIN "Inquiries" AS i ON s."Id" = i."ListingId"
ORDER BY s."Id", s."Id0", p1."Id"
2025-06-18 11:30:23.745 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."DeletedAt", p."FileName", p."FileUrl", p."IsDeleted", p."PropertyListingId", p0."Id", p0."AgentId", p0."Bathrooms", p0."Bedrooms", p0."CreatedAt", p0."Description", p0."IsDeleted", p0."Location", p0."Price", p0."SquareFeet", p0."Title"
FROM "PropertyImages" AS p
INNER JOIN "PropertyListings" AS p0 ON p."PropertyListingId" = p0."Id"
WHERE NOT (p."IsDeleted") AND p."Id" = @__id_0
LIMIT 2
2025-06-18 11:30:23.747 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."DeletedAt", p."FileName", p."FileUrl", p."IsDeleted", p."PropertyListingId", p0."Id", p0."AgentId", p0."Bathrooms", p0."Bedrooms", p0."CreatedAt", p0."Description", p0."IsDeleted", p0."Location", p0."Price", p0."SquareFeet", p0."Title"
FROM "PropertyImages" AS p
INNER JOIN "PropertyListings" AS p0 ON p."PropertyListingId" = p0."Id"
WHERE NOT (p."IsDeleted") AND p."Id" = @__id_0
LIMIT 2
2025-06-18 11:30:23.749 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@p2='?' (DbType = Guid), @p0='?' (DbType = DateTime), @p1='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
UPDATE "PropertyImages" SET "DeletedAt" = @p0, "IsDeleted" = @p1
WHERE "Id" = @p2;
2025-06-18 11:30:23.751 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?', @p3='?', @p4='?', @p5='?', @p6='?' (DbType = DateTime), @p7='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AuditLogs" ("Id", "ActionType", "NewValues", "OldValues", "PrimaryKey", "TableName", "Timestamp", "UserId")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
2025-06-18 11:30:23.751 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2025-06-18 11:30:23.752 +05:30 [INF] Executed action RealEstateApi.Controllers.PropertyImagesController.SoftDeletePropertyImage (RealEstateApi) in 30.6804ms
2025-06-18 11:30:23.752 +05:30 [INF] Executed endpoint 'RealEstateApi.Controllers.PropertyImagesController.SoftDeletePropertyImage (RealEstateApi)'
2025-06-18 11:30:23.752 +05:30 [INF] Request finished HTTP/1.1 DELETE http://localhost:5011/api/v1/PropertyImages/0197819e-7c72-7632-8840-adc70e3d115b - 200 null text/plain; charset=utf-8 32.5405ms
2025-06-18 11:30:50.745 +05:30 [INF] Request starting HTTP/1.1 DELETE http://localhost:5011/api/v1/PropertyImages/0197819e-69d3-7659-9d9d-0a2b22298513 - null null
2025-06-18 11:30:50.746 +05:30 [INF] CORS policy execution failed.
2025-06-18 11:30:50.746 +05:30 [INF] Request origin http://localhost:5011 does not have permission to access the resource.
2025-06-18 11:30:50.746 +05:30 [INF] Executing endpoint 'RealEstateApi.Controllers.PropertyImagesController.SoftDeletePropertyImage (RealEstateApi)'
2025-06-18 11:30:50.746 +05:30 [INF] Route matched with {action = "SoftDeletePropertyImage", controller = "PropertyImages"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SoftDeletePropertyImage(System.Guid) on controller RealEstateApi.Controllers.PropertyImagesController (RealEstateApi).
2025-06-18 11:30:50.780 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."DeletedAt", p."FileName", p."FileUrl", p."IsDeleted", p."PropertyListingId", p0."Id", p0."AgentId", p0."Bathrooms", p0."Bedrooms", p0."CreatedAt", p0."Description", p0."IsDeleted", p0."Location", p0."Price", p0."SquareFeet", p0."Title"
FROM "PropertyImages" AS p
INNER JOIN "PropertyListings" AS p0 ON p."PropertyListingId" = p0."Id"
WHERE NOT (p."IsDeleted") AND p."Id" = @__id_0
LIMIT 2
2025-06-18 11:30:50.783 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."AgentId", s."Bathrooms", s."Bedrooms", s."CreatedAt", s."Description", s."IsDeleted", s."Location", s."Price", s."SquareFeet", s."Title", s."Id0", s."AgencyName", s."LicenseNumber", s."Phone", p1."Id", p1."DeletedAt", p1."FileName", p1."FileUrl", p1."IsDeleted", p1."PropertyListingId", i."Id", i."BuyerId", i."CreatedAt", i."ListingId", i."Message"
FROM (
    SELECT p."Id", p."AgentId", p."Bathrooms", p."Bedrooms", p."CreatedAt", p."Description", p."IsDeleted", p."Location", p."Price", p."SquareFeet", p."Title", a."Id" AS "Id0", a."AgencyName", a."LicenseNumber", a."Phone"
    FROM "PropertyListings" AS p
    INNER JOIN "Agents" AS a ON p."AgentId" = a."Id"
    WHERE NOT (p."IsDeleted") AND p."Id" = @__id_0
    LIMIT 1
) AS s
LEFT JOIN (
    SELECT p0."Id", p0."DeletedAt", p0."FileName", p0."FileUrl", p0."IsDeleted", p0."PropertyListingId"
    FROM "PropertyImages" AS p0
    WHERE NOT (p0."IsDeleted")
) AS p1 ON s."Id" = p1."PropertyListingId"
LEFT JOIN "Inquiries" AS i ON s."Id" = i."ListingId"
ORDER BY s."Id", s."Id0", p1."Id"
2025-06-18 11:30:50.784 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."DeletedAt", p."FileName", p."FileUrl", p."IsDeleted", p."PropertyListingId", p0."Id", p0."AgentId", p0."Bathrooms", p0."Bedrooms", p0."CreatedAt", p0."Description", p0."IsDeleted", p0."Location", p0."Price", p0."SquareFeet", p0."Title"
FROM "PropertyImages" AS p
INNER JOIN "PropertyListings" AS p0 ON p."PropertyListingId" = p0."Id"
WHERE NOT (p."IsDeleted") AND p."Id" = @__id_0
LIMIT 2
2025-06-18 11:30:50.785 +05:30 [INF] Executed DbCommand (0ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."DeletedAt", p."FileName", p."FileUrl", p."IsDeleted", p."PropertyListingId", p0."Id", p0."AgentId", p0."Bathrooms", p0."Bedrooms", p0."CreatedAt", p0."Description", p0."IsDeleted", p0."Location", p0."Price", p0."SquareFeet", p0."Title"
FROM "PropertyImages" AS p
INNER JOIN "PropertyListings" AS p0 ON p."PropertyListingId" = p0."Id"
WHERE NOT (p."IsDeleted") AND p."Id" = @__id_0
LIMIT 2
2025-06-18 11:30:50.787 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@p2='?' (DbType = Guid), @p0='?' (DbType = DateTime), @p1='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
UPDATE "PropertyImages" SET "DeletedAt" = @p0, "IsDeleted" = @p1
WHERE "Id" = @p2;
2025-06-18 11:30:50.789 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?', @p3='?', @p4='?', @p5='?', @p6='?' (DbType = DateTime), @p7='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AuditLogs" ("Id", "ActionType", "NewValues", "OldValues", "PrimaryKey", "TableName", "Timestamp", "UserId")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
2025-06-18 11:30:50.790 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2025-06-18 11:30:50.790 +05:30 [INF] Executed action RealEstateApi.Controllers.PropertyImagesController.SoftDeletePropertyImage (RealEstateApi) in 43.622ms
2025-06-18 11:30:50.790 +05:30 [INF] Executed endpoint 'RealEstateApi.Controllers.PropertyImagesController.SoftDeletePropertyImage (RealEstateApi)'
2025-06-18 11:30:50.790 +05:30 [INF] Request finished HTTP/1.1 DELETE http://localhost:5011/api/v1/PropertyImages/0197819e-69d3-7659-9d9d-0a2b22298513 - 200 null text/plain; charset=utf-8 44.711ms
2025-06-18 11:31:16.761 +05:30 [INF] Request starting HTTP/1.1 DELETE http://localhost:5011/api/v1/PropertyImages/0197819b-a403-74c0-84ed-cec74af10fa7 - null null
2025-06-18 11:31:16.761 +05:30 [INF] CORS policy execution failed.
2025-06-18 11:31:16.761 +05:30 [INF] Request origin http://localhost:5011 does not have permission to access the resource.
2025-06-18 11:31:16.761 +05:30 [INF] Executing endpoint 'RealEstateApi.Controllers.PropertyImagesController.SoftDeletePropertyImage (RealEstateApi)'
2025-06-18 11:31:16.761 +05:30 [INF] Route matched with {action = "SoftDeletePropertyImage", controller = "PropertyImages"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SoftDeletePropertyImage(System.Guid) on controller RealEstateApi.Controllers.PropertyImagesController (RealEstateApi).
2025-06-18 11:31:16.764 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."DeletedAt", p."FileName", p."FileUrl", p."IsDeleted", p."PropertyListingId", p0."Id", p0."AgentId", p0."Bathrooms", p0."Bedrooms", p0."CreatedAt", p0."Description", p0."IsDeleted", p0."Location", p0."Price", p0."SquareFeet", p0."Title"
FROM "PropertyImages" AS p
INNER JOIN "PropertyListings" AS p0 ON p."PropertyListingId" = p0."Id"
WHERE NOT (p."IsDeleted") AND p."Id" = @__id_0
LIMIT 2
2025-06-18 11:31:16.766 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT s."Id", s."AgentId", s."Bathrooms", s."Bedrooms", s."CreatedAt", s."Description", s."IsDeleted", s."Location", s."Price", s."SquareFeet", s."Title", s."Id0", s."AgencyName", s."LicenseNumber", s."Phone", p1."Id", p1."DeletedAt", p1."FileName", p1."FileUrl", p1."IsDeleted", p1."PropertyListingId", i."Id", i."BuyerId", i."CreatedAt", i."ListingId", i."Message"
FROM (
    SELECT p."Id", p."AgentId", p."Bathrooms", p."Bedrooms", p."CreatedAt", p."Description", p."IsDeleted", p."Location", p."Price", p."SquareFeet", p."Title", a."Id" AS "Id0", a."AgencyName", a."LicenseNumber", a."Phone"
    FROM "PropertyListings" AS p
    INNER JOIN "Agents" AS a ON p."AgentId" = a."Id"
    WHERE NOT (p."IsDeleted") AND p."Id" = @__id_0
    LIMIT 1
) AS s
LEFT JOIN (
    SELECT p0."Id", p0."DeletedAt", p0."FileName", p0."FileUrl", p0."IsDeleted", p0."PropertyListingId"
    FROM "PropertyImages" AS p0
    WHERE NOT (p0."IsDeleted")
) AS p1 ON s."Id" = p1."PropertyListingId"
LEFT JOIN "Inquiries" AS i ON s."Id" = i."ListingId"
ORDER BY s."Id", s."Id0", p1."Id"
2025-06-18 11:31:16.768 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."DeletedAt", p."FileName", p."FileUrl", p."IsDeleted", p."PropertyListingId", p0."Id", p0."AgentId", p0."Bathrooms", p0."Bedrooms", p0."CreatedAt", p0."Description", p0."IsDeleted", p0."Location", p0."Price", p0."SquareFeet", p0."Title"
FROM "PropertyImages" AS p
INNER JOIN "PropertyListings" AS p0 ON p."PropertyListingId" = p0."Id"
WHERE NOT (p."IsDeleted") AND p."Id" = @__id_0
LIMIT 2
2025-06-18 11:31:16.769 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."DeletedAt", p."FileName", p."FileUrl", p."IsDeleted", p."PropertyListingId", p0."Id", p0."AgentId", p0."Bathrooms", p0."Bedrooms", p0."CreatedAt", p0."Description", p0."IsDeleted", p0."Location", p0."Price", p0."SquareFeet", p0."Title"
FROM "PropertyImages" AS p
INNER JOIN "PropertyListings" AS p0 ON p."PropertyListingId" = p0."Id"
WHERE NOT (p."IsDeleted") AND p."Id" = @__id_0
LIMIT 2
2025-06-18 11:31:16.771 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@p2='?' (DbType = Guid), @p0='?' (DbType = DateTime), @p1='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
UPDATE "PropertyImages" SET "DeletedAt" = @p0, "IsDeleted" = @p1
WHERE "Id" = @p2;
2025-06-18 11:31:16.773 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?', @p3='?', @p4='?', @p5='?', @p6='?' (DbType = DateTime), @p7='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AuditLogs" ("Id", "ActionType", "NewValues", "OldValues", "PrimaryKey", "TableName", "Timestamp", "UserId")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
2025-06-18 11:31:16.773 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2025-06-18 11:31:16.774 +05:30 [INF] Executed action RealEstateApi.Controllers.PropertyImagesController.SoftDeletePropertyImage (RealEstateApi) in 12.3518ms
2025-06-18 11:31:16.774 +05:30 [INF] Executed endpoint 'RealEstateApi.Controllers.PropertyImagesController.SoftDeletePropertyImage (RealEstateApi)'
2025-06-18 11:31:16.774 +05:30 [INF] Request finished HTTP/1.1 DELETE http://localhost:5011/api/v1/PropertyImages/0197819b-a403-74c0-84ed-cec74af10fa7 - 200 null text/plain; charset=utf-8 13.3892ms
2025-06-18 11:31:17.728 +05:30 [INF] Request starting HTTP/1.1 DELETE http://localhost:5011/api/v1/PropertyImages/0197819b-a403-74c0-84ed-cec74af10fa7 - null null
2025-06-18 11:31:17.728 +05:30 [INF] CORS policy execution failed.
2025-06-18 11:31:17.728 +05:30 [INF] Request origin http://localhost:5011 does not have permission to access the resource.
2025-06-18 11:31:17.729 +05:30 [INF] Executing endpoint 'RealEstateApi.Controllers.PropertyImagesController.SoftDeletePropertyImage (RealEstateApi)'
2025-06-18 11:31:17.729 +05:30 [INF] Route matched with {action = "SoftDeletePropertyImage", controller = "PropertyImages"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SoftDeletePropertyImage(System.Guid) on controller RealEstateApi.Controllers.PropertyImagesController (RealEstateApi).
2025-06-18 11:31:17.731 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."DeletedAt", p."FileName", p."FileUrl", p."IsDeleted", p."PropertyListingId", p0."Id", p0."AgentId", p0."Bathrooms", p0."Bedrooms", p0."CreatedAt", p0."Description", p0."IsDeleted", p0."Location", p0."Price", p0."SquareFeet", p0."Title"
FROM "PropertyImages" AS p
INNER JOIN "PropertyListings" AS p0 ON p."PropertyListingId" = p0."Id"
WHERE NOT (p."IsDeleted") AND p."Id" = @__id_0
LIMIT 2
2025-06-18 11:31:17.731 +05:30 [INF] Executing NotFoundObjectResult, writing value of type 'System.String'.
2025-06-18 11:31:17.732 +05:30 [INF] Executed action RealEstateApi.Controllers.PropertyImagesController.SoftDeletePropertyImage (RealEstateApi) in 2.8686ms
2025-06-18 11:31:17.732 +05:30 [INF] Executed endpoint 'RealEstateApi.Controllers.PropertyImagesController.SoftDeletePropertyImage (RealEstateApi)'
2025-06-18 11:31:17.732 +05:30 [INF] Request finished HTTP/1.1 DELETE http://localhost:5011/api/v1/PropertyImages/0197819b-a403-74c0-84ed-cec74af10fa7 - 404 null text/plain; charset=utf-8 4.3056ms
